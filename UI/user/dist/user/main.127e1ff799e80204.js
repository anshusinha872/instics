"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[179],{2011:(ht,Se,k)=>{k.d(Se,{Dh:()=>de,GT:()=>me,cc:()=>Ne,hO:()=>Be,on:()=>z,pX:()=>ae,xv:()=>ye});var c=k(4650),H=k(9260),O=k(2122);ht=k.hmd(ht);const ie=["ngOnDestroy"],ae=(pe,Ye,Ke,ke={})=>new Proxy(pe,{get:(Me,Ee)=>Ke.runOutsideAngular(()=>{var $e;if(pe[Ee])return!(null===($e=ke?.spy)||void 0===$e)&&$e.get&&ke.spy.get(Ee,pe[Ee]),pe[Ee];if(ie.indexOf(Ee)>-1)return()=>{};const re=Ye.toPromise().then(le=>{const _e=le&&le[Ee];return"function"==typeof _e?_e.bind(le):_e&&_e.then?_e.then(Y=>Ke.run(()=>Y)):Ke.run(()=>_e)});return new Proxy(()=>{},{get:(le,_e)=>re[_e],apply:(le,_e,Y)=>re.then(J=>{var fe;const se=J&&J(...Y);return!(null===(fe=ke?.spy)||void 0===fe)&&fe.apply&&ke.spy.apply(Ee,Y,se),se})})})}),me=(pe,Ye)=>{Ye.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(ke=>{Object.defineProperty(pe.prototype,ke,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,ke))})})};class he{constructor(Ye){return Ye}}const de=new c.OlP("angularfire2.app.options"),ye=new c.OlP("angularfire2.app.name");function z(pe,Ye,Ke){const Me="object"==typeof Ke&&Ke||{};Me.name=Me.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const $e=H.Z.apps.filter(re=>re&&re.name===Me.name)[0]||Ye.runOutsideAngular(()=>H.Z.initializeApp(pe,Me));try{JSON.stringify(pe)!==JSON.stringify($e.options)&&q("error",`${$e.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he($e)}const q=(pe,...Ye)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...Ye)},Q={provide:he,useFactory:z,deps:[de,c.R0b,[new c.FiY,ye]]};let Be=(()=>{class pe{constructor(Ke){H.Z.registerVersion("angularfire",O.q4.full,"core"),H.Z.registerVersion("angularfire",O.q4.full,"app-compat"),H.Z.registerVersion("angular",c.q4F.full,Ke.toString())}static initializeApp(Ke,ke){return{ngModule:pe,providers:[{provide:de,useValue:Ke},{provide:ye,useValue:ke}]}}}return pe.\u0275fac=function(Ke){return new(Ke||pe)(c.LFG(c.Lbi))},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({providers:[Q]}),pe})();function Ne(pe,Ye,Ke,ke,Me){const[,Ee,$e]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===pe)||[];if(Ee)return function Ie(pe,Ye){try{return pe.toString()===Ye.toString()}catch{return pe===Ye}}(Me,$e)||(ve("error",`${Ye} was already initialized on the ${Ke} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Me,was:$e})),Ee;{const re=ke();return globalThis.\u0275AngularfireInstanceCache.push([pe,re,Me]),re}}const tt=!!ht.hot,ve=(pe,...Ye)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ht,Se,k)=>{k.d(Se,{q4:()=>oi,iC:()=>Cs,HU:()=>Zo,vb:()=>Sl,JM:()=>Ra});var c=k(4650),H=k(259),O=k(5861),ie=k(9681),ae=k(2090),me=k(4859),he=k(1877),de=k(8766);const ye="@firebase/installations",z="0.6.0",Q=`w:${z}`,Be="FIS_v2",Ye=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(C){return C instanceof ae.ZR&&C.code.includes("request-failed")}function ke({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Me(C){return{token:C.token,requestStatus:2,expiresIn:J(C.expiresIn),creationTime:Date.now()}}function Ee(C,D){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(C,D){const B=(yield D.json()).error;return Ye.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function re({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function le(C,{refreshToken:D}){const M=re(C);return M.append("Authorization",function fe(C){return`${Be} ${C}`}(D)),M}function _e(C){return Y.apply(this,arguments)}function Y(){return(Y=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function J(C){return Number(C.replace("s","000"))}function se(C,D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:M}){const B=ke(C),X=re(C),oe=D.getImmediate({optional:!0});if(oe){const ut=yield oe.getHeartbeatsHeader();ut&&X.append("x-firebase-client",ut)}const et={method:"POST",headers:X,body:JSON.stringify({fid:M,authVersion:Be,appId:C.appId,sdkVersion:Q})},at=yield _e(()=>fetch(B,et));if(at.ok){const ut=yield at.json();return{fid:ut.fid||M,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Me(ut.authToken)}}throw yield Ee("Create Installation",at)})).apply(this,arguments)}function Ue(C){return new Promise(D=>{setTimeout(D,C)})}const rn=/^[cdef][\w-]{21}$/;function ze(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function cn(C){return function _t(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return rn.test(M)?M:""}catch{return""}}function In(C){return`${C.appName}!${C.appId}`}const tn=new Map;function nn(C,D){const M=In(C);br(M,D),function xi(C,D){const M=function Rn(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=C=>{br(C.data.key,C.data.fid)}),Nr}();M&&M.postMessage({key:C,fid:D}),function ji(){0===tn.size&&Nr&&(Nr.close(),Nr=null)}()}(M,D)}function br(C,D){const M=tn.get(C);if(M)for(const B of M)B(D)}let Nr=null;const $n="firebase-installations-store";let pi=null;function Gi(){return pi||(pi=(0,de.X3)("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore($n)}})),pi}function Ze(C,D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(C,D){const M=In(C),X=(yield Gi()).transaction($n,"readwrite"),oe=X.objectStore($n),Re=yield oe.get(M);return yield oe.put(D,M),yield X.done,(!Re||Re.fid!==D.fid)&&nn(C,D.fid),D})).apply(this,arguments)}function Gn(C){return bn.apply(this,arguments)}function bn(){return(bn=(0,O.Z)(function*(C){const D=In(C),B=(yield Gi()).transaction($n,"readwrite");yield B.objectStore($n).delete(D),yield B.done})).apply(this,arguments)}function lr(C,D){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,O.Z)(function*(C,D){const M=In(C),X=(yield Gi()).transaction($n,"readwrite"),oe=X.objectStore($n),Re=yield oe.get(M),et=D(Re);return void 0===et?yield oe.delete(M):yield oe.put(et,M),yield X.done,et&&(!Re||Re.fid!==et.fid)&&nn(C,et.fid),et})).apply(this,arguments)}function Cn(C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(C){let D;const M=yield lr(C.appConfig,B=>{const X=wn(B),oe=ft(C,X);return D=oe.registrationPromise,oe.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function wn(C){return At(C||{fid:ze(),registrationStatus:0})}function ft(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ye.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},B=function pt(C,D){return Pt.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:B}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:jr(C)}:{installationEntry:D}}function Pt(){return(Pt=(0,O.Z)(function*(C,D){try{const M=yield se(C,D);return Ze(C.appConfig,M)}catch(M){throw Ke(M)&&409===M.customData.serverCode?yield Gn(C.appConfig):yield Ze(C.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function jr(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,O.Z)(function*(C){let D=yield Ir(C.appConfig);for(;1===D.registrationStatus;)yield Ue(100),D=yield Ir(C.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:B}=yield Cn(C);return B||M}return D})).apply(this,arguments)}function Ir(C){return lr(C,D=>{if(!D)throw Ye.create("installation-not-found");return At(D)})}function At(C){return function Rr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Ut(C,D){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},M){const B=Zt(C,M),X=le(C,M),oe=D.getImmediate({optional:!0});if(oe){const ut=yield oe.getHeartbeatsHeader();ut&&X.append("x-firebase-client",ut)}const et={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Q,appId:C.appId}})},at=yield _e(()=>fetch(B,et));if(at.ok)return Me(yield at.json());throw yield Ee("Generate Auth Token",at)})).apply(this,arguments)}function Zt(C,{fid:D}){return`${ke(C)}/${D}/authTokens:generate`}function sr(C){return xn.apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(C,D=!1){let M;const B=yield lr(C.appConfig,oe=>{if(!en(oe))throw Ye.create("not-registered");const Re=oe.authToken;if(!D&&G(Re))return oe;if(1===Re.requestStatus)return M=Je(C,D),oe;{if(!navigator.onLine)throw Ye.create("app-offline");const et=Z(oe);return M=bt(C,et),et}});return M?yield M:B.authToken})).apply(this,arguments)}function Je(C,D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(C,D){let M=yield Xe(C.appConfig);for(;1===M.authToken.requestStatus;)yield Ue(100),M=yield Xe(C.appConfig);const B=M.authToken;return 0===B.requestStatus?sr(C,D):B})).apply(this,arguments)}function Xe(C){return lr(C,D=>{if(!en(D))throw Ye.create("not-registered");return function U(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function bt(C,D){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(C,D){try{const M=yield Ut(C,D),B=Object.assign(Object.assign({},D),{authToken:M});return yield Ze(C.appConfig,B),M}catch(M){if(!Ke(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const B=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ze(C.appConfig,B)}else yield Gn(C.appConfig);throw M}})).apply(this,arguments)}function en(C){return void 0!==C&&2===C.registrationStatus}function G(C){return 2===C.requestStatus&&!function j(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Z(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function F(){return(F=(0,O.Z)(function*(C){const D=C,{installationEntry:M,registrationPromise:B}=yield Cn(D);return B?B.catch(console.error):sr(D).catch(console.error),M.fid})).apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*(C,D=!1){const M=C;return yield nt(M),(yield sr(M,D)).token})).apply(this,arguments)}function nt(C){return ot.apply(this,arguments)}function ot(){return(ot=(0,O.Z)(function*(C){const{registrationPromise:D}=yield Cn(C);D&&(yield D)})).apply(this,arguments)}function Fs(C){return Ye.create("missing-app-config-values",{valueName:C})}const yo="installations",Vs=C=>{const D=C.getProvider("app").getImmediate(),M=function Tn(C){if(!C||!C.options)throw Fs("App Configuration");if(!C.name)throw Fs("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!C.options[M])throw Fs(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ie._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Us=C=>{const D=C.getProvider("app").getImmediate(),M=(0,ie._getProvider)(D,yo).getImmediate();return{getId:()=>function N(C){return F.apply(this,arguments)}(M),getToken:X=>function te(C){return Oe.apply(this,arguments)}(M,X)}};(function ul(){(0,ie._registerComponent)(new me.wA(yo,Vs,"PUBLIC")),(0,ie._registerComponent)(new me.wA("installations-internal",Us,"PRIVATE"))})(),(0,ie.registerVersion)(ye,z),(0,ie.registerVersion)(ye,z,"esm2017");const qi="@firebase/remote-config",qn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gs{constructor(D,M,B,X){this.client=D,this.storage=M,this.storageCache=B,this.logger=X}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-M,X=B<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${X}.`),X}fetch(D){var M=this;return(0,O.Z)(function*(){const[B,X]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(X&&M.isCachedDataFresh(D.cacheMaxAgeMillis,B))return X;D.eTag=X&&X.eTag;const oe=yield M.client.fetch(D),Re=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Re.push(M.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Re),oe})()}}function zs(C=navigator){return C.languages&&C.languages[0]||C.language}class qs{constructor(D,M,B,X,oe,Re){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=B,this.projectId=X,this.apiKey=oe,this.appId=Re}fetch(D){var M=this;return(0,O.Z)(function*(){const[B,X]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},at={sdk_version:M.sdkVersion,app_instance_id:B,app_instance_id_token:X,app_id:M.appId,language_code:zs()},ut={method:"POST",headers:et,body:JSON.stringify(at)},Kt=fetch(Re,ut),Mt=new Promise((cr,yr)=>{D.signal.addEventListener(()=>{const ns=new Error("The operation was aborted.");ns.name="AbortError",yr(ns)})});let mr;try{yield Promise.race([Kt,Mt]),mr=yield Kt}catch(cr){let yr="fetch-client-network";throw"AbortError"===cr?.name&&(yr="fetch-timeout"),qn.create(yr,{originalErrorMessage:cr?.message})}let jn=mr.status;const La=mr.headers.get("ETag")||void 0;let Al,Fa;if(200===mr.status){let cr;try{cr=yield mr.json()}catch(yr){throw qn.create("fetch-client-parse",{originalErrorMessage:yr?.message})}Al=cr.entries,Fa=cr.state}if("INSTANCE_STATE_UNSPECIFIED"===Fa?jn=500:"NO_CHANGE"===Fa?jn=304:("NO_TEMPLATE"===Fa||"EMPTY_CONFIG"===Fa)&&(Al={}),304!==jn&&200!==jn)throw qn.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:La,config:Al}})()}}class Ki{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,O.Z)(function*(){const B=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,B)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:B}){var X=this;return(0,O.Z)(function*(){yield function ni(C,D){return new Promise((M,B)=>{const X=Math.max(D-Date.now(),0),oe=setTimeout(M,X);C.addEventListener(()=>{clearTimeout(oe),B(qn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const oe=yield X.client.fetch(D);return yield X.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Pp(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(oe))throw oe;const Re={throttleEndTimeMillis:Date.now()+(0,ae.$s)(B),backoffCount:B+1};return yield X.storage.setThrottleMetadata(Re),X.attemptFetch(D,Re)}})()}}class Op{constructor(D,M,B,X,oe){this.app=D,this._client=M,this._storageCache=B,this._storage=X,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fa(C,D){const M=C.target.error||void 0;return qn.create(D,{originalErrorMessage:M&&M?.message})}const vo="app_namespace_store";class mc{constructor(D,M,B,X=function kp(){return new Promise((C,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=B=>{D(fa(B,"storage-open"))},M.onsuccess=B=>{C(B.target.result)},M.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(vo,{keyPath:"compositeKey"})}}catch(M){D(qn.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=D,this.appName=M,this.namespace=B,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,O.Z)(function*(){const B=yield M.openDbPromise;return new Promise((X,oe)=>{const et=B.transaction([vo],"readonly").objectStore(vo),at=M.createCompositeKey(D);try{const ut=et.get(at);ut.onerror=Kt=>{oe(fa(Kt,"storage-get"))},ut.onsuccess=Kt=>{const Mt=Kt.target.result;X(Mt?Mt.value:void 0)}}catch(ut){oe(qn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(D,M){var B=this;return(0,O.Z)(function*(){const X=yield B.openDbPromise;return new Promise((oe,Re)=>{const at=X.transaction([vo],"readwrite").objectStore(vo),ut=B.createCompositeKey(D);try{const Kt=at.put({compositeKey:ut,value:M});Kt.onerror=Mt=>{Re(fa(Mt,"storage-set"))},Kt.onsuccess=()=>{oe()}}catch(Kt){Re(qn.create("storage-set",{originalErrorMessage:Kt?.message}))}})})()}delete(D){var M=this;return(0,O.Z)(function*(){const B=yield M.openDbPromise;return new Promise((X,oe)=>{const et=B.transaction([vo],"readwrite").objectStore(vo),at=M.createCompositeKey(D);try{const ut=et.delete(at);ut.onerror=Kt=>{oe(fa(Kt,"storage-delete"))},ut.onsuccess=()=>{X()}}catch(ut){oe(qn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class wo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const M=D.storage.getLastFetchStatus(),B=D.storage.getLastSuccessfulFetchTimestampMillis(),X=D.storage.getActiveConfig(),oe=yield M;oe&&(D.lastFetchStatus=oe);const Re=yield B;Re&&(D.lastSuccessfulFetchTimestampMillis=Re);const et=yield X;et&&(D.activeConfig=et)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Py(){return hl.apply(this,arguments)}function hl(){return(hl=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function yc(){(0,ie._registerComponent)(new me.wA("remote-config",function C(D,{instanceIdentifier:M}){const B=D.getProvider("app").getImmediate(),X=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qn.create("registration-window");if(!(0,ae.hl)())throw qn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Re,appId:et}=B.options;if(!oe)throw qn.create("registration-project-id");if(!Re)throw qn.create("registration-api-key");if(!et)throw qn.create("registration-app-id");const at=new mc(et,B.name,M=M||"firebase"),ut=new wo(at),Kt=new he.Yd(qi);Kt.logLevel=he.in.ERROR;const Mt=new qs(X,ie.SDK_VERSION,M,oe,Re,et),mr=new Ki(Mt,at),jn=new Gs(mr,at,ut,Kt),La=new Op(B,jn,ut,at,Kt);return function kn(C){const D=(0,ae.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(La),La},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(qi,"0.4.0"),(0,ie.registerVersion)(qi,"0.4.0","esm2017")}();const pr="/firebase-messaging-sw.js",bo="/firebase-cloud-messaging-push-scope",ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fl="google.c.a.c_id",ou="google.c.a.c_l",wc="google.c.a.ts",Io="google.c.a.e";var ri=(()=>{return(C=ri||(ri={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ri;var C})();function Zi(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zr(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(M),X=new Uint8Array(B.length);for(let oe=0;oe<B.length;++oe)X[oe]=B.charCodeAt(oe);return X}const Ws="fcm_token_details_db",Co="fcm_token_object_Store";function Lp(C){return au.apply(this,arguments)}function au(){return au=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Ws))return null;let D=null;return(yield(0,de.X3)(Ws,5,{upgrade:(B=(0,O.Z)(function*(X,oe,Re,et){var at;if(oe<2||!X.objectStoreNames.contains(Co))return;const ut=et.objectStore(Co),Kt=yield ut.index("fcmSenderId").get(C);if(yield ut.clear(),Kt)if(2===oe){const Mt=Kt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;D={token:Mt.fcmToken,createTime:null!==(at=Mt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:Zi(Mt.vapidKey)}}}else if(3===oe){const Mt=Kt;D={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Zi(Mt.auth),p256dh:Zi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Zi(Mt.vapidKey)}}}else if(4===oe){const Mt=Kt;D={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Zi(Mt.auth),p256dh:Zi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Zi(Mt.vapidKey)}}}}),function(oe,Re,et,at){return B.apply(this,arguments)})})).close(),yield(0,de.Lj)(Ws),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Ln(D)?D:null;var B}),au.apply(this,arguments)}function Ln(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const mi="firebase-messaging-store";let gr=null;function pl(){return gr||(gr=(0,de.X3)("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(mi)}})),gr}function Ks(C){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,O.Z)(function*(C){const D=ii(C),B=yield(yield pl()).transaction(mi).objectStore(mi).get(D);if(B)return B;{const X=yield Lp(C.appConfig.senderId);if(X)return yield on(C,X),X}})).apply(this,arguments)}function on(C,D){return lu.apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*(C,D){const M=ii(C),X=(yield pl()).transaction(mi,"readwrite");return yield X.objectStore(mi).put(D,M),yield X.done,D})).apply(this,arguments)}function ys(C){return uu.apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*(C){const D=ii(C),B=(yield pl()).transaction(mi,"readwrite");yield B.objectStore(mi).delete(D),yield B.done})).apply(this,arguments)}function ii({appConfig:C}){return C.appId}const Un=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lt(C,D){return ga.apply(this,arguments)}function ga(){return(ga=(0,O.Z)(function*(C,D){const M=yield _a(C),B=Ae(D),X={method:"POST",headers:M,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(Zs(C.appConfig),X)).json()}catch(Re){throw Un.create("token-subscribe-failed",{errorInfo:Re?.toString()})}if(oe.error)throw Un.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Un.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Fp(C,D){return ma.apply(this,arguments)}function ma(){return(ma=(0,O.Z)(function*(C,D){const M=yield _a(C),B=Ae(D.subscriptionOptions),X={method:"PATCH",headers:M,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(`${Zs(C.appConfig)}/${D.token}`,X)).json()}catch(Re){throw Un.create("token-update-failed",{errorInfo:Re?.toString()})}if(oe.error)throw Un.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Un.create("token-update-no-token");return oe.token})).apply(this,arguments)}function bc(C,D){return ya.apply(this,arguments)}function ya(){return(ya=(0,O.Z)(function*(C,D){const B={method:"DELETE",headers:yield _a(C)};try{const oe=yield(yield fetch(`${Zs(C.appConfig)}/${D}`,B)).json();if(oe.error)throw Un.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(X){throw Un.create("token-unsubscribe-failed",{errorInfo:X?.toString()})}})).apply(this,arguments)}function Zs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function _a(C){return Do.apply(this,arguments)}function Do(){return(Do=(0,O.Z)(function*({appConfig:C,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Ae({p256dh:C,auth:D,endpoint:M,vapidKey:B}){const X={web:{endpoint:M,auth:D,p256dh:C}};return B!==ms&&(X.web.applicationPubKey=B),X}const Wt=6048e5;function sh(C){return To.apply(this,arguments)}function To(){return(To=(0,O.Z)(function*(C){const D=yield oh(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Zi(D.getKey("auth")),p256dh:Zi(D.getKey("p256dh"))},B=yield Ks(C.firebaseDependencies);if(B){if(Vp(B.subscriptionOptions,M))return Date.now()>=B.createTime+Wt?gl(C,{token:B.token,createTime:Date.now(),subscriptionOptions:M}):B.token;try{yield bc(C.firebaseDependencies,B.token)}catch(X){console.warn(X)}return ml(C.firebaseDependencies,M)}return ml(C.firebaseDependencies,M)})).apply(this,arguments)}function Qn(C){return So.apply(this,arguments)}function So(){return(So=(0,O.Z)(function*(C){const D=yield Ks(C.firebaseDependencies);D&&(yield bc(C.firebaseDependencies,D.token),yield ys(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function gl(C,D){return kr.apply(this,arguments)}function kr(){return(kr=(0,O.Z)(function*(C,D){try{const M=yield Fp(C.firebaseDependencies,D),B=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield on(C.firebaseDependencies,B),M}catch(M){throw yield Qn(C),M}})).apply(this,arguments)}function ml(C,D){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,O.Z)(function*(C,D){const B={token:yield Lt(C,D),createTime:Date.now(),subscriptionOptions:D};return yield on(C,B),B.token})).apply(this,arguments)}function oh(C,D){return va.apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zr(D)})})).apply(this,arguments)}function Vp(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Ys(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Jn(C,D){if(!D.notification)return;C.notification={};const M=D.notification.title;M&&(C.notification.title=M);const B=D.notification.body;B&&(C.notification.body=B);const X=D.notification.image;X&&(C.notification.image=X);const oe=D.notification.icon;oe&&(C.notification.icon=oe)}(D,C),function Ni(C,D){!D.data||(C.data=D.data)}(D,C),function wa(C,D){var M,B,X,oe,Re;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;C.fcmOptions={};const et=null!==(X=null===(B=D.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==X?X:null===(oe=D.notification)||void 0===oe?void 0:oe.click_action;et&&(C.fcmOptions.link=et);const at=null===(Re=D.fcmOptions)||void 0===Re?void 0:Re.analytics_label;at&&(C.fcmOptions.analyticsLabel=at)}(D,C),D}function Ea(C){return"object"==typeof C&&!!C&&fl in C}function Yi(C,D){const M=[];for(let B=0;B<C.length;B++)M.push(C.charAt(B)),B<D.length&&M.push(D.charAt(B));return M.join("")}function cu(C){return Un.create("missing-app-config-values",{valueName:C})}Yi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Cc{constructor(D,M,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function Ic(C){if(!C||!C.options)throw cu("App Configuration Object");if(!C.name)throw cu("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const B of D)if(!M[B])throw cu(B);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:X,installations:M,analyticsProvider:B}}_delete(){return Promise.resolve()}}function ah(C){return xo.apply(this,arguments)}function xo(){return(xo=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(pr,{scope:bo}),C.swRegistration.update().catch(()=>{})}catch(D){throw Un.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function du(C,D){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield ah(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function hu(C,D){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=ms)})).apply(this,arguments)}function Mo(){return(Mo=(0,O.Z)(function*(C,D){if(!navigator)throw Un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Un.create("permission-blocked");return yield hu(C,D?.vapidKey),yield du(C,D?.serviceWorkerRegistration),sh(C)})).apply(this,arguments)}function lh(C,D,M){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,O.Z)(function*(C,D,M){const B=uh(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:M[fl],message_name:M[ou],message_time:M[wc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uh(C){switch(C){case ri.NOTIFICATION_CLICKED:return"notification_open";case ri.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _s(){return(_s=(0,O.Z)(function*(C,D){const M=D.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===ri.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ys(M)):C.onMessageHandler.next(Ys(M)));const B=M.data;Ea(B)&&"1"===B[Io]&&(yield lh(C,M.messageType,B))})).apply(this,arguments)}const vs="@firebase/messaging",Pn=C=>{const D=new Cc(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Tc(C,D){return _s.apply(this,arguments)}(D,M)),D},Qi=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:B=>function Dc(C,D){return Mo.apply(this,arguments)}(D,B)}};function Ac(){return fu.apply(this,arguments)}function fu(){return(fu=(0,O.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nn(){(0,ie._registerComponent)(new me.wA("messaging",Pn,"PUBLIC")),(0,ie._registerComponent)(new me.wA("messaging-internal",Qi,"PRIVATE")),(0,ie.registerVersion)(vs,"0.12.0"),(0,ie.registerVersion)(vs,"0.12.0","esm2017")}();const Oo="analytics",Mc="firebase_id",yu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pc="https://www.googletagmanager.com/gtag/js",Bn=new he.Yd("@firebase/analytics");function _l(C){return Promise.all(C.map(D=>D.catch(M=>M)))}function vl(C,D){const M=document.createElement("script");M.src=`${Pc}?l=${C}&id=${D}`,M.async=!0,document.head.appendChild(M)}function dh(C,D,M,B,X,oe){return Da.apply(this,arguments)}function Da(){return(Da=(0,O.Z)(function*(C,D,M,B,X,oe){const Re=B[X];try{if(Re)yield D[Re];else{const at=(yield _l(M)).find(ut=>ut.measurementId===X);at&&(yield D[at.appId])}}catch(et){Bn.error(et)}C("config",X,oe)})).apply(this,arguments)}function Ji(C,D,M,B,X){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(C,D,M,B,X){try{let oe=[];if(X&&X.send_to){let Re=X.send_to;Array.isArray(Re)||(Re=[Re]);const et=yield _l(M);for(const at of Re){const ut=et.find(Mt=>Mt.measurementId===at),Kt=ut&&D[ut.appId];if(!Kt){oe=[];break}oe.push(Kt)}}0===oe.length&&(oe=Object.values(D)),yield Promise.all(oe),C("event",B,X||{})}catch(oe){Bn.error(oe)}})).apply(this,arguments)}function Nc(C){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(Pc)&&M.src.includes(C))return M;return null}const Xn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Aa=new class vu{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ro(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ph(C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,O.Z)(function*(C){var D;const{appId:M,apiKey:B}=C,X={method:"GET",headers:Ro(B)},oe=yu.replace("{app-id}",M),Re=yield fetch(oe,X);if(200!==Re.status&&304!==Re.status){let et="";try{const at=yield Re.json();null!==(D=at.error)&&void 0!==D&&D.message&&(et=at.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:et})}return Re.json()})).apply(this,arguments)}function Oc(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(C,D=Aa,M){const{appId:B,apiKey:X,measurementId:oe}=C.options;if(!B)throw Xn.create("no-app-id");if(!X){if(oe)return{measurementId:oe,appId:B};throw Xn.create("no-api-key")}const Re=D.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new xa;return setTimeout((0,O.Z)(function*(){et.abort()}),void 0!==M?M:6e4),Rc({appId:B,apiKey:X,measurementId:oe},Re,et,D)})).apply(this,arguments)}function Rc(C,D,M){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:M},B,X=Aa){var oe;const{appId:Re,measurementId:et}=C;try{yield wu(B,D)}catch(at){if(et)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:Re,measurementId:et};throw at}try{const at=yield ph(C);return X.deleteThrottleMetadata(Re),at}catch(at){const ut=at;if(!El(ut)){if(X.deleteThrottleMetadata(Re),et)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Re,measurementId:et};throw at}const Kt=503===Number(null===(oe=ut?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,ae.$s)(M,X.intervalMillis,30):(0,ae.$s)(M,X.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+Kt,backoffCount:M+1};return X.setThrottleMetadata(Re,Mt),Bn.debug(`Calling attemptFetch again in ${Kt} millis`),Rc(C,Mt,B,X)}})).apply(this,arguments)}function wu(C,D){return new Promise((M,B)=>{const X=Math.max(D-Date.now(),0),oe=setTimeout(M,X);C.addEventListener(()=>{clearTimeout(oe),B(Xn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function El(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class xa{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Qs,Il;function ko(){return(ko=(0,O.Z)(function*(C,D,M,B,X){if(X&&X.global)C("event",M,B);else{const oe=yield D;C("event",M,Object.assign(Object.assign({},B),{send_to:oe}))}})).apply(this,arguments)}function Vo(C){Il=C}function Eu(C){Qs=C}function Es(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*(){if(!(0,ae.hl)())return Bn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(C){return Bn.warn(Xn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*(C,D,M,B,X,oe,Re){var et;const at=Oc(C);at.then(jn=>{M[jn.measurementId]=jn.appId,C.options.measurementId&&jn.measurementId!==C.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>Bn.error(jn)),D.push(at);const ut=Es().then(jn=>{if(jn)return B.getId()}),[Kt,Mt]=yield Promise.all([at,ut]);Nc(oe)||vl(oe,Kt.measurementId),Il&&(X("consent","default",Il),Vo(void 0)),X("js",new Date);const mr=null!==(et=Re?.config)&&void 0!==et?et:{};return mr.origin="firebase",mr.update=!0,null!=Mt&&(mr[Mc]=Mt),X("config",Kt.measurementId,mr),Qs&&(X("set",Qs),Eu(void 0)),Kt.measurementId})).apply(this,arguments)}class Cl{constructor(D){this.app=D}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},Ho=[];const Xs={};let $o,Ri,jo="dataLayer",Lc=!1;function yh(C,D,M){!function Up(){const C=[];if((0,ae.ru)()&&C.push("This is a browser extension environment."),(0,ae.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((B,X)=>`(${X+1}) ${B}`).join(" "),M=Xn.create("invalid-analytics-context",{errorInfo:D});Bn.warn(M.message)}}();const B=C.options.appId;if(!B)throw Xn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Xn.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[B])throw Xn.create("already-exists",{id:B});if(!Lc){!function wl(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(jo);const{wrappedGtag:oe,gtagCore:Re}=function Sa(C,D,M,B,X){let oe=function(...Re){window[B].push(arguments)};return window[X]&&"function"==typeof window[X]&&(oe=window[X]),window[X]=function _u(C,D,M,B){function oe(){return(oe=(0,O.Z)(function*(Re,et,at){try{"event"===Re?yield Ji(C,D,M,et,at):"config"===Re?yield dh(C,D,M,B,et,at):"consent"===Re?C("consent","update",at):C("set",et)}catch(ut){Bn.error(ut)}})).apply(this,arguments)}return function X(Re,et,at){return oe.apply(this,arguments)}}(oe,C,D,M),{gtagCore:oe,wrappedGtag:window[X]}}(Cr,Ho,Xs,jo,"gtag");Ri=oe,$o=Re,Lc=!0}return Cr[B]=function mh(C,D,M,B,X,oe,Re){return Bo.apply(this,arguments)}(C,Ho,Xs,D,$o,jo,M),new Cl(C)}function Oy(){return _h.apply(this,arguments)}function _h(){return(_h=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const _i="@firebase/analytics";!function fn(){(0,ie._registerComponent)(new me.wA(Oo,(D,{options:M})=>yh(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ie._registerComponent)(new me.wA("analytics-internal",function C(D){try{const M=D.getProvider(Oo).getImmediate();return{logEvent:(B,X,oe)=>function zo(C,D,M,B){C=(0,ae.m9)(C),function Ma(C,D,M,B,X){return ko.apply(this,arguments)}(Ri,Cr[C.app.options.appId],D,M,B).catch(X=>Bn.error(X))}(M,B,X,oe)}}catch(M){throw Xn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ie.registerVersion)(_i,"0.9.0"),(0,ie.registerVersion)(_i,"0.9.0","esm2017")}();var bs=k(4408),pn=k(7565);const vh=new class vi extends pn.v{}(class Na extends bs.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(D,M,B):D.flush(this)}});var Fc=k(4986),Oa=k(8505),wh=k(9468),Eh=k(5363);const oi=new c.GfV("7.5.0"),qo="__angularfire_symbol__analyticsIsSupportedValue",Lr="__angularfire_symbol__analyticsIsSupported",Tl="__angularfire_symbol__remoteConfigIsSupportedValue",Wo="__angularfire_symbol__remoteConfigIsSupported",Vc="__angularfire_symbol__messagingIsSupportedValue",Ko="__angularfire_symbol__messagingIsSupported";function Ra(C,D,M){if(D){if(1===D.length)return D[0];const oe=D.filter(Re=>Re.app===M);if(1===oe.length)return oe[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[Lr]||(globalThis[Lr]=Oy().then(C=>globalThis[qo]=C).catch(()=>globalThis[qo]=!1)),globalThis[Ko]||(globalThis[Ko]=Ac().then(C=>globalThis[Vc]=C).catch(()=>globalThis[Vc]=!1)),globalThis[Wo]||(globalThis[Wo]=Py().then(C=>globalThis[Tl]=C).catch(()=>globalThis[Tl]=!1));const Sl=(C,D)=>{const M=D?[D]:(0,H.C6)(),B=[];return M.forEach(X=>{X.container.getProvider(C).instances.forEach(Re=>{B.includes(Re)||B.push(Re)})}),B};function es(){}class ts{constructor(D,M=vh){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,B){const X=this.zone;return this.delegate.schedule(function(Re){X.runGuarded(()=>{D.apply(this,[Re])})},M,B)}}class Du{constructor(D){this.zone=D,this.task=null}call(D,M){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)),M.pipe((0,Oa.b)({next:B,complete:B,error:B})).subscribe(D).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zo=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new ts(Zone.current)),this.insideAngular=M.run(()=>new ts(Zone.current,Fc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Is(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Cs(C){return Is(),function bh(C){return function(M){return(M=M.lift(new Du(C.ngZone))).pipe((0,wh.R)(C.outsideAngular),(0,Eh.Q)(C.insideAngular))}}(Is())(C)}},552:(ht,Se,k)=>{k.d(Se,{$:()=>Zs,A:()=>q,B:()=>Ne,G:()=>Us,H:()=>$r,J:()=>Ki,L:()=>G,M:()=>hl,N:()=>vc,P:()=>Fc,Q:()=>fl,R:()=>Bp,T:()=>ou,U:()=>ms,V:()=>ri,W:()=>Zi,X:()=>Lp,Y:()=>pa,Z:()=>Lt,_:()=>Fp,a:()=>ws,a0:()=>sh,a1:()=>Qn,a2:()=>gl,a3:()=>ml,a4:()=>oh,a5:()=>Vp,a6:()=>Jn,a7:()=>Ni,a8:()=>Ea,a9:()=>Yi,aA:()=>j,aB:()=>at,aC:()=>Hc,aD:()=>eo,aE:()=>vt,aI:()=>Ro,aL:()=>Io,aa:()=>ah,ab:()=>du,ac:()=>hu,af:()=>lh,ag:()=>uh,ah:()=>Tc,ak:()=>mi,al:()=>pu,an:()=>Pc,ao:()=>Da,ap:()=>_e,aq:()=>Fe,ar:()=>nt,as:()=>Ke,at:()=>Va,au:()=>cr,av:()=>Rt,aw:()=>ke,ax:()=>re,ay:()=>jn,az:()=>J,b:()=>Xn,c:()=>Vc,d:()=>Hp,e:()=>Cu,f:()=>bh,g:()=>B,h:()=>C,i:()=>Uo,j:()=>Re,k:()=>Ts,l:()=>Iu,m:()=>to,o:()=>de,r:()=>bs,s:()=>Dl,u:()=>vh});var c=k(5861),H=k(2090),O=k(9681),ie=k(1877),ae=k(655),me=k(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ie=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new ie.Yd("@firebase/auth");function Ye(v,...g){pe.logLevel<=ie.in.ERROR&&pe.error(`Auth (${O.SDK_VERSION}): ${v}`,...g)}function Ke(v,...g){throw $e(v,...g)}function ke(v,...g){return $e(v,...g)}function Me(v,g,m){const b=Object.assign(Object.assign({},Ie()),{[g]:m});return new H.LL("auth","Firebase",b).create(g,{appName:v.name})}function Ee(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ke(v,"argument-error"),Me(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return tt.create(v,...g)}function re(v,g,...m){if(!v)throw $e(g,...m)}function le(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Ye(g),new Error(g)}function _e(v,g){v||le(g)}const Y=new Map;function J(v){_e(v instanceof Function,"Expected a class definition");let g=Y.get(v);return g?(_e(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Y.set(v,g),g)}function Ve(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ue(){return"http:"===_t()||"https:"===_t()}function _t(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ze{constructor(g,m){this.shortDelay=g,this.longDelay=m,_e(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(v,g){_e(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class In{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new ze(3e4,6e4);function qt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Ht(v,g,m,b){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(v,g,m,b,x={}){return xi(v,x,(0,c.Z)(function*(){let R={},ee={};b&&("GET"===g?ee=b:R={body:JSON.stringify(b)});const Pe=(0,H.xO)(Object.assign({key:v.config.apiKey},ee)).slice(1),rt=yield v._getAdditionalHeaders();return rt["Content-Type"]="application/json",v.languageCode&&(rt["X-Firebase-Locale"]=v.languageCode),In.fetch()($i(v,v.config.apiHost,m,Pe),Object.assign({method:g,headers:rt,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function xi(v,g,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},tn),g);try{const x=new Or(v),R=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const ee=yield R.json();if("needConfirmation"in ee)throw $n(v,"account-exists-with-different-credential",ee);if(R.ok&&!("errorMessage"in ee))return ee;{const Pe=R.ok?ee.errorMessage:ee.error.message,[rt,Et]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw $n(v,"credential-already-in-use",ee);if("EMAIL_EXISTS"===rt)throw $n(v,"email-already-in-use",ee);if("USER_DISABLED"===rt)throw $n(v,"user-disabled",ee);const Tt=b[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(Et)throw Me(v,Tt,Et);Ke(v,Tt)}}catch(x){if(x instanceof H.ZR)throw x;Ke(v,"network-request-failed")}})).apply(this,arguments)}function Rn(v,g,m,b){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(v,g,m,b,x={}){const R=yield Ht(v,g,m,b,x);return"mfaPendingCredential"in R&&Ke(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function $i(v,g,m,b){const x=`${g}${m}?${b}`;return v.config.emulator?cn(v.config,x):`${v.config.apiScheme}://${x}`}class Or{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(ke(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=ke(v,g,b);return x.customData._tokenResponse=m,x}function Gi(){return(Gi=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ze(v,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Gn(v,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function lr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Dn(){return(Dn=(0,c.Z)(function*(v,g=!1){const m=(0,H.m9)(v),b=yield m.getIdToken(g),x=ft(b);re(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,ee=R?.sign_in_provider;return{claims:x,token:b,authTime:lr(wn(x.auth_time)),issuedAtTime:lr(wn(x.iat)),expirationTime:lr(wn(x.exp)),signInProvider:ee||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function wn(v){return 1e3*Number(v)}function ft(v){const[g,m,b]=v.split(".");if(void 0===g||void 0===m||void 0===b)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,H.tV)(m);return x?JSON.parse(x):(Ye("Failed to decode base64 JWT payload"),null)}catch(x){return Ye("Caught error parsing JWT payload as JSON",x?.toString()),null}}function Pt(v,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof H.ZR&&Zn(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Zn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ir{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class At{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(v){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),x=yield Pt(v,Gn(m,{idToken:b}));re(x?.users.length,m,"internal-error");const R=x.users[0];v._notifyReloadListener(R);const ee=null!==(g=R.providerUserInfo)&&void 0!==g&&g.length?xn(R.providerUserInfo):[],Pe=sr(v.providerData,ee),Tt=!!v.isAnonymous&&!(v.email&&R.passwordHash||Pe?.length),An={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Pe,metadata:new At(R.createdAt,R.lastLoginAt),isAnonymous:Tt};Object.assign(v,An)})).apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(v){const g=(0,H.m9)(v);yield Rr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function sr(v,g){return[...v.filter(b=>!g.some(x=>x.providerId===b.providerId)),...g]}function xn(v){return v.map(g=>{var{providerId:m}=g,b=(0,ae._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ce(){return(Ce=(0,c.Z)(function*(v,g){const m=yield xi(v,{},(0,c.Z)(function*(){const b=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:R}=v.config,ee=$i(v,x,"/v1/token",`key=${R}`),Pe=yield v._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",In.fetch()(ee,{method:"POST",headers:Pe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){re(g.idToken,"internal-error"),re(typeof g.idToken<"u","internal-error"),re(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function pt(v){const g=ft(v);return re(g,"internal-error"),re(typeof g.exp<"u","internal-error"),re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,c.Z)(function*(){return re(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,c.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:ee}=yield function Je(v,g){return Ce.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(x,R,Number(ee))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:x,expirationTime:R}=m,ee=new Xe;return b&&(re("string"==typeof b,"internal-error",{appName:g}),ee.refreshToken=b),x&&(re("string"==typeof x,"internal-error",{appName:g}),ee.accessToken=x),R&&(re("number"==typeof R,"internal-error",{appName:g}),ee.expirationTime=R),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return le("not implemented")}}function bt(v,g){re("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class xt{constructor(g){var{uid:m,auth:b,stsTokenManager:x}=g,R=(0,ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new At(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,c.Z)(function*(){const b=yield Pt(m,m.stsTokenManager.getToken(m.auth,g));return re(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function Cn(v){return Dn.apply(this,arguments)}(this,g)}reload(){return function Xr(v){return Zt.apply(this,arguments)}(this)}_assign(g){this!==g&&(re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,c.Z)(function*(){let x=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),x=!0),m&&(yield Rr(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,c.Z)(function*(){const m=yield g.getIdToken();return yield Pt(g,function pi(v,g){return Gi.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,x,R,ee,Pe,rt,Et,Tt;const An=null!==(b=m.displayName)&&void 0!==b?b:void 0,Kr=null!==(x=m.email)&&void 0!==x?x:void 0,Ss=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Oh=null!==(ee=m.photoURL)&&void 0!==ee?ee:void 0,Rh=null!==(Pe=m.tenantId)&&void 0!==Pe?Pe:void 0,kh=null!==(rt=m._redirectEventId)&&void 0!==rt?rt:void 0,By=null!==(Et=m.createdAt)&&void 0!==Et?Et:void 0,Hy=null!==(Tt=m.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Ml,emailVerified:Lh,isAnonymous:Ou,providerData:Kc,stsTokenManager:Ba}=m;re(Ml&&Ba,g,"internal-error");const Zc=Xe.fromJSON(this.name,Ba);re("string"==typeof Ml,g,"internal-error"),bt(An,g.name),bt(Kr,g.name),re("boolean"==typeof Lh,g,"internal-error"),re("boolean"==typeof Ou,g,"internal-error"),bt(Ss,g.name),bt(Oh,g.name),bt(Rh,g.name),bt(kh,g.name),bt(By,g.name),bt(Hy,g.name);const Fn=new xt({uid:Ml,auth:g,email:Kr,emailVerified:Lh,displayName:An,isAnonymous:Ou,photoURL:Oh,phoneNumber:Ss,tenantId:Rh,stsTokenManager:Zc,createdAt:By,lastLoginAt:Hy});return Kc&&Array.isArray(Kc)&&(Fn.providerData=Kc.map(Fh=>Object.assign({},Fh))),kh&&(Fn._redirectEventId=kh),Fn}static _fromIdTokenResponse(g,m,b=!1){return(0,c.Z)(function*(){const x=new Xe;x.updateFromServerResponse(m);const R=new xt({uid:m.localId,auth:g,stsTokenManager:x,isAnonymous:b});return yield Rr(R),R})()}}const G=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,c.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,c.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,c.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function j(v,g,m){return`firebase:${v}:${g}:${m}`}class Z{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:x,name:R}=this.auth;this.fullUserKey=j(this.userKey,x.apiKey,R),this.fullPersistenceKey=j("persistence",x.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?xt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,c.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Z(J(G),g,b);const x=(yield Promise.all(m.map(function(){var Et=(0,c.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return Et.apply(this,arguments)}}()))).filter(Et=>Et);let R=x[0]||J(G);const ee=j(b,g.config.apiKey,g.name);let Pe=null;for(const Et of m)try{const Tt=yield Et._get(ee);if(Tt){const An=xt._fromJSON(g,Tt);Et!==R&&(Pe=An),R=Et;break}}catch{}const rt=x.filter(Et=>Et._shouldAllowMigration);return R._shouldAllowMigration&&rt.length?(R=rt[0],Pe&&(yield R._set(ee,Pe.toJSON())),yield Promise.all(m.map(function(){var Et=(0,c.Z)(function*(Tt){if(Tt!==R)try{yield Tt._remove(ee)}catch{}});return function(Tt){return Et.apply(this,arguments)}}())),new Z(R,g,b)):new Z(R,g,b)})()}}function U(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Oe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(N(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ot(g))return"Blackberry";if(Te(g))return"Webos";if(F(g))return"Safari";if((g.includes("chrome/")||te(g))&&!g.includes("edge/"))return"Chrome";if(nt(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function N(v=(0,H.z$)()){return/firefox\//i.test(v)}function F(v=(0,H.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function te(v=(0,H.z$)()){return/crios\//i.test(v)}function Oe(v=(0,H.z$)()){return/iemobile/i.test(v)}function nt(v=(0,H.z$)()){return/android/i.test(v)}function ot(v=(0,H.z$)()){return/blackberry/i.test(v)}function Te(v=(0,H.z$)()){return/webos/i.test(v)}function Fe(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Rt(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function hn(v=(0,H.z$)()){return Fe(v)||nt(v)||Te(v)||ot(v)||/windows phone/i.test(v)||Oe(v)}function Tn(v,g=[]){let m;switch(v){case"Browser":m=U((0,H.z$)());break;case"Worker":m=`${U((0,H.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${b}`}class Fs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=R=>new Promise((ee,Pe)=>{try{ee(g(R))}catch(rt){Pe(rt)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const x of m.queue)yield x(g),x.onAbort&&b.push(x.onAbort)}catch(x){b.reverse();for(const R of b)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class yo{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vs(this),this.idTokenSubscription=new Vs(this),this.beforeStateQueue=new Fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=J(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var x,R;if(!b._deleted&&(b.persistenceManager=yield Z.create(b,g),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,c.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let R=x,ee=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Pe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,rt=R?._redirectEventId,Et=yield m.tryRedirectSignIn(g);(!Pe||Pe===rt)&&Et?.user&&(R=Et.user,ee=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(ee)try{yield m.beforeStateQueue.runMiddleware(R)}catch(Pe){R=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Pe))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(g){var m=this;return(0,c.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,c.Z)(function*(){try{yield Rr(g)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Gt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){const b=g?(0,H.m9)(g):null;return b&&re(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return g&&re(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(J(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,c.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&J(g)||m._popupRedirectResolver;re(b,m,"argument-error"),m.redirectPersistenceManager=yield Z.create(m,[J(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,c.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,c.Z)(function*(){if(g===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,x){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return re(ee,this,"internal-error"),ee.then(()=>R(this.currentUser)),"function"==typeof m?g.addObserver(m,b,x):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function vt(v){return(0,H.m9)(v)}class Vs{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Us(v,g,m){const b=vt(v);re(b._canInitEmulator,b,"emulator-config-failed"),re(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const x=!!m?.disableWarnings,R=ul(g),{host:ee,port:Pe}=function qi(v){const g=ul(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const R=x[1];return{host:R,port:zn(b.substr(R.length+1))}}{const[R,ee]=b.split(":");return{host:R,port:zn(ee)}}}(g);b.config.emulator={url:`${R}//${ee}${null===Pe?"":`:${Pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ee,port:Pe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Bs(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ul(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function zn(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class $r{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return le("not implemented")}_getIdTokenResponse(g){return le("not implemented")}_linkToIdToken(g,m){return le("not implemented")}_getReauthenticationResolver(g){return le("not implemented")}}function ei(v,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:resetPassword",qt(v,g))})).apply(this,arguments)}function cl(v,g){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nh(v,g){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",qt(v,g))})).apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithPassword",qt(v,g))})).apply(this,arguments)}function gs(v,g){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:sendOobCode",qt(v,g))})).apply(this,arguments)}function Wi(v,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(v,g){return gs(v,g)})).apply(this,arguments)}function rh(v,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(v,g){return gs(v,g)})).apply(this,arguments)}function ti(v,g){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(v,g){return gs(v,g)})).apply(this,arguments)}function dl(v,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(v,g){return gs(v,g)})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithEmailLink",qt(v,g))})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithEmailLink",qt(v,g))})).apply(this,arguments)}class zs extends $r{constructor(g,m,b,x=null){super("password",b),this._email=g,this._password=m,this._tenantId=x}static _fromEmailAndPassword(g,m){return new zs(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new zs(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function ha(v,g){return Hs.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Gr(v,g){return su.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ke(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return cl(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Mp(v,g){return Gs.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:Ke(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function qs(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithIdp",qt(v,g))})).apply(this,arguments)}class Ki extends $r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ki(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:x}=m,R=(0,ae._T)(m,["providerId","signInMethod"]);if(!b||!x)return null;const ee=new Ki(b,x);return ee.idToken=R.idToken||void 0,ee.accessToken=R.accessToken||void 0,ee.secret=R.secret,ee.nonce=R.nonce,ee.pendingToken=R.pendingToken||null,ee}_getIdTokenResponse(g){return qs(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,qs(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,qs(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,H.xO)(m)}return g}}function Np(v,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:sendVerificationCode",qt(v,g))})).apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithPhoneNumber",qt(v,g))})).apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(v,g){const m=yield Rn(v,"POST","/v1/accounts:signInWithPhoneNumber",qt(v,g));if(m.temporaryProof)throw $n(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Rp={USER_NOT_FOUND:"user-not-found"};function mc(){return(mc=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithPhoneNumber",qt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Rp)})).apply(this,arguments)}class wo extends $r{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new wo({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new wo({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Op(v,g){return fa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function vo(v,g){return gc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function kp(v,g){return mc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:R}=g;return b||m||x||R?new wo({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:R}):null}}class Eo{constructor(g){var m,b,x,R,ee,Pe;const rt=(0,H.zd)((0,H.pd)(g)),Et=null!==(m=rt.apiKey)&&void 0!==m?m:null,Tt=null!==(b=rt.oobCode)&&void 0!==b?b:null,An=function yc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=rt.mode)&&void 0!==x?x:null);re(Et&&Tt&&An,"argument-error"),this.apiKey=Et,this.operation=An,this.code=Tt,this.continueUrl=null!==(R=rt.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(ee=rt.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(Pe=rt.tenantId)&&void 0!==Pe?Pe:null}static parseLink(g){const m=function _c(v){const g=(0,H.zd)((0,H.pd)(v)).link,m=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,b=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(b?(0,H.zd)((0,H.pd)(b)).link:null)||b||m||g||v}(g);try{return new Eo(m)}catch{return null}}}let hl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return zs._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=Eo.parseLink(b);return re(x,"argument-error"),zs._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class pr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class bo extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ms extends bo{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return re("providerId"in m&&"signInMethod"in m,"argument-error"),Ki._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return re(g.idToken||g.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ms.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ms.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:R,nonce:ee,providerId:Pe}=g;if(!b&&!x&&!m&&!R||!Pe)return null;try{return new ms(Pe)._credential({idToken:m,accessToken:b,nonce:ee,pendingToken:R})}catch{return null}}}let vc=(()=>{class v extends bo{constructor(){super("facebook.com")}static credential(m){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),fl=(()=>{class v extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ou=(()=>{class v extends bo{constructor(){super("github.com")}static credential(m){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Io extends $r{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return qs(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,qs(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,qs(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:x,pendingToken:R}=m;return b&&x&&R&&b===x?new Io(b,R):null}static _create(g,m){return new Io(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ri extends pr{constructor(g){re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ri.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ri.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Io.fromJSON(g);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return Io._create(b,m)}catch{return null}}}let Zi=(()=>{class v extends bo{constructor(){super("twitter.com")}static credential(m,b){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function zr(v,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signUp",qt(v,g))})).apply(this,arguments)}class gi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,x=!1){return(0,c.Z)(function*(){const R=yield xt._fromIdTokenResponse(g,b,x),ee=Co(b);return new gi({user:R,providerId:ee,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const x=Co(b);return new gi({user:g,providerId:x,_tokenResponse:b,operationType:m})})()}}function Co(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Lp(v){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(v){var g;const m=vt(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new gi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield zr(m,{returnSecureToken:!0}),x=yield gi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ln extends H.ZR{constructor(g,m,b,x){var R;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,Ln.prototype),this.customData={appName:g.name,tenantId:null!==(R=g.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,x){return new Ln(g,m,b,x)}}function Ec(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ln._fromErrorAndOperation(v,R,g,b):R})}function ih(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function mi(v,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v);yield Pi(!0,m,g);const{providerUserInfo:b}=yield Ze(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),x=ih(b||[]);return m.providerData=m.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function pl(v,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(v,g,m=!1){const b=yield Pt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return gi._forOperation(v,"link",b)})).apply(this,arguments)}function Pi(v,g,m){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(v,g,m){yield Rr(g);const x=!1===v?"provider-already-linked":"no-such-provider";re(ih(g.providerData).has(m)===v,g.auth,x)})).apply(this,arguments)}function lu(v,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(v,g,m=!1){const{auth:b}=v,x="reauthenticate";try{const R=yield Pt(v,Ec(b,x,g,v),m);re(R.idToken,b,"internal-error");const ee=ft(R.idToken);re(ee,b,"internal-error");const{sub:Pe}=ee;return re(v.uid===Pe,b,"user-mismatch"),gi._forOperation(v,x,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ke(b,"user-mismatch"),R}})).apply(this,arguments)}function uu(v,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(v,g,m=!1){const b="signIn",x=yield Ec(v,b,g),R=yield gi._fromIdTokenResponse(v,b,x);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function pa(v,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(v,g){return uu(vt(v),g)})).apply(this,arguments)}function Lt(v,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v);return yield Pi(!1,m,g.providerId),pl(m,g)})).apply(this,arguments)}function Fp(v,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(v,g){return lu((0,H.m9)(v),g)})).apply(this,arguments)}function bc(v,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithCustomToken",qt(v,g))})).apply(this,arguments)}function Zs(v,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(v,g){const m=vt(v),b=yield bc(m,{token:g,returnSecureToken:!0}),x=yield gi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Do{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Ae._fromServerResponse(g,m):Ke(g,"internal-error")}}class Ae extends Do{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Ae(m)}}function Wt(v,g,m){var b;re((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),re(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function sh(v,g,m){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v),x={requestType:"PASSWORD_RESET",email:g};m&&Wt(b,x,m),yield rh(b,x)})).apply(this,arguments)}function Qn(v,g,m){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(v,g,m){yield ei((0,H.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function gl(v,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(v,g){yield nh((0,H.m9)(v),{oobCode:g})})).apply(this,arguments)}function ml(v,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v),b=yield ei(m,{oobCode:g}),x=b.requestType;switch(re(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(b.mfaInfo,m,"internal-error");default:re(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=Do._fromServerResponse(vt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function oh(v,g){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(v,g){const{data:m}=yield ml((0,H.m9)(v),g);return m.email})).apply(this,arguments)}function Vp(v,g,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(v,g,m){const b=vt(v),x=yield zr(b,{returnSecureToken:!0,email:g,password:m}),R=yield gi._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function Jn(v,g,m){return pa((0,H.m9)(v),hl.credential(g,m))}function Ni(v,g,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v),x={requestType:"EMAIL_SIGNIN",email:g};re(m.handleCodeInApp,b,"argument-error"),m&&Wt(b,x,m),yield ti(b,x)})).apply(this,arguments)}function Ea(v,g){return"EMAIL_SIGNIN"===Eo.parseLink(g)?.operation}function Yi(v,g,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v),x=hl.credentialWithLink(g,m||Ve());return re(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),pa(b,x)})).apply(this,arguments)}function cu(v,g){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:createAuthUri",qt(v,g))})).apply(this,arguments)}function ah(v,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(v,g){const b={identifier:g,continueUri:Ue()?Ve():"http://localhost"},{signinMethods:x}=yield cu((0,H.m9)(v),b);return x||[]})).apply(this,arguments)}function du(v,g){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Wt(m.auth,x,g);const{email:R}=yield Wi(m.auth,x);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function hu(v,g,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Wt(b.auth,R,m);const{email:ee}=yield dl(b.auth,R);ee!==v.email&&(yield v.reload())})).apply(this,arguments)}function Dc(v,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function lh(v,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,H.m9)(v),R={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ee=yield Pt(b,Dc(b.auth,R));b.displayName=ee.displayName||null,b.photoURL=ee.photoUrl||null;const Pe=b.providerData.find(({providerId:rt})=>"password"===rt);Pe&&(Pe.displayName=b.displayName,Pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ee)})).apply(this,arguments)}function uh(v,g){return _s((0,H.m9)(v),g,null)}function Tc(v,g){return _s((0,H.m9)(v),null,g)}function _s(v,g,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(v,g,m){const{auth:b}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(R.email=g),m&&(R.password=m);const ee=yield Pt(v,cl(b,R));yield v._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Pn{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class Qi extends Pn{constructor(g,m,b,x){super(g,m,b),this.username=x}}class Nn extends Pn{constructor(g,m){super(g,"facebook.com",m)}}class Ac extends Qi{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class fu extends Pn{constructor(g,m){super(g,"google.com",m)}}class ch extends Qi{constructor(g,m,b){super(g,"twitter.com",m,b)}}function pu(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Sc(v){var g,m;if(!v)return null;const{providerId:b}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const ee=null===(m=null===(g=ft(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ee)return new Pn(R,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!b)return null;switch(b){case"facebook.com":return new Nn(R,x);case"github.com":return new Ac(R,x);case"google.com":return new fu(R,x);case"twitter.com":return new ch(R,x,v.screenName||null);case"custom":case"anonymous":return new Pn(R,null);default:return new Pn(R,b,x)}}(m)}class si{constructor(g,m,b){this.type=g,this.credential=m,this.auth=b}static _fromIdtoken(g,m){return new si("enroll",g,m)}static _fromMfaPendingCredential(g){return new si("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return si._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.idToken)return si._fromIdtoken(g.multiFactorSession.idToken)}return null}}class yu{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=vt(g),x=m.customData._serverResponse,R=(x.mfaInfo||[]).map(Pe=>Do._fromServerResponse(b,Pe));re(x.mfaPendingCredential,b,"internal-error");const ee=si._fromMfaPendingCredential(x.mfaPendingCredential);return new yu(ee,R,function(){var Pe=(0,c.Z)(function*(rt){const Et=yield rt._process(b,ee);delete x.mfaInfo,delete x.mfaPendingCredential;const Tt=Object.assign(Object.assign({},x),{idToken:Et.idToken,refreshToken:Et.refreshToken});switch(m.operationType){case"signIn":const An=yield gi._fromIdTokenResponse(b,m.operationType,Tt);return yield b._updateCurrentUser(An.user),An;case"reauthenticate":return re(m.user,b,"internal-error"),gi._forOperation(m.user,m.operationType,Tt);default:Ke(b,"internal-error")}});return function(rt){return Pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,c.Z)(function*(){return m.signInResolver(g)})()}}function Pc(v,g){var m;const b=(0,H.m9)(v),x=g;return re(g.customData.operationType,b,"argument-error"),re(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),yu._fromError(b,x)}function Bn(v,g){return Ht(v,"POST","/v2/accounts/mfaEnrollment:start",qt(v,g))}class wl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Do._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new wl(g)}getSession(){var g=this;return(0,c.Z)(function*(){return si._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var b=this;return(0,c.Z)(function*(){const x=g,R=yield b.getSession(),ee=yield Pt(b.user,x._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(ee),b.user.reload()})()}unenroll(g){var m=this;return(0,c.Z)(function*(){const b="string"==typeof g?g:g.uid,x=yield m.user.getIdToken(),R=yield Pt(m.user,function vl(v,g){return Ht(v,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(v,g))}(m.user.auth,{idToken:x,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ee})=>ee!==b),yield m.user._updateTokensIfNecessary(R);try{yield m.user.reload()}catch(ee){if("auth/user-token-expired"!==ee?.code)throw ee}})()}}const dh=new WeakMap;function Da(v){const g=(0,H.m9)(v);return dh.has(g)||dh.set(g,wl._fromUser(g)),dh.get(g)}const Ji="__sak";class Ta{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ji,"1"),this.storage.removeItem(Ji),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xn=(()=>{class v extends Ta{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _u(){const v=(0,H.z$)();return F(v)||Fe(v)}()&&function zi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),R=this.localCache[b];x!==R&&m(b,R,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Pe,rt,Et)=>{this.notifyListeners(Pe,Et)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(x);if(m.newValue!==Pe)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const R=()=>{const Pe=this.storage.getItem(x);!b&&this.localCache[x]===Pe||this.notifyListeners(x,Pe)},ee=this.storage.getItem(x);!function Vt(){return(0,H.w1)()&&10===document.documentMode}()||ee===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,R=this;return(0,c.Z)(function*(){yield x().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,c.Z)(function*(){const R=yield b().call(x,m);return x.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,x=this;return(0,c.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),ws=(()=>{class v extends Ta{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Aa=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,c.Z)(function*(){const x=m,{eventId:R,eventType:ee,data:Pe}=x.data,rt=b.handlersMap[ee];if(!rt?.size)return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:ee});const Et=Array.from(rt).map(function(){var An=(0,c.Z)(function*(Kr){return Kr(x.origin,Pe)});return function(Kr){return An.apply(this,arguments)}}()),Tt=yield function vu(v){return Promise.all(v.map(function(){var g=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(Et);x.ports[0].postMessage({status:"done",eventId:R,eventType:ee,response:Tt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ro(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class ph{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var x=this;return(0,c.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let ee,Pe;return new Promise((rt,Et)=>{const Tt=Ro("",20);R.port1.start();const An=setTimeout(()=>{Et(new Error("unsupported_event"))},b);Pe={messageChannel:R,onMessage(Kr){const Ss=Kr;if(Ss.data.eventId===Tt)switch(Ss.data.status){case"ack":clearTimeout(An),ee=setTimeout(()=>{Et(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),rt(Ss.data.response);break;default:clearTimeout(An),clearTimeout(ee),Et(new Error("invalid_response"))}}},x.handlers.add(Pe),R.port1.addEventListener("message",Pe.onMessage),x.target.postMessage({eventType:g,eventId:Tt,data:m},[R.port2])}).finally(()=>{Pe&&x.removeMessageHandler(Pe)})})()}}function Hn(){return window}function qr(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function Xi(){return(Xi=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xa="firebaseLocalStorageDb",Ma="firebaseLocalStorage",ko="fbase_key";class Js{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Lo(v,g){return v.transaction([Ma],g?"readwrite":"readonly").objectStore(Ma)}function bl(){const v=indexedDB.open(xa,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Ma,{keyPath:ko})}catch(x){m(x)}}),v.addEventListener("success",(0,c.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Ma)?g(b):(b.close(),yield function kc(){const v=indexedDB.deleteDatabase(xa);return new Js(v).toPromise()}(),g(yield bl()))}))})}function Pa(v,g,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(v,g,m){const b=Lo(v,!0).put({[ko]:g,value:m});return new Js(b).toPromise()})).apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(v,g){const m=Lo(v,!1).get(g),b=yield new Js(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Il(v,g){const m=Lo(v,!0).delete(g);return new Js(m).toPromise()}const Uo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield bl()),m.db})()}_withRetries(m){var b=this;return(0,c.Z)(function*(){let x=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(x++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return qr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Aa._getInstance(function El(){return qr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(x,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(x,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function Rc(){return Xi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ph(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function wu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield bl();return yield Pa(m,Ji,"1"),yield Il(m,Ji),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(R=>Pa(R,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,c.Z)(function*(){const x=yield b._withRetries(R=>function gh(v,g){return Fo.apply(this,arguments)}(R,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(x=>Il(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const b=yield m._withRetries(ee=>{const Pe=Lo(ee,!1).getAll();return new Js(Pe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:ee,value:Pe}of b)R.add(ee),JSON.stringify(m.localCache[ee])!==JSON.stringify(Pe)&&(m.notifyListeners(ee,Pe),x.push(ee));for(const ee of Object.keys(m.localCache))m.localCache[ee]&&!R.has(ee)&&(m.notifyListeners(ee,null),x.push(ee));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function mh(v,g){return Ht(v,"POST","/v2/accounts/mfaSignIn:start",qt(v,g))}function Cr(){return(Cr=(0,c.Z)(function*(v){return(yield Ht(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xs(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=x=>{const R=ke("internal-error");R.customData=x,m(R)},b.type="text/javascript",b.charset="UTF-8",function Ho(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function jo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ri=1e12;class Lc{constructor(g){this.auth=g,this.counter=Ri,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new Sn(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||Ri;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Ri))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,c.Z)(function*(){var b;return null===(b=m._widgets.get(g||Ri))||void 0===b||b.execute(),""})()}}class Sn{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;re(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Up(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yh=jo("rcb"),yw=new ze(3e4,6e4);class Oy{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Hn().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return re(function _h(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Hn().grecaptcha):new Promise((b,x)=>{const R=Hn().setTimeout(()=>{x(ke(g,"network-request-failed"))},yw.get());Hn()[yh]=()=>{Hn().clearTimeout(R),delete Hn()[yh];const Pe=Hn().grecaptcha;if(!Pe)return void x(ke(g,"internal-error"));const rt=Pe.render;Pe.render=(Et,Tt)=>{const An=rt(Et,Tt);return this.counter++,An},this.hostLanguage=m,b(Pe)},Xs(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:yh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),x(ke(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=Hn().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _w{load(g){return(0,c.Z)(function*(){return new Lc(g)})()}clearedOneInstance(){}}const Go="recaptcha",Ry={theme:"light",type:"image"};class Bp{constructor(g,m=Object.assign({},Ry),b){this.parameters=m,this.type=Go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vt(b),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;re(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _w:new Oy,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const ee=Pe=>{!Pe||(g.tokenChangeListeners.delete(ee),R(Pe))};g.tokenChangeListeners.add(ee),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=Hn()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){re(Ue()&&!qr(),g.auth,"internal-error"),yield function ur(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Cl(v){return Cr.apply(this,arguments)}(g.auth);re(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zo{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=wo._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Dl(v,g,m){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(v,g,m){const b=vt(v),x=yield pn(b,g,(0,H.m9)(m));return new zo(x,R=>pa(b,R))})).apply(this,arguments)}function Iu(v,g,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v);yield Pi(!1,b,"phone");const x=yield pn(b.auth,g,(0,H.m9)(m));return new zo(x,R=>Lt(b,R))})).apply(this,arguments)}function bs(v,g,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v),x=yield pn(b.auth,g,(0,H.m9)(m));return new zo(x,R=>Fp(b,R))})).apply(this,arguments)}function pn(v,g,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(v,g,m){var b;const x=yield m.verify();try{let R;if(re("string"==typeof x,v,"argument-error"),re(m.type===Go,v,"argument-error"),R="string"==typeof g?{phoneNumber:g}:g,"session"in R){const ee=R.session;if("phoneNumber"in R)return re("enroll"===ee.type,v,"internal-error"),(yield Bn(v,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{re("signin"===ee.type,v,"internal-error");const Pe=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return re(Pe,v,"missing-multi-factor-info"),(yield mh(v,{mfaPendingCredential:ee.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield Np(v,{phoneNumber:R.phoneNumber,recaptchaToken:x});return ee}}finally{m._reset()}})).apply(this,arguments)}function vh(v,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(v,g){yield pl((0,H.m9)(v),g)})).apply(this,arguments)}let Fc=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=vt(m)}verifyPhoneNumber(m,b){return pn(this.auth,m,(0,H.m9)(b))}static credential(m,b){return wo._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?wo._fromTokenResponse(b,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Oa(v,g){return g?J(g):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class wh extends $r{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return qs(g,this._buildIdpRequest())}_linkToIdToken(g,m){return qs(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return qs(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Eh(v){return uu(v.auth,new wh(v),v.bypassAuthState)}function oi(v){const{auth:g,user:m}=v;return re(m,g,"internal-error"),lu(m,new wh(v),v.bypassAuthState)}function qo(v){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(v){const{auth:g,user:m}=v;return re(m,g,"internal-error"),pl(m,new wh(v),v.bypassAuthState)})).apply(this,arguments)}class Tl{constructor(g,m,b,x,R=!1){this.auth=g,this.resolver=b,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(b,x){g.pendingPromise={resolve:b,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(R){g.reject(R)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:R,tenantId:ee,error:Pe,type:rt}=g;if(Pe)return void m.reject(Pe);const Et={auth:m.auth,requestUri:b,sessionId:x,tenantId:ee||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(rt)(Et))}catch(Tt){m.reject(Tt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Eh;case"linkViaPopup":case"linkViaRedirect":return qo;case"reauthViaPopup":case"reauthViaRedirect":return oi;default:Ke(this.auth,"internal-error")}}resolve(g){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wo=new ze(2e3,1e4);function Vc(v,g,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(v,g,m){const b=vt(v);Ee(v,g,pr);const x=Oa(b,m);return new Ra(b,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function Cu(v,g,m){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v);Ee(b.auth,g,pr);const x=Oa(b.auth,m);return new Ra(b.auth,"reauthViaPopup",g,x,b).executeNotNull()})).apply(this,arguments)}function Hp(v,g,m){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v);Ee(b.auth,g,pr);const x=Oa(b.auth,m);return new Ra(b.auth,"linkViaPopup",g,x,b).executeNotNull()})).apply(this,arguments)}let Ra=(()=>{class v extends Tl{constructor(m,b,x,R,ee){super(m,b,R,ee),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const b=yield m.execute();return re(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,c.Z)(function*(){_e(1===m.filter.length,"Popup operations only handle one event");const b=Ro();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Wo.get())};m()}}return v.currentPopupAction=null,v})();const es=new Map;class ts extends Tl{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,c.Z)(function*(){let b=es.get(m.auth._key());if(!b){try{const R=(yield function Du(v,g){return Zo.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(R)}catch(x){b=()=>Promise.reject(x)}es.set(m.auth._key(),b)}return m.bypassAuthState||es.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const x=yield b.auth._redirectUserForId(g.eventId);if(x)return b.user=x,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Zo(){return(Zo=(0,c.Z)(function*(v,g){const m=Cs(g),b=ka(v);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function Is(v,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(v,g){return ka(v)._set(Cs(g),"true")})).apply(this,arguments)}function eo(){es.clear()}function Hc(v,g){es.set(v._key(),g)}function ka(v){return J(v._redirectPersistence)}function Cs(v){return j("pendingRedirect",v.config.apiKey,v.name)}function bh(v,g,m){return function Wn(v,g,m){return Su.apply(this,arguments)}(v,g,m)}function Su(){return(Su=(0,c.Z)(function*(v,g,m){const b=vt(v);Ee(v,g,pr);const x=Oa(b,m);return yield Is(x,b),x._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function C(v,g,m){return function D(v,g,m){return M.apply(this,arguments)}(v,g,m)}function M(){return(M=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v);Ee(b.auth,g,pr);const x=Oa(b.auth,m);yield Is(x,b.auth);const R=yield Kt(b);return x._openRedirect(b.auth,g,"reauthViaRedirect",R)})).apply(this,arguments)}function B(v,g,m){return function X(v,g,m){return oe.apply(this,arguments)}(v,g,m)}function oe(){return(oe=(0,c.Z)(function*(v,g,m){const b=(0,H.m9)(v);Ee(b.auth,g,pr);const x=Oa(b.auth,m);yield Pi(!1,b,g.providerId),yield Is(x,b.auth);const R=yield Kt(b);return x._openRedirect(b.auth,g,"linkViaRedirect",R)})).apply(this,arguments)}function Re(v,g){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(v,g){return yield vt(v)._initializationPromise,at(v,g,!1)})).apply(this,arguments)}function at(v,g){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(v,g,m=!1){const b=vt(v),x=Oa(b,g),ee=yield new ts(b,x,m).execute();return ee&&!m&&(delete ee.user._redirectEventId,yield b._persistUserIfCurrent(ee.user),yield b._setRedirectUser(null,g)),ee})).apply(this,arguments)}function Kt(v){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(v){const g=Ro(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class jn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Fa(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Al(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!Al(g)){const x=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,x))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(La(g))}saveEventToCache(g){this.cachedEventUids.add(La(g)),this.lastProcessedEventTime=Date.now()}}function La(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Al({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function cr(v){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(v,g={}){return Ht(v,"GET","/v1/projects",g)})).apply(this,arguments)}const ns=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ky=/^https?/;function Au(){return(Au=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield cr(v);for(const m of g)try{if(jp(m))return}catch{}Ke(v,"unauthorized-domain")})).apply(this,arguments)}function jp(v){const g=Ve(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const ee=new URL(v);return""===ee.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ee.hostname===b}if(!ky.test(m))return!1;if(ns.test(v))return b===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const wi=new ze(3e4,6e4);function Ih(){const v=Hn().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Yo=null;function Dh(v){return Yo=Yo||function Ch(v){return new Promise((g,m)=>{var b,x,R;function ee(){Ih(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ih(),m(ke(v,"network-request-failed"))},timeout:wi.get()})}if(null!==(x=null===(b=Hn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(R=Hn().gapi)||void 0===R||!R.load){const Pe=jo("iframefcb");return Hn()[Pe]=()=>{gapi.load?ee():m(ke(v,"network-request-failed"))},Xs(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(rt=>m(rt))}ee()}}).catch(g=>{throw Yo=null,g})}(v),Yo}const Th=new ze(5e3,15e3),Qo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sh(v){const g=v.config;re(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?cn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:O.SDK_VERSION},x=Fy.get(v.config.apiHost);x&&(b.eid=x);const R=v._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,H.xO)(b).slice(1)}`}function $c(){return $c=(0,c.Z)(function*(v){const g=yield Dh(v),m=Hn().gapi;return re(m,v,"internal-error"),g.open({where:document.body,url:Sh(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qo,dontclear:!0},b=>new Promise(function(){var x=(0,c.Z)(function*(R,ee){yield b.restyle({setHideOnLeave:!1});const Pe=ke(v,"network-request-failed"),rt=Hn().setTimeout(()=>{ee(Pe)},Th.get());function Et(){Hn().clearTimeout(rt),R(b)}b.ping(Et).then(Et,()=>{ee(Pe)})});return function(R,ee){return x.apply(this,arguments)}}()))}),$c.apply(this,arguments)}const xu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vy{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Va(v,g,m,b,x,R){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const ee={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:O.SDK_VERSION,eventId:x};if(g instanceof pr){g.setDefaultLanguage(v.languageCode),ee.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[rt,Et]of Object.entries(R||{}))ee[rt]=Et}if(g instanceof bo){const rt=g.getScopes().filter(Et=>""!==Et);rt.length>0&&(ee.scopes=rt.join(","))}v.tenantId&&(ee.tid=v.tenantId);const Pe=ee;for(const rt of Object.keys(Pe))void 0===Pe[rt]&&delete Pe[rt];return`${function Ds({config:v}){return v.emulator?cn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,H.xO)(Pe).slice(1)}`}const qc="webStorageSupport",Ts=class Mh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=at,this._overrideRedirectResult=Hc}_openPopup(g,m,b,x){var R=this;return(0,c.Z)(function*(){var ee;_e(null===(ee=R.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const Pe=Va(g,m,b,Ve(),x);return function Pu(v,g,m,b=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),ee=Math.max((window.screen.availWidth-b)/2,0).toString();let Pe="";const rt=Object.assign(Object.assign({},xu),{width:b.toString(),height:x.toString(),top:R,left:ee}),Et=(0,H.z$)().toLowerCase();m&&(Pe=te(Et)?"_blank":m),N(Et)&&(g=g||"http://localhost",rt.scrollbars="yes");const Tt=Object.entries(rt).reduce((Kr,[Ss,Oh])=>`${Kr}${Ss}=${Oh},`,"");if(function dn(v=(0,H.z$)()){var g;return Fe(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Et)&&"_self"!==Pe)return function xh(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",Pe),new Vy(null);const An=window.open(g||"",Pe,Tt);re(An,v,"popup-blocked");try{An.focus()}catch{}return new Vy(An)}(g,Pe,Ro())})()}_openRedirect(g,m,b,x){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(g),function Oc(v){Hn().location.href=v}(Va(g,m,b,Ve(),x)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:x,promise:R}=this.eventManagers[m];return x?Promise.resolve(x):(_e(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,c.Z)(function*(){const b=yield function ww(v){return $c.apply(this,arguments)}(g),x=new jn(g);return b.register("authEvent",R=>(re(R?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:x},m.iframes[g._key()]=b,x})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(qc,{type:qc},x=>{var R;const ee=null===(R=x?.[0])||void 0===R?void 0:R[qc];void 0!==ee&&m(!!ee),Ke(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function jc(v){return Au.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return hn()||F()||Fe()}};class xl extends class Ph{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new xl(g)}_finalizeEnroll(g,m,b){return function _l(v,g){return Ht(v,"POST","/v2/accounts/mfaEnrollment:finalize",qt(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Bo(v,g){return Ht(v,"POST","/v2/accounts/mfaSignIn:finalize",qt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let to=(()=>{class v{constructor(){}static assertion(m){return xl._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var rs="@firebase/auth";class Uy{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{g(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function Jo(v){(0,O._registerComponent)(new me.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:R,authDomain:ee}=b.options;return((Pe,rt)=>{re(R&&!R.includes(":"),"invalid-api-key",{appName:Pe.name}),re(!ee?.includes(":"),"argument-error",{appName:Pe.name});const Et={apiKey:R,authDomain:ee,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tn(v)},Tt=new yo(Pe,rt,Et);return function se(v,g){const m=g?.persistence||[],b=(Array.isArray(m)?m:[m]).map(J);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,g?.popupRedirectResolver)}(Tt,m),Tt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new me.wA("auth-internal",g=>{const m=vt(g.getProvider("auth").getImmediate());return new Uy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(rs,"0.21.0",function Gp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,O.registerVersion)(rs,"0.21.0","esm2017")}("Browser")},2090:(ht,Se,k)=>{k.d(Se,{$s:()=>Xe,BH:()=>Gt,G6:()=>Ee,L:()=>de,LL:()=>tn,Pz:()=>rn,Sg:()=>ze,UG:()=>Ie,US:()=>me,ZB:()=>q,ZR:()=>In,aH:()=>_t,b$:()=>pe,eu:()=>re,hl:()=>$e,jU:()=>tt,m9:()=>en,ne:()=>Dn,pd:()=>Ls,r3:()=>Or,ru:()=>ve,tV:()=>ye,uI:()=>Ne,vZ:()=>Ze,w1:()=>Ke,xO:()=>bn,xb:()=>pi,z$:()=>Be,zI:()=>le,zd:()=>lr});const ie=function(G){const j=[];let Z=0;for(let U=0;U<G.length;U++){let N=G.charCodeAt(U);N<128?j[Z++]=N:N<2048?(j[Z++]=N>>6|192,j[Z++]=63&N|128):55296==(64512&N)&&U+1<G.length&&56320==(64512&G.charCodeAt(U+1))?(N=65536+((1023&N)<<10)+(1023&G.charCodeAt(++U)),j[Z++]=N>>18|240,j[Z++]=N>>12&63|128,j[Z++]=N>>6&63|128,j[Z++]=63&N|128):(j[Z++]=N>>12|224,j[Z++]=N>>6&63|128,j[Z++]=63&N|128)}return j},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let N=0;N<G.length;N+=3){const F=G[N],te=N+1<G.length,Oe=te?G[N+1]:0,nt=N+2<G.length,ot=nt?G[N+2]:0;let Rt=(15&Oe)<<2|ot>>6,dn=63&ot;nt||(dn=64,te||(Rt=64)),U.push(Z[F>>2],Z[(3&F)<<4|Oe>>4],Z[Rt],Z[dn])}return U.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(ie(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let Z=0,U=0;for(;Z<G.length;){const N=G[Z++];if(N<128)j[U++]=String.fromCharCode(N);else if(N>191&&N<224){const F=G[Z++];j[U++]=String.fromCharCode((31&N)<<6|63&F)}else if(N>239&&N<365){const nt=((7&N)<<18|(63&G[Z++])<<12|(63&G[Z++])<<6|63&G[Z++])-65536;j[U++]=String.fromCharCode(55296+(nt>>10)),j[U++]=String.fromCharCode(56320+(1023&nt))}else{const F=G[Z++],te=G[Z++];j[U++]=String.fromCharCode((15&N)<<12|(63&F)<<6|63&te)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const Z=j?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let N=0;N<G.length;){const F=Z[G.charAt(N++)],Oe=N<G.length?Z[G.charAt(N)]:0;++N;const ot=N<G.length?Z[G.charAt(N)]:64;++N;const Fe=N<G.length?Z[G.charAt(N)]:64;if(++N,null==F||null==Oe||null==ot||null==Fe)throw Error();U.push(F<<2|Oe>>4),64!==ot&&(U.push(Oe<<4&240|ot>>2),64!==Fe&&U.push(ot<<6&192|Fe))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},de=function(G){return function(G){const j=ie(G);return me.encodeByteArray(j,!0)}(G).replace(/\./g,"")},ye=function(G){try{return me.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const Z in j)!j.hasOwnProperty(Z)||!Q(Z)||(G[Z]=q(G[Z],j[Z]));return G}function Q(G){return"__proto__"!==G}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function ve(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const G=Be();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ee(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $e(){try{return"object"==typeof indexedDB}catch{return!1}}function re(){return new Promise((G,j)=>{try{let Z=!0;const U="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(U);N.onsuccess=()=>{N.result.close(),Z||self.indexedDB.deleteDatabase(U),G(!0)},N.onupgradeneeded=()=>{Z=!1},N.onerror=()=>{var F;j((null===(F=N.error)||void 0===F?void 0:F.message)||"")}}catch(Z){j(Z)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const se=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=G&&ye(G[1]);return j&&JSON.parse(j)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},_t=()=>{var G;return null===(G=se())||void 0===G?void 0:G.config},rn=G=>{var j;return null===(j=se())||void 0===j?void 0:j[`_${G}`]};class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Z)=>{this.resolve=j,this.reject=Z})}wrapCallback(j){return(Z,U)=>{Z?this.reject(Z):this.resolve(U),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Z):j(Z,U))}}}function ze(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=j||"demo-project",N=G.iat||0,F=G.sub||G.user_id;if(!F)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const te=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:N,exp:N+3600,auth_time:N,sub:F,user_id:F,firebase:{sign_in_provider:"custom",identities:{}}},G);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(te)),""].join(".")}class In extends Error{constructor(j,Z,U){super(Z),this.code=j,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}}class tn{constructor(j,Z,U){this.service=j,this.serviceName=Z,this.errors=U}create(j,...Z){const U=Z[0]||{},N=`${this.service}/${j}`,F=this.errors[j],te=F?function nn(G,j){return G.replace(qt,(Z,U)=>{const N=j[U];return null!=N?String(N):`<${U}?>`})}(F,U):"Error";return new In(N,`${this.serviceName}: ${te} (${N}).`,U)}}const qt=/\{\$([^}]+)}/g;function Or(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function pi(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function Ze(G,j){if(G===j)return!0;const Z=Object.keys(G),U=Object.keys(j);for(const N of Z){if(!U.includes(N))return!1;const F=G[N],te=j[N];if(Kn(F)&&Kn(te)){if(!Ze(F,te))return!1}else if(F!==te)return!1}for(const N of U)if(!Z.includes(N))return!1;return!0}function Kn(G){return null!==G&&"object"==typeof G}function bn(G){const j=[];for(const[Z,U]of Object.entries(G))Array.isArray(U)?U.forEach(N=>{j.push(encodeURIComponent(Z)+"="+encodeURIComponent(N))}):j.push(encodeURIComponent(Z)+"="+encodeURIComponent(U));return j.length?"&"+j.join("&"):""}function lr(G){const j={};return G.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[N,F]=U.split("=");j[decodeURIComponent(N)]=decodeURIComponent(F)}}),j}function Ls(G){const j=G.indexOf("?");if(!j)return"";const Z=G.indexOf("#",j);return G.substring(j,Z>0?Z:void 0)}function Dn(G,j){const Z=new wn(G,j);return Z.subscribe.bind(Z)}class wn{constructor(j,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{j(this)}).catch(U=>{this.error(U)})}next(j){this.forEachObserver(Z=>{Z.next(j)})}error(j){this.forEachObserver(Z=>{Z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Z,U){let N;if(void 0===j&&void 0===Z&&void 0===U)throw new Error("Missing Observer.");N=function pt(G,j){if("object"!=typeof G||null===G)return!1;for(const Z of j)if(Z in G&&"function"==typeof G[Z])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Z,complete:U},void 0===N.next&&(N.next=Pt),void 0===N.error&&(N.error=Pt),void 0===N.complete&&(N.complete=Pt);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),F}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,j)}sendOne(j,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Z(this.observers[j])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pt(){}function Xe(G,j=1e3,Z=2){const U=j*Math.pow(Z,G),N=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+N)}function en(G){return G&&G._delegate?G._delegate:G}},9138:(ht,Se,k)=>{var c=k(4650);let H=null;function O(){return H}const he=new c.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ye(){return(0,c.LFG)(q)}()},providedIn:"platform"}),n})();const z=new c.OlP("Location Initialized");let q=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Be(){return new q((0,c.LFG)(he))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ye)},providedIn:"root"}),n})();const pe=new c.OlP("appBaseHref");let Ye=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+tt(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+tt(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ke=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+tt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+tt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ie($e(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tt(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=tt,n.joinWithSlash=Ne,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(c.LFG(ve))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Me(){return new ke((0,c.LFG)(ve))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}function cl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}let sn=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Hs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Hs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,d),js(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{js(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function js(n,e){n.context.$implicit=e.item}let kn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new rh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class rh{constructor(){this.$implicit=null,this.ngIf=null}}function Yn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class ti{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let $s=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),dl=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ti(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36($s,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),_o=(()=>{class n{constructor(t,r,i){i._addDefault(new ti(t,r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36($s,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Gs=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split("."),d=-1===i.indexOf("-")?void 0:c.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,l?`${r}${l}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,i,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),zs=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:l,ngTemplateOutletInjector:d}=this;this._viewRef=r.createEmbeddedView(i,l,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),Mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Co(n){return"server"===n}let Ec=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ih((0,c.LFG)(he),window)}),n})();class ih{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ks{}class _s extends class Tc extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){H||(H=n)}(new _s)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sc(){return vs=vs||document.querySelector("base"),vs?vs.getAttribute("href"):null}();return null==t?null:function Qi(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const e=Pn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cl(document.cookie,e)}}let Pn,vs=null;const Nn=new c.OlP("TRANSITION_ID"),fu=[{provide:c.ip1,useFactory:function Ac(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Nn,he,c.zs3],multi:!0}];let pu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const gu=new c.OlP("EventManagerPlugins");let mu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gu),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class yl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Po=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),No=(()=>{class n extends Po{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(xc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(xc))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function xc(n){O().remove(n)}const Oo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mc=/%COMP%/g;function vl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?vl(n,i,t):(i=i.replace(Mc,n),t.push(i))}return t}function wl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Da=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ji(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Nc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new hh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=vl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mu),c.LFG(No),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ji{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Oo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Sa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Sa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Oo[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Oo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wl(r)):this.eventManager.addEventListener(e,t,wl(r))}}function Sa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nc extends Ji{constructor(e,t,r,i){super(e),this.component=r;const l=vl(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Bn(n){return"_ngcontent-%COMP%".replace(Mc,n)}(i+"-"+r.id),this.hostAttr=function _l(n){return"_nghost-%COMP%".replace(Mc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class hh extends Ji{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=vl(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Xn=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fh=["alt","control","meta","shift"],ws={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Aa=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),fh.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),d+=E+".")}),d+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=ws[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fh.forEach(d=>{d!==i&&(0,vu[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xa=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Rc(){_s.makeCurrent()},multi:!0},{provide:he,useFactory:function wu(){return(0,c.RDi)(document),document},deps:[]}]),Qs=new c.OlP(""),Ma=[{provide:c.rWj,useClass:class ch{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const f=function(y){d=d||y,l--,0==l&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ko=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Xi(){return new c.qLn},deps:[]},{provide:gu,useClass:Xn,multi:!0,deps:[he,c.R0b,c.Lbi]},{provide:gu,useClass:Aa,multi:!0,deps:[he]},{provide:Da,useClass:Da,deps:[mu,No,c.AFp]},{provide:c.FYo,useExisting:Da},{provide:Po,useExisting:No},{provide:No,useClass:No,deps:[he]},{provide:mu,useClass:mu,deps:[gu,c.R0b]},{provide:Ks,useClass:pu,deps:[]},[]];let Js=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Nn,useExisting:c.AFp},fu]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qs,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...ko,...Ma],imports:[Mi,c.hGG]}),n})(),Oi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Pa(){return new Oi((0,c.LFG)(he))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(Bp),r},providedIn:"root"}),n})(),Bp=(()=>{class n extends Go{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ry(n){return new Bp(n.get(he))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();class zo{}const _i="*";function Iu(n,e){return{type:7,name:n,definitions:e,options:{}}}function fn(n,e=null){return{type:4,styles:e,timings:n}}function Na(n,e=null){return{type:2,steps:n,options:e}}function pn(n){return{type:6,styles:n,offset:null}}function vi(n,e,t){return{type:0,name:n,styles:e,options:t}}function Wr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Fc(n,e=null){return{type:8,animation:n,options:e}}function qo(n){Promise.resolve().then(n)}class Lr{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qo(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Tl{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?qo(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Ko(n){return new c.vHH(3e3,!1)}function cr(){return typeof window<"u"&&typeof window.document<"u"}function yr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ns(n){switch(n.length){case 0:return new Lr;case 1:return n[0];default:return new Tl(n)}}function ky(n,e,t,r,i=new Map,l=new Map){const d=[],f=[];let y=-1,E=null;if(r.forEach(T=>{const A=T.get("offset"),V=A==y,$=V&&E||new Map;T.forEach((K,ce)=>{let De=ce,Ge=K;if("offset"!==ce)switch(De=e.normalizePropertyName(De,d),Ge){case"!":Ge=i.get(ce);break;case _i:Ge=l.get(ce);break;default:Ge=e.normalizeStyleValue(ce,De,Ge,d)}$.set(De,Ge)}),V||f.push($),E=$,y=A}),d.length)throw function X(n){return new c.vHH(3502,!1)}();return f}function jc(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Au(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Au(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Au(t,"destroy",n)))}}function Au(n,e,t){const l=jp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function jp(n,e,t,r,i="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!d}}function wi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Ih(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Ch=(n,e)=>!1,Yo=(n,e,t)=>[],Dh=null;function Th(n){const e=n.parentNode||n.host;return e===Dh?null:e}(yr()||typeof Element<"u")&&(cr()?(Dh=(()=>document.documentElement)(),Ch=(n,e)=>{for(;e;){if(e===n)return!0;e=Th(e)}return!1}):Ch=(n,e)=>n.contains(e),Yo=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Qo=null,Fy=!1;const xu=Ch,Gc=Yo;let $p=(()=>{class n{validateStyleProperty(t){return function Sh(n){Qo||(Qo=function $c(){return typeof document<"u"?document.body:null}()||{},Fy=!!Qo.style&&"WebkitAppearance"in Qo.style);let e=!0;return Qo.style&&!function vw(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Qo.style,!e&&Fy&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Qo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return xu(t,r)}getParentElement(t){return Th(t)}query(t,r,i){return Gc(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,d,f=[],y){return new Lr(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ah=(()=>{class n{}return n.NOOP=new $p,n})();const zc="ng-enter",Nu="ng-leave",Va="ng-trigger",Ds=".ng-trigger",qc="ng-animating",Mh=".ng-animating";function Ts(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ph(parseFloat(e[1]),e[2])}function Ph(n,e){return"s"===e?1e3*n:n}function xl(n,e,t){return n.hasOwnProperty("duration")?n:function to(n,e,t){let i,l=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Ko()),{duration:0,delay:0,easing:""};i=Ph(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(l=Ph(parseFloat(y),f[4]));const E=f[5];E&&(d=E)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function Cu(){return new c.vHH(3100,!1)}()),f=!0),l<0&&(e.push(function Uc(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,Ko())}return{duration:i,delay:l,easing:d}}(n,e,t)}function rs(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Nh(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Jo(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function zp(n,e,t){return t?e+":"+t+";":""}function qp(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=zp(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=zp(0,Pe(t),n.style[t]));n.setAttribute("style",e)}function ki(n,e,t){n.style&&(e.forEach((r,i)=>{const l=ee(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),yr()&&qp(n))}function Ua(n,e){n.style&&(e.forEach((t,r)=>{const i=ee(r);n.style[i]=""}),yr()&&qp(n))}function Wc(n){return Array.isArray(n)?1==n.length?n[0]:Na(n):n}const g=new RegExp("{{\\s*(.+?)\\s*}}","g");function m(n){let e=[];if("string"==typeof n){let t;for(;t=g.exec(n);)e.push(t[1]);g.lastIndex=0}return e}function b(n,e,t){const r=n.toString(),i=r.replace(g,(l,d)=>{let f=e[d];return null==f&&(t.push(function Bc(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function x(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const R=/-+([a-z0-9])/g;function ee(n){return n.replace(R,(...e)=>e[1].toUpperCase())}function Pe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tt(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ra(n){return new c.vHH(3004,!1)}()}}function An(n,e){return window.getComputedStyle(n)[e]}function Lh(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Ou(n,e,t){if(":"==n[0]){const y=function Kc(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function C(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Su(n){return new c.vHH(3015,!1)}()),e;const i=r[1],l=r[2],d=r[3];e.push(Fn(i,d));"<"==l[0]&&!("*"==i&&"*"==d)&&e.push(Fn(d,i))}(r,t,e)):t.push(n),t}const Ba=new Set(["true","1"]),Zc=new Set(["false","0"]);function Fn(n,e){const t=Ba.has(n)||Zc.has(n),r=Ba.has(e)||Zc.has(e);return(i,l)=>{let d="*"==n||n==i,f="*"==e||e==l;return!d&&t&&"boolean"==typeof i&&(d=i?Ba.has(n):Zc.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?Ba.has(e):Zc.has(e)),d&&f}}const oD=new RegExp("s*:selfs*,?","g");function Vh(n,e,t,r){return new aD(n).build(e,t,r)}class aD{constructor(e){this._driver=e}build(e,t,r){const i=new cD(t);return this._resetContextStyleTimingState(i),Tt(this,Wc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function es(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,E=y.name;E.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,l.push(this.visitState(y,t))}),y.name=E}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function ts(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{m(y).forEach(E=>{d.hasOwnProperty(E)||l.add(E)})})}),l.size&&(x(l.values()),t.errors.push(function Du(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Tt(this,Wc(e.animation),t);return{type:1,matchers:Lh(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Yc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Tt(this,r,t)),options:Yc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(d=>{t.currentTime=r;const f=Tt(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:Yc(e.options)}}visitAnimate(e,t){const r=function wP(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ru(xl(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Ru(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=xl(t,e);return Ru(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:pn({});if(5==l.type)i=this.visitKeyframes(l,t);else{let d=e.styles,f=!1;if(!d){f=!0;const E={};r.easing&&(E.easing=r.easing),d=pn(E)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===_i?r.push(f):t.errors.push(new c.vHH(3002,!1)):r.push(Nh(f));let l=!1,d=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!l))for(let y of f.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,y)=>{const E=t.collectedStyles.get(t.currentQuerySelector),T=E.get(y);let A=!0;T&&(l!=i&&l>=T.startTime&&i<=T.endTime&&(t.errors.push(function Tu(n,e,t,r,i){return new c.vHH(3010,!1)}()),A=!1),l=T.startTime),A&&E.set(y,{startTime:l,endTime:i}),t.options&&function v(n,e,t){const r=e.params||{},i=m(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function Hp(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function eo(){return new c.vHH(3011,!1)}()),r;let l=0;const d=[];let f=!1,y=!1,E=0;const T=e.steps.map(Ge=>{const lt=this._makeStyleAst(Ge,t);let gt=null!=lt.offset?lt.offset:function dD(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(lt.styles),ct=0;return null!=gt&&(l++,ct=lt.offset=gt),y=y||ct<0||ct>1,f=f||ct<E,E=ct,d.push(ct),lt});y&&t.errors.push(function Hc(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function ka(){return new c.vHH(3200,!1)}());const A=e.steps.length;let V=0;l>0&&l<A?t.errors.push(function Cs(){return new c.vHH(3202,!1)}()):0==l&&(V=1/(A-1));const $=A-1,K=t.currentTime,ce=t.currentAnimateTimings,De=ce.duration;return T.forEach((Ge,lt)=>{const gt=V>0?lt==$?1:V*lt:d[lt],ct=gt*De;t.currentTime=K+ce.delay+ct,ce.duration=ct,this._validateStyleAst(Ge,t),Ge.offset=gt,r.styles.push(Ge)}),r}visitReference(e,t){return{type:8,animation:Tt(this,Wc(e.animation),t),options:Yc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Yc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function lD(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oD,"")),n=n.replace(/@\*/g,Ds).replace(/@\w+/g,t=>Ds+"-"+t.slice(1)).replace(/:animating/g,Mh),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,wi(t.collectedStyles,t.currentQuerySelector,new Map);const f=Tt(this,Wc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:Yc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function bh(){return new c.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:xl(e.timings,t.errors,!0);return{type:12,animation:Tt(this,Wc(e.animation),t),timings:r,options:null}}}class cD{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yc(n){return n?(n=rs(n)).params&&(n.params=function uD(n){return n?rs(n):null}(n.params)):n={},n}function Ru(n,e,t){return{duration:n,delay:e,easing:t}}function Uh(n,e,t,r,i,l,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:d,subTimeline:f}}class Bh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hD=new RegExp(":enter","g"),Cw=new RegExp(":leave","g");function Hh(n,e,t,r,i,l=new Map,d=new Map,f,y,E=[]){return(new EP).buildKeyframes(n,e,t,r,i,l,d,f,y,E)}class EP{buildKeyframes(e,t,r,i,l,d,f,y,E,T=[]){E=E||new Bh;const A=new jh(e,t,E,i,l,T,[]);A.options=y;const V=y.delay?Ts(y.delay):0;A.currentTimeline.delayNextStep(V),A.currentTimeline.setStyles([d],null,A.errors,y),Tt(this,r,A);const $=A.timelines.filter(K=>K.containsAnimation());if($.length&&f.size){let K;for(let ce=$.length-1;ce>=0;ce--){const De=$[ce];if(De.element===t){K=De;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([f],null,A.errors,y)}return $.length?$.map(K=>K.buildKeyframes()):[Uh(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimateRefDelay(e.animation,t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimateRefDelay(e,t,r){const i=e.options?.delay;if(!i)return;let l;l="string"==typeof i?Ts(b(i,e.options?.params??{},t.errors)):i,r.delayNextStep(l)}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?Ts(r.duration):null,f=null!=r.delay?Ts(r.delay):null;return 0!==d&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,d,f);l=Math.max(l,E.duration+E.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Tt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wp);const d=Ts(l.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Tt(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Ts(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),Tt(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return xl(t.params?b(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*l),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Ts(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wp);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((E,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,E);l&&A.delayNextStep(l),E===t.element&&(y=A.currentTimeline),Tt(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const A=T.currentTime;Tt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const Wp={};class jh{constructor(e,t,r,i,l,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new $h(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ts(r.duration)),null!=r.delay&&(i.delay=Ts(r.delay));const l=r.params;if(l){let d=i.params;d||(d=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=b(l[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new jh(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Wp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new Dw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(hD,"."+this._enterClassName)).replace(Cw,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),f.push(...E)}return!l&&0==f.length&&d.push(function Wn(n){return new c.vHH(3014,!1)}()),f}}class $h{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $h(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||_i),this._currentKeyframe.set(t,_i);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const l=i&&i.params||{},d=function fD(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,_i)}else Jo(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of d){const E=b(y,l,r);this._pendingStyles.set(f,E),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??_i),this._updateStyle(f,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const E=Jo(f,new Map,this._backFill);E.forEach((T,A)=>{"!"===T?e.add(A):T===_i&&t.add(A)}),r||E.set("offset",y/this.duration),i.push(E)});const l=e.size?x(e.values()):[],d=t.size?x(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return Uh(this.element,i,l,d,this.duration,this.startTime,this.easing,!1)}}class Dw extends $h{constructor(e,t,r,i,l,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,f=t/d,y=Jo(e[0]);y.set("offset",0),l.push(y);const E=Jo(e[0]);E.set("offset",Pl(f)),l.push(E);const T=e.length-1;for(let A=1;A<=T;A++){let V=Jo(e[A]);const $=V.get("offset");V.set("offset",Pl((t+$*r)/d)),l.push(V)}r=d,t=0,i="",e=l}return Uh(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Pl(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Qc{}const $y=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kp extends Qc{normalizePropertyName(e,t){return ee(e)}normalizeStyleValue(e,t,r,i){let l="";const d=r.toString().trim();if($y.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Sl(n,e){return new c.vHH(3005,!1)}())}return d+l}}function Nl(n,e,t,r,i,l,d,f,y,E,T,A,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:E,postStyleProps:T,totalTime:A,errors:V}}const Zp={};class Yp{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function pD(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,d,f,y,E,T){const A=[],V=this.ast.options&&this.ast.options.params||Zp,K=this.buildStyles(r,f&&f.params||Zp,A),ce=y&&y.params||Zp,De=this.buildStyles(i,ce,A),Ge=new Set,lt=new Map,gt=new Map,ct="void"===i,Nt={params:Sw(ce,V),delay:this.ast.options?.delay},Ft=T?[]:Hh(e,t,this.ast.animation,l,d,K,De,Nt,E,A);let un=0;if(Ft.forEach(hc=>{un=Math.max(hc.duration+hc.delay,un)}),A.length)return Nl(t,this._triggerName,r,i,ct,K,De,[],[],lt,gt,un,A);Ft.forEach(hc=>{const fc=hc.element,nL=wi(lt,fc,new Set);hc.preStyleProps.forEach(Ap=>nL.add(Ap));const mw=wi(gt,fc,new Set);hc.postStyleProps.forEach(Ap=>mw.add(Ap)),fc!==t&&Ge.add(fc)});const ps=x(Ge.values());return Nl(t,this._triggerName,r,i,ct,K,De,Ft,ps,lt,gt,un)}}function Sw(n,e){const t=rs(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Jc{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=rs(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!==d&&(i[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,f)=>{d&&(d=b(d,i,t));const y=this.normalizer.normalizePropertyName(f,t);d=this.normalizer.normalizeStyleValue(f,y,d,t),r.set(y,d)})}),r}}class mD{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Jc(i.style,i.options&&i.options.params||{},r))}),Aw(this.states,"true","1"),Aw(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Yp(e,i,this.states))}),this.fallbackTransition=function yD(n,e,t){return new Yp(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Aw(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Gy=new Bh;class _D{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],l=Vh(this._driver,t,r,[]);if(r.length)throw function oe(n){return new c.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=ky(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let d;const f=new Map;if(l?(d=Hh(this._driver,t,l,zc,Nu,new Map,new Map,r,Gy,i),d.forEach(T=>{const A=wi(f,T.element,new Map);T.postStyleProps.forEach(V=>A.set(V,null))})):(i.push(function Re(){return new c.vHH(3300,!1)}()),d=[]),i.length)throw function et(n){return new c.vHH(3504,!1)}();f.forEach((T,A)=>{T.forEach((V,$)=>{T.set($,this._driver.computeStyle(A,$,_i))})});const E=ns(d.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,new Map,A)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function at(n){return new c.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=jp(t,"","","");return jc(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const zy="ng-animate-queued",Qp="ng-animate-disabled",ED=[],ku={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},As="__ng_removed";class xw{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Wy(n){return n??null}(r?e.value:e),r){const l=rs(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Xc="void",qy=new xw(Xc);class bD{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Li(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function ut(n,e){return new c.vHH(3302,!1)}();if(null==r||0==r.length)throw function Kt(n){return new c.vHH(3303,!1)}();if(!function CD(n){return"start"==n||"done"==n}(r))throw function Mt(n,e){return new c.vHH(3400,!1)}();const l=wi(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};l.push(d);const f=wi(this._engine.statesByElement,e,new Map);return f.has(t)||(Li(e,Va),Li(e,Va+"-"+t),f.set(t,qy)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(d);y>=0&&l.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function mr(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),d=new Jp(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Li(e,Va),Li(e,Va+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const E=new xw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),f.set(t,E),y||(y=qy),E.value!==Xc&&y.value===E.value){if(!function SP(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,E.params)){const ce=[],De=l.matchStyles(y.value,y.params,ce),Ge=l.matchStyles(E.value,E.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{Ua(e,De),ki(e,Ge)})}return}const V=wi(this._engine.playersByElement,e,[]);V.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let $=l.matchTransition(y.value,E.value,e,E.params),K=!1;if(!$){if(!i)return;$=l.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:y,toState:E,player:d,isFallbackTransition:K}),K||(Li(e,zy),d.onStart(()=>{qh(e,zy)})),d.onDone(()=>{let ce=this.players.indexOf(d);ce>=0&&this.players.splice(ce,1);const De=this._engine.playersByElement.get(e);if(De){let Ge=De.indexOf(d);Ge>=0&&De.splice(Ge,1)}}),this.players.push(d),V.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ds,!0);r.forEach(i=>{if(i[As])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const f=[];if(l.forEach((y,E)=>{if(d.set(E,y.value),this._triggers.has(E)){const T=this.trigger(e,E,Xc,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&ns(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const d=l.name;if(i.has(d))return;i.add(d);const y=this._triggers.get(d).fallbackTransition,E=r.get(d)||qy,T=new xw(Xc),A=new Jp(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:E,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[As];(!l||l===ku)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Li(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=jp(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,jc(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ID{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new bD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const E=r.indexOf(y);r.splice(E+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(Xp(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Xp(t))return;const l=t[As];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Li(e,Qp)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qh(e,Qp))}removeNode(e,t,r,i){if(Xp(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[As]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return Xp(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,Ds,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Mh,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ns(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[As];if(t&&t.setForRemoval){if(e[As]=ku,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Qp)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Li(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ns(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function jn(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Bh,i=[],l=new Map,d=[],f=new Map,y=new Map,E=new Map,T=new Set;this.disabledNodes.forEach(yt=>{T.add(yt);const Ot=this.driver.query(yt,".ng-animate-queued",!0);for(let Bt=0;Bt<Ot.length;Bt++)T.add(Ot[Bt])});const A=this.bodyNode,V=Array.from(this.statesByElement.keys()),$=TD(V,this.collectedEnterElements),K=new Map;let ce=0;$.forEach((yt,Ot)=>{const Bt=zc+ce++;K.set(Ot,Bt),yt.forEach(En=>Li(En,Bt))});const De=[],Ge=new Set,lt=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const Ot=this.collectedLeaveElements[yt],Bt=Ot[As];Bt&&Bt.setForRemoval&&(De.push(Ot),Ge.add(Ot),Bt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(En=>Ge.add(En)):lt.add(Ot))}const gt=new Map,ct=TD(V,Array.from(Ge));ct.forEach((yt,Ot)=>{const Bt=Nu+ce++;gt.set(Ot,Bt),yt.forEach(En=>Li(En,Bt))}),e.push(()=>{$.forEach((yt,Ot)=>{const Bt=K.get(Ot);yt.forEach(En=>qh(En,Bt))}),ct.forEach((yt,Ot)=>{const Bt=gt.get(Ot);yt.forEach(En=>qh(En,Bt))}),De.forEach(yt=>{this.processLeaveNode(yt)})});const Nt=[],Ft=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(t).forEach(Bt=>{const En=Bt.player,fi=Bt.element;if(Nt.push(En),this.collectedEnterElements.length){const Hi=fi[As];if(Hi&&Hi.setForMove){if(Hi.previousTriggersValues&&Hi.previousTriggersValues.has(Bt.triggerName)){const xp=Hi.previousTriggersValues.get(Bt.triggerName),ca=this.statesByElement.get(Bt.element);if(ca&&ca.has(Bt.triggerName)){const sD=ca.get(Bt.triggerName);sD.value=xp,ca.set(Bt.triggerName,sD)}}return void En.destroy()}}const iu=!A||!this.driver.containsElement(A,fi),mo=gt.get(fi),th=K.get(fi),fr=this._buildInstruction(Bt,r,th,mo,iu);if(fr.errors&&fr.errors.length)return void Ft.push(fr);if(iu)return En.onStart(()=>Ua(fi,fr.fromStyles)),En.onDestroy(()=>ki(fi,fr.toStyles)),void i.push(En);if(Bt.isFallbackTransition)return En.onStart(()=>Ua(fi,fr.fromStyles)),En.onDestroy(()=>ki(fi,fr.toStyles)),void i.push(En);const sL=[];fr.timelines.forEach(Hi=>{Hi.stretchStartingKeyframe=!0,this.disabledNodes.has(Hi.element)||sL.push(Hi)}),fr.timelines=sL,r.append(fi,fr.timelines),d.push({instruction:fr,player:En,element:fi}),fr.queriedElements.forEach(Hi=>wi(f,Hi,[]).push(En)),fr.preStyleProps.forEach((Hi,xp)=>{if(Hi.size){let ca=y.get(xp);ca||y.set(xp,ca=new Set),Hi.forEach((sD,vP)=>ca.add(vP))}}),fr.postStyleProps.forEach((Hi,xp)=>{let ca=E.get(xp);ca||E.set(xp,ca=new Set),Hi.forEach((sD,vP)=>ca.add(vP))})});if(Ft.length){const yt=[];Ft.forEach(Ot=>{yt.push(function Al(n,e){return new c.vHH(3505,!1)}())}),Nt.forEach(Ot=>Ot.destroy()),this.reportError(yt)}const un=new Map,ps=new Map;d.forEach(yt=>{const Ot=yt.element;r.has(Ot)&&(ps.set(Ot,Ot),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,un))}),i.forEach(yt=>{const Ot=yt.element;this._getPreviousPlayers(Ot,!1,yt.namespaceId,yt.triggerName,null).forEach(En=>{wi(un,Ot,[]).push(En),En.destroy()})});const hc=De.filter(yt=>Pw(yt,y,E)),fc=new Map;DD(fc,this.driver,lt,E,_i).forEach(yt=>{Pw(yt,y,E)&&hc.push(yt)});const mw=new Map;$.forEach((yt,Ot)=>{DD(mw,this.driver,new Set(yt),y,"!")}),hc.forEach(yt=>{const Ot=fc.get(yt),Bt=mw.get(yt);fc.set(yt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Ap=[],rL=[],iL={};d.forEach(yt=>{const{element:Ot,player:Bt,instruction:En}=yt;if(r.has(Ot)){if(T.has(Ot))return Bt.onDestroy(()=>ki(Ot,En.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(En.totalTime),void i.push(Bt);let fi=iL;if(ps.size>1){let mo=Ot;const th=[];for(;mo=mo.parentNode;){const fr=ps.get(mo);if(fr){fi=fr;break}th.push(mo)}th.forEach(fr=>ps.set(fr,fi))}const iu=this._buildAnimation(Bt.namespaceId,En,un,l,mw,fc);if(Bt.setRealPlayer(iu),fi===iL)Ap.push(Bt);else{const mo=this.playersByElement.get(fi);mo&&mo.length&&(Bt.parentPlayer=ns(mo)),i.push(Bt)}}else Ua(Ot,En.fromStyles),Bt.onDestroy(()=>ki(Ot,En.toStyles)),rL.push(Bt),T.has(Ot)&&i.push(Bt)}),rL.forEach(yt=>{const Ot=l.get(yt.element);if(Ot&&Ot.length){const Bt=ns(Ot);yt.setRealPlayer(Bt)}}),i.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<De.length;yt++){const Ot=De[yt],Bt=Ot[As];if(qh(Ot,Nu),Bt&&Bt.hasAnimation)continue;let En=[];if(f.size){let iu=f.get(Ot);iu&&iu.length&&En.push(...iu);let mo=this.driver.query(Ot,Mh,!0);for(let th=0;th<mo.length;th++){let fr=f.get(mo[th]);fr&&fr.length&&En.push(...fr)}}const fi=En.filter(iu=>!iu.destroyed);fi.length?DP(this,Ot,fi):this.processLeaveNode(Ot)}return De.length=0,Ap.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const Ot=this.players.indexOf(yt);this.players.splice(Ot,1)}),yt.play()}),Ap}elementContainsData(e,t){let r=!1;const i=t[As];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!l||l==Xc;f.forEach(E=>{E.queued||!y&&E.triggerName!=i||d.push(E)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,T=E!==l,A=wi(r,E,[]);this._getPreviousPlayers(E,T,d,f,t.toState).forEach($=>{const K=$.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),$.destroy(),A.push($)})}Ua(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,d){const f=t.triggerName,y=t.element,E=[],T=new Set,A=new Set,V=t.timelines.map(K=>{const ce=K.element;T.add(ce);const De=ce[As];if(De&&De.removedBeforeQueried)return new Lr(K.duration,K.delay);const Ge=ce!==y,lt=function TP(n){const e=[];return SD(n,e),e}((r.get(ce)||ED).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===ce),gt=l.get(ce),ct=d.get(ce),Nt=ky(0,this._normalizer,0,K.keyframes,gt,ct),Ft=this._buildPlayer(K,Nt,lt);if(K.subTimeline&&i&&A.add(ce),Ge){const un=new Jp(e,f,ce);un.setRealPlayer(Ft),E.push(un)}return Ft});E.forEach(K=>{wi(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function Mw(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,K.element,K))}),T.forEach(K=>Li(K,qc));const $=ns(V);return $.onDestroy(()=>{T.forEach(K=>qh(K,qc)),ki(y,t.toStyles)}),A.forEach(K=>{wi(i,K,[]).push($)}),$}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Lr(e.duration,e.delay)}}class Jp{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Lr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>jc(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){wi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Xp(n){return n&&1===n.nodeType}function eg(n,e){const t=n.style.display;return n.style.display=e??"none",t}function DD(n,e,t,r,i){const l=[];t.forEach(y=>l.push(eg(y)));const d=[];r.forEach((y,E)=>{const T=new Map;y.forEach(A=>{const V=e.computeStyle(E,A,i);T.set(A,V),(!V||0==V.length)&&(E[As]=zh,d.push(E))}),n.set(E,T)});let f=0;return t.forEach(y=>eg(y,l[f++])),d}function TD(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function d(f){if(!f)return 1;let y=l.get(f);if(y)return y;const E=f.parentNode;return y=t.has(E)?E:i.has(E)?1:d(E),l.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function Li(n,e){n.classList?.add(e)}function qh(n,e){n.classList?.remove(e)}function DP(n,e,t){ns(t).onDone(()=>n.processLeaveNode(e))}function SD(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Tl?SD(r.players,e):e.push(r)}}function Pw(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class Wh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new ID(e,t,r),this._timelineEngine=new _D(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],T=Vh(this._driver,l,y,[]);if(y.length)throw function B(n,e){return new c.vHH(3404,!1)}();f=function gD(n,e,t){return new mD(n,e,t)}(i,T,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,d]=Ih(r);this._timelineEngine.command(l,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[d,f]=Ih(r);return this._timelineEngine.listen(d,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Nw=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ki(this._element,this._initialStyles),this._endStyles&&(ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ua(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ua(this._element,this._endStyles),this._endStyles=null),ki(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function tg(n){let e=null;return n.forEach((t,r)=>{(function Ow(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ng{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:An(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class AD{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return xu(e,t)}getParentElement(e){return Th(e)}query(e,t,r){return Gc(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(y.easing=l);const E=new Map,T=d.filter($=>$ instanceof ng);(function rt(n,e){return 0===n||0===e})(r,i)&&T.forEach($=>{$.currentSnapshot.forEach((K,ce)=>E.set(ce,K))});let A=function Uy(n){return n.length?n[0]instanceof Map?n:n.map(e=>Nh(e)):[]}(t).map($=>Jo($));A=function Et(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,d)=>{r.has(d)||i.push(d),r.set(d,l)}),i.length)for(let l=1;l<e.length;l++){let d=e[l];i.forEach(f=>d.set(f,An(n,f)))}}return e}(e,A,E);const V=function Ky(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tg(e[0]),e.length>1&&(r=tg(e[e.length-1]))):e instanceof Map&&(t=tg(e)),t||r?new Nw(n,t,r):null}(e,A);return new ng(e,A,y,V)}}let Zy=(()=>{class n extends zo{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Na(t):t;return Rw(this._renderer,null,r,"register",[i]),new Kh(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Kh extends class Dl{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xD(this._id,e,t||{},this._renderer)}}class xD{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Rw(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Rw(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Yy="@.disabled";let MD=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const f=d?.parentNode(l);f&&d.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new kw("",l,this.engine),this._rendererCache.set(l,T)),T}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(d,f,t,T.name,T)};return r.data.animation.forEach(y),new PD(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,f]=l;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Wh),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class kw{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Yy?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class PD extends kw{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Yy?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function ND(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function Qy(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let OD=(()=>{class n extends Wh{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(Ah),c.LFG(Qc),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jy=[{provide:zo,useClass:Zy},{provide:Qc,useFactory:function RD(){return new Kp}},{provide:Wh,useClass:OD},{provide:c.FYo,useFactory:function kD(n,e,t){return new MD(n,e,t)},deps:[Da,Wh,c.R0b]}],Xy=[{provide:Ah,useFactory:()=>new AD},{provide:c.QbO,useValue:"BrowserAnimations"},...Jy],Lw=[{provide:Ah,useClass:$p},{provide:c.QbO,useValue:"NoopAnimations"},...Jy];let Ei=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Lw:Xy}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Xy,imports:[Js]}),n})();var Yt=k(8996),Xo=k(7669);function mt(...n){const e=(0,Xo.yG)(n);return(0,Yt.D)(n,e)}var Fi=k(7579);class no extends Fi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ig=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ro=k(9751);const{isArray:FD}=Array,{getPrototypeOf:Bw,prototype:VD,keys:UD}=Object;function Hw(n){if(1===n.length){const e=n[0];if(FD(e))return{args:e,keys:null};if(function BD(n){return n&&"object"==typeof n&&Bw(n)===VD}(e)){const t=UD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Zh=k(4671),It=k(4004);const{isArray:Ha}=Array;function jw(n){return(0,It.U)(e=>function HD(n,e){return Ha(e)?n(...e):n(e)}(n,e))}function jD(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var bi=k(5403),$w=k(9672);function $D(...n){const e=(0,Xo.yG)(n),t=(0,Xo.jO)(n),{args:r,keys:i}=Hw(n);if(0===r.length)return(0,Yt.D)([],e);const l=new ro.y(function ea(n,e,t=Zh.y){return r=>{sg(e,()=>{const{length:i}=n,l=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)sg(e,()=>{const E=(0,Yt.D)(n[y],e);let T=!1;E.subscribe((0,bi.x)(r,A=>{l[y]=A,T||(T=!0,f--),f||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>jD(i,d):Zh.y));return t?l.pipe(jw(t)):l}function sg(n,e,t){n?(0,$w.f)(t,n,e):e()}var Lu=k(8189);function og(...n){return function GD(){return(0,Lu.J)(1)}()((0,Yt.D)(n,(0,Xo.yG)(n)))}var ag=k(8421);function ed(n){return new ro.y(e=>{(0,ag.Xf)(n()).subscribe(e)})}var zD=k(9635),e_=k(576);function Fu(n,e){const t=(0,e_.m)(n)?n:()=>n,r=i=>i.error(t());return new ro.y(e?i=>e.schedule(r,0,i):r)}var ja=k(515),t_=k(727),Vi=k(4482);function Ol(){return(0,Vi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,bi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class lg extends ro.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new t_.w0;const t=this.getSubject();e.add(this.source.subscribe((0,bi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=t_.w0.EMPTY)}return e}refCount(){return Ol()(this)}}function Dr(n,e){return(0,Vi.e)((t,r)=>{let i=null,l=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,bi.x)(r,y=>{i?.unsubscribe();let E=0;const T=l++;(0,ag.Xf)(n(y,T)).subscribe(i=(0,bi.x)(r,A=>r.next(e?e(y,A,T,E++):A),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function Yh(n){return n<=0?()=>ja.E:(0,Vi.e)((e,t)=>{let r=0;e.subscribe((0,bi.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function td(...n){const e=(0,Xo.yG)(n);return(0,Vi.e)((t,r)=>{(e?og(n,t,e):og(n,t)).subscribe(r)})}function xs(n,e){return(0,Vi.e)((t,r)=>{let i=0;t.subscribe((0,bi.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Ii=k(5577);function ug(n){return(0,Vi.e)((e,t)=>{let r=!1;e.subscribe((0,bi.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Gw(n=qD){return(0,Vi.e)((e,t)=>{let r=!1;e.subscribe((0,bi.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qD(){return new ig}function $a(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xs((i,l)=>n(i,l,r)):Zh.y,Yh(1),t?ug(e):Gw(()=>new ig))}function Ga(n,e){return(0,e_.m)(e)?(0,Ii.z)(n,e,1):(0,Ii.z)(n,1)}var Fr=k(8505);function za(n){return(0,Vi.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,bi.x)(t,void 0,void 0,d=>{l=(0,ag.Xf)(n(d,za(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function n_(n,e,t,r,i){return(l,d)=>{let f=t,y=e,E=0;l.subscribe((0,bi.x)(d,T=>{const A=E++;y=f?n(y,T,A):(f=!0,T),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function Qh(n,e){return(0,Vi.e)(n_(n,e,arguments.length>=2,!0))}function r_(n){return n<=0?()=>ja.E:(0,Vi.e)((e,t)=>{let r=[];e.subscribe((0,bi.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function i_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xs((i,l)=>n(i,l,r)):Zh.y,r_(1),t?ug(e):Gw(()=>new ig))}function cg(n){return(0,Vi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Qt="primary",Jh=Symbol("RouteTitle");class AP{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qa(n){return new AP(n)}function WD(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],f=n[l];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function io(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!s_(n[i],e[i]))return!1;return!0}function s_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function dg(n){return Array.prototype.concat.apply([],n)}function o_(n){return n.length>0?n[n.length-1]:null}function _r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Wa(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Yt.D)(Promise.resolve(n)):mt(n)}const l_={exact:function Yw(n,e,t){if(!Uu(n.segments,e.segments)||!ef(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Yw(n.children[r],e.children[r],t))return!1;return!0},subset:u_},nd={exact:function Zw(n,e){return io(n,e)},subset:function KD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>s_(n[t],e[t]))},ignored:()=>!0};function Kw(n,e,t){return l_[t.paths](n.root,e.root,t.matrixParams)&&nd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function u_(n,e,t){return hg(n,e,e.segments,t)}function hg(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Uu(i,t)||e.hasChildren()||!ef(i,t,r))}if(n.segments.length===t.length){if(!Uu(n.segments,t)||!ef(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!u_(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Uu(n.segments,i)&&ef(n.segments,i,r)&&n.children[Qt])&&hg(n.children[Qt],e,l,r)}}function ef(n,e,t){return e.every((r,i)=>nd[t](n[i].parameters,r.parameters))}class rd{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return Jw.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_r(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fg(this)}}class tf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qa(this.parameters)),this._parameterMap}toString(){return $t(this)}}function Uu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ms=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new c_},providedIn:"root"}),n})();class c_{parse(e){const t=new JD(e);return new rd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${nf(e.root,!0)}`,r=function rE(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${pg(t)}=${pg(i)}`).join("&"):`${pg(t)}=${pg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function eE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jw=new c_;function fg(n){return n.segments.map(e=>$t(e)).join("/")}function nf(n,e){if(!n.hasChildren())return fg(n);if(e){const t=n.children[Qt]?nf(n.children[Qt],!1):"",r=[];return _r(n.children,(i,l)=>{l!==Qt&&r.push(`${l}:${nf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ZD(n,e){let t=[];return _r(n.children,(r,i)=>{i===Qt&&(t=t.concat(e(r,i)))}),_r(n.children,(r,i)=>{i!==Qt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Qt?[nf(n.children[Qt],!1)]:[`${i}:${nf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${fg(n)}/${t[0]}`:`${fg(n)}/(${t.join("//")})`}}function Xw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pg(n){return Xw(n).replace(/%3B/gi,";")}function d_(n){return Xw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gg(n){return decodeURIComponent(n)}function tE(n){return gg(n.replace(/\+/g,"%20"))}function $t(n){return`${d_(n.path)}${function nE(n){return Object.keys(n).map(e=>`;${d_(e)}=${d_(n[e])}`).join("")}(n.parameters)}`}const iE=/^[^\/()?;=#]+/;function mg(n){const e=n.match(iE);return e?e[0]:""}const YD=/^[^=?&#]+/,QD=/^[^&#]+/;class JD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Qt]=new Xt(e,t)),r}parseSegment(){const e=mg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new tf(gg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=mg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=mg(this.remaining);i&&(r=i,this.capture(r))}e[gg(t)]=gg(r)}parseQueryParam(e){const t=function sE(n){const e=n.match(YD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function oE(n){const e=n.match(QD);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=tE(t),l=tE(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Qt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Qt]:new Xt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function h_(n){return n.segments.length>0?new Xt([],{[Qt]:n}):n}function f_(n){const e={};for(const r of Object.keys(n.children)){const l=f_(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function aE(n){if(1===n.numberOfChildren&&n.children[Qt]){const e=n.children[Qt];return new Xt(n.segments.concat(e.segments),e.children)}return n}(new Xt(n.segments,e))}function Rl(n){return n instanceof rd}function XD(n,e,t,r,i){if(0===t.length)return id(e.root,e.root,e.root,r,i);const l=function uE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new m_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return _r(l.outlets,(y,E)=>{f[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new m_(t,e,r)}(t);return l.toRoot()?id(e.root,e.root,new Xt([],{}),r,i):function d(y){const E=function eT(n,e,t,r){if(n.isAbsolute)return new sd(e.root,!0,0);if(-1===r)return new sd(t,t===e.root,0);return function y_(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new sd(r,!1,i-l)}(t,r+(rf(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),T=E.processChildren?od(E.segmentGroup,E.index,l.commands):__(E.segmentGroup,E.index,l.commands);return id(e.root,E.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function rf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sf(n){return"object"==typeof n&&null!=n&&n.outlets}function id(n,e,t,r,i){let d,l={};r&&_r(r,(y,E)=>{l[E]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),d=n===e?t:lE(n,e,t);const f=h_(f_(d));return new rd(f,l,i)}function lE(n,e,t){const r={};return _r(n.children,(i,l)=>{r[l]=i===e?t:lE(i,e,t)}),new Xt(n.segments,r)}class m_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rf(r[0]))throw new c.vHH(4003,!1);const i=r.find(sf);if(i&&i!==o_(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function __(n,e,t){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return od(n,e,t);const r=function tT(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],f=t[r];if(sf(f))break;const y=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!dE(y,E,d))return l;r+=2}else{if(!dE(y,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Xt(n.segments.slice(0,r.pathIndex),{});return l.children[Qt]=new Xt(n.segments.slice(r.pathIndex),n.children),od(l,0,i)}return r.match&&0===i.length?new Xt(n.segments,{}):r.match&&!n.hasChildren()?v_(n,e,t):r.match?od(n,0,i):v_(n,e,t)}function od(n,e,t){if(0===t.length)return new Xt(n.segments,{});{const r=function yg(n){return sf(n[0])?n[0].outlets:{[Qt]:n}}(t),i={};return _r(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=__(n.children[d],e,l))}),_r(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Xt(n.segments,i)}}function v_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(sf(l)){const y=nT(l.outlets);return new Xt(r,y)}if(0===i&&rf(t[0])){r.push(new tf(n.segments[e].path,cE(t[0]))),i++;continue}const d=sf(l)?l.outlets[Qt]:`${l}`,f=i<t.length-1?t[i+1]:null;d&&f&&rf(f)?(r.push(new tf(d,cE(f))),i+=2):(r.push(new tf(d,{})),i++)}return new Xt(r,{})}function nT(n){const e={};return _r(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=v_(new Xt([],{}),0,t))}),e}function cE(n){const e={};return _r(n,(t,r)=>e[r]=`${t}`),e}function dE(n,e,t){return n==t.path&&io(e,t.parameters)}class na{constructor(e,t){this.id=e,this.url=t}}class w_ extends na{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ll extends na{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class af extends na{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _g extends na{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lf extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ad extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rT extends na{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iT extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ld extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hE{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fE{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Eg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uf(e,this._root).map(t=>t.value)}}function bg(n,e){if(n===e.value)return e;for(const t of e.children){const r=bg(n,t);if(r)return r}return null}function uf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uf(n,t);if(r.length)return r.unshift(e),r}return[]}class Fl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class oT extends Eg{constructor(e,t){super(e),this.snapshot=t,I_(this,e)}toString(){return this.snapshot.toString()}}function cf(n,e){const t=function Ig(n,e){const d=new b_([],{},{},"",{},Qt,e,null,n.root,-1,{});return new gE("",new Fl(d,[]))}(n,e),r=new no([new tf("",{})]),i=new no({}),l=new no({}),d=new no({}),f=new no(""),y=new Za(r,i,d,f,l,Qt,e,t.root);return y.snapshot=t.root,new oT(new Fl(y,[]),t)}class Za{constructor(e,t,r,i,l,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,It.U)(E=>E[Jh]))??mt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>qa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>qa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cg(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function E_(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class b_{constructor(e,t,r,i,l,d,f,y,E,T,A,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.title=this.data?.[Jh],this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=T,this._correctedLastPathIndex=V??T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gE extends Eg{constructor(e,t){super(t),this.url=e,I_(this,t)}toString(){return mE(this._root)}}function I_(n,e){e.value._routerState=n,e.children.forEach(t=>I_(n,t))}function mE(n){const e=n.children.length>0?` { ${n.children.map(mE).join(", ")} } `:"";return`${n.value}${e}`}function C_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,io(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),io(e.params,t.params)||n.params.next(t.params),function qw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!io(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),io(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Dg(n,e){const t=io(n.params,e.params)&&function Qw(n,e){return Uu(n,e)&&n.every((t,r)=>io(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Dg(n.parent,e.parent))}function df(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function PP(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return df(n,r,i);return df(n,r)})}(n,e,t);return new Fl(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>df(n,f)),d}}const r=function yE(n){return new Za(new no(n.url),new no(n.params),new no(n.queryParams),new no(n.fragment),new no(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>df(n,l));return new Fl(r,i)}}const Tg="ngNavigationCancelingError";function _E(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Rl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Sg(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Sg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Tg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function aT(n){return lT(n)&&Rl(n.url)}function lT(n){return n&&n[Tg]}class NP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ag,this.attachRef=null}}let Ag=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new NP,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D_=!1;let vE=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=i||Qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,D_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,D_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,D_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,D_);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new OP(t,f,i.injector);if(r&&function RP(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(d);this.activated=i.createComponent(E,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ag),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class OP{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Za?this.route:e===Ag?this.childContexts:this.parent.get(e,t)}}let wE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[vE],encapsulation:2}),n})();function uT(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ra(n){const e=n.children&&n.children.map(ra),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=wE),t}function is(n){return n.outlet||Qt}function IE(n,e){const t=n.filter(r=>is(r)===e);return t.push(...n.filter(r=>is(r)!==e)),t}function ff(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hT{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),C_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Bu(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),_r(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Bu(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Bu(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Bu(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new sT(l.value.snapshot))}),e.children.length&&this.forwardEvent(new so(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(C_(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),C_(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=ff(i.snapshot),y=f?.get(c._Vd)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class DE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ju{constructor(e,t){this.component=e,this.route=t}}function ud(n,e,t){const r=n._root;return $u(r,e?e._root:null,t,[r.value])}function oo(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function $u(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Bu(e);return n.children.forEach(d=>{(function xg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const y=function TE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Uu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Uu(n.url,e.url)||!io(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dg(n,e)||!io(n.queryParams,e.queryParams);default:return!Dg(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new DE(r)):(l.data=d.data,l._resolvedData=d._resolvedData),$u(n,e,l.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ju(f.outlet.component,d))}else d&&cd(e,f,i),i.canActivateChecks.push(new DE(r)),$u(n,null,l.component?f?f.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),_r(l,(d,f)=>cd(d,t.getContext(f),i)),i}function cd(n,e,t){const r=Bu(n),i=n.value;_r(r,(l,d)=>{cd(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new ju(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gu(n){return"function"==typeof n}function Mg(n){return n instanceof ig||"EmptyError"===n?.name}const pf=Symbol("INITIAL_VALUE");function dd(){return Dr(n=>$D(n.map(e=>e.pipe(Yh(1),td(pf)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===pf)return pf;if(!1===t||t instanceof rd)return t}return!0}),xs(e=>e!==pf),Yh(1)))}function ME(n){return(0,zD.z)((0,Fr.b)(e=>{if(Rl(e))throw _E(0,e)}),(0,It.U)(e=>!0===e))}const P_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function N_(n,e,t,r,i){const l=O_(n,e,t);return l.matched?function PE(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(d=>{const f=oo(d,n);return Wa(function pT(n){return n&&Gu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(dd(),ME()):mt(!0)}(r=uT(e,r),e,t).pipe((0,It.U)(d=>!0===d?l:{...P_})):mt(l)}function O_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...P_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||WD)(t,n,e);if(!i)return{...P_};const l={};_r(i.posParams,(f,y)=>{l[y]=f.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Pg(n,e,t,r,i="corrected"){if(t.length>0&&function ET(n,e,t){return t.some(r=>hd(n,e,r)&&is(r)!==Qt)}(n,t,r)){const d=new Xt(e,function OE(n,e,t,r){const i={};i[Qt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&is(l)!==Qt){const d=new Xt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[is(l)]=d}return i}(n,e,r,new Xt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function ia(n,e,t){return t.some(r=>hd(n,e,r))}(n,t,r)){const d=new Xt(n.segments,function NE(n,e,t,r,i,l){const d={};for(const f of r)if(hd(n,t,f)&&!i[is(f)]){const y=new Xt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[is(f)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Xt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function hd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function RE(n,e,t,r){return!!(is(n)===r||r!==Qt&&hd(e,t,n))&&("**"===n.path||O_(e,n,t).matched)}function kE(n,e,t){return 0===e.length&&!n.children[t]}const R_=!1;class gf{constructor(e){this.segmentGroup=e||null}}class LE{constructor(e){this.urlTree=e}}function mf(n){return Fu(new gf(n))}function FE(n){return Fu(new LE(n))}class Ng{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=Pg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Qt).pipe((0,It.U)(l=>this.createUrlTree(f_(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(za(l=>{if(l instanceof LE)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof gf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Qt).pipe((0,It.U)(i=>this.createUrlTree(f_(i),e.queryParams,e.fragment))).pipe(za(i=>{throw i instanceof gf?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,R_)}createUrlTree(e,t,r){const i=h_(e);return new rd(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(l=>new Xt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Yt.D)(i).pipe(Ga(l=>{const d=r.children[l],f=IE(t,l);return this.expandSegmentGroup(e,f,d,l).pipe((0,It.U)(y=>({segment:y,outlet:l})))}),Qh((l,d)=>(l[d.outlet]=d.segment,l),{}),i_())}expandSegment(e,t,r,i,l,d){return(0,Yt.D)(r).pipe(Ga(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,d).pipe(za(E=>{if(E instanceof gf)return mt(null);throw E}))),$a(f=>!!f),za((f,y)=>{if(Mg(f))return kE(t,i,l)?mt(new Xt([],{})):mf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,d,f){return RE(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):mf(t):mf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?FE(l):this.lineralizeSegments(r,l).pipe((0,Ii.z)(d=>{const f=new Xt(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:f,consumedSegments:y,remainingSegments:E,positionalParamSegments:T}=O_(t,i,l);if(!f)return mf(t);const A=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?FE(A):this.lineralizeSegments(i,A).pipe((0,Ii.z)(V=>this.expandSegment(e,t,r,V.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=uT(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,It.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Xt(i,{})))):mt(new Xt(i,{}))):N_(t,r,i,e).pipe(Dr(({matched:d,consumedSegments:f,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ii.z)(T=>{const A=T.injector??e,V=T.routes,{segmentGroup:$,slicedSegments:K}=Pg(t,f,y,V),ce=new Xt($.segments,$.children);if(0===K.length&&ce.hasChildren())return this.expandChildren(A,V,ce).pipe((0,It.U)(gt=>new Xt(f,gt)));if(0===V.length&&0===K.length)return mt(new Xt(f,{}));const De=is(r)===l;return this.expandSegment(A,ce,V,K,De?Qt:l,!0).pipe((0,It.U)(lt=>new Xt(f.concat(lt.segments),lt.children)))})):mf(t)))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function wT(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(d=>{const f=oo(d,n);return Wa(function SE(n){return n&&Gu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(dd(),ME())}(e,t,r).pipe((0,Ii.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Fr.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function bT(n){return Fu(Sg(R_,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[Qt])return Fu(new c.vHH(4e3,R_));i=i.children[Qt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new rd(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return _r(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return _r(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new Xt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,R_);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class VP{}class VE{constructor(e,t,r,i,l,d,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=Pg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Qt).pipe((0,It.U)(t=>{if(null===t)return null;const r=new b_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fl(r,t),l=new gE(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=Cg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Yt.D)(Object.keys(r.children)).pipe(Ga(i=>{const l=r.children[i],d=IE(t,i);return this.processSegmentGroup(e,d,l,i)}),Qh((i,l)=>i&&l?(i.push(...l),i):null),function zw(n,e=!1){return(0,Vi.e)((t,r)=>{let i=0;t.subscribe((0,bi.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),ug(null),i_(),(0,It.U)(i=>{if(null===i)return null;const l=Og(i);return function UE(n){n.sort((e,t)=>e.value.outlet===Qt?-1:t.value.outlet===Qt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,Yt.D)(t).pipe(Ga(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),$a(d=>!!d),za(d=>{if(Mg(d))return kE(r,i,l)?mt([]):mt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!RE(t,r,i,l))return mt(null);let d;if("**"===t.path){const f=i.length>0?o_(i).parameters:{},y=_f(r)+i.length;d=mt({snapshot:new b_(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jE(t),is(t),t.component??t._loadedComponent??null,t,yf(r),y,Rg(t),y),consumedSegments:[],remainingSegments:[]})}else d=N_(r,t,i,e).pipe((0,It.U)(({matched:f,consumedSegments:y,remainingSegments:E,parameters:T})=>{if(!f)return null;const A=_f(r)+y.length;return{snapshot:new b_(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jE(t),is(t),t.component??t._loadedComponent??null,t,yf(r),A,Rg(t),A),consumedSegments:y,remainingSegments:E}}));return d.pipe(Dr(f=>{if(null===f)return mt(null);const{snapshot:y,consumedSegments:E,remainingSegments:T}=f;e=t._injector??e;const A=t._loadedInjector??e,V=function BE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:$,slicedSegments:K}=Pg(r,E,T,V.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===K.length&&$.hasChildren())return this.processChildren(A,V,$).pipe((0,It.U)(De=>null===De?null:[new Fl(y,De)]));if(0===V.length&&0===K.length)return mt([new Fl(y,[])]);const ce=is(t)===l;return this.processSegment(A,V,$,K,ce?Qt:l).pipe((0,It.U)(De=>null===De?null:[new Fl(y,De)]))}))}}function HE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Og(n){const e=[],t=new Set;for(const r of n){if(!HE(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Og(r.children);e.push(new Fl(r.value,i))}return e.filter(r=>!t.has(r))}function yf(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _f(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jE(n){return n.data||{}}function Rg(n){return n.resolve||{}}function GE(n){return"string"==typeof n.title||null===n.title}function zE(n){return Dr(e=>{const t=n(e);return t?(0,Yt.D)(t).pipe((0,It.U)(()=>e)):mt(e)})}let qE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Qt);return r}getResolvedTitleForRoute(t){return t.data[Jh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(WE)},providedIn:"root"}),n})(),WE=(()=>{class n extends qE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Oi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KE{}class ST extends class V_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kg=new c.OlP("",{providedIn:"root",factory:()=>({})}),B_=new c.OlP("ROUTES");let H_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Wa(t.loadComponent()).pipe((0,Fr.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),cg(()=>{this.componentLoaders.delete(t)})),i=new lg(r,()=>new Fi.x).pipe(Ol());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,It.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,T=!1;Array.isArray(f)?E=f:(y=f.create(t).injector,E=dg(y.get(B_,[],c.XFs.Self|c.XFs.Optional)));return{routes:E.map(ra),injector:y}}),cg(()=>{this.childrenLoaders.delete(r)})),d=new lg(l,()=>new Fi.x).pipe(Ol());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Wa(t()).pipe((0,Ii.z)(r=>r instanceof c.YKP||Array.isArray(r)?mt(r):(0,Yt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AT{}class xT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Wu(n){throw n}function jP(n,e,t){return e.parse("/")}const wf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Lg(){const n=(0,c.f3M)(Ms),e=(0,c.f3M)(Ag),t=(0,c.f3M)(ke),r=(0,c.f3M)(c.zs3),i=(0,c.f3M)(c.Sil),l=(0,c.f3M)(B_,{optional:!0})??[],d=(0,c.f3M)(kg,{optional:!0})??{},f=(0,c.f3M)(WE),y=(0,c.f3M)(qE,{optional:!0}),E=(0,c.f3M)(AT,{optional:!0}),T=(0,c.f3M)(KE,{optional:!0}),A=new Tr(null,n,e,t,r,i,dg(l));return E&&(A.urlHandlingStrategy=E),T&&(A.routeReuseStrategy=T),A.titleStrategy=y??f,function PT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,A),A}let Tr=(()=>{class n{constructor(t,r,i,l,d,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fi.x,this.errorHandler=Wu,this.malformedUriErrorHandler=jP,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>mt(void 0),this.urlHandlingStrategy=new xT,this.routeReuseStrategy=new ST,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(H_),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new fE(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new hE(V)),this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const A=d.get(c.R0b);this.isNgZoneEnabled=A instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Ww(){return new rd(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cf(this.currentUrlTree,this.rootComponentType),this.transitions=new no({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xs(i=>0!==i.id),(0,It.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dr(i=>{let l=!1,d=!1;return mt(i).pipe((0,Fr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Dr(f=>{const y=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return pd(f.source)&&(this.browserUrlTree=f.extractedUrl),mt(f).pipe(Dr(A=>{const V=this.transitions.getValue();return r.next(new w_(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),V!==this.transitions.getValue()?ja.E:Promise.resolve(A)}),function L_(n,e,t,r){return Dr(i=>function IT(n,e,t,r,i){return new Ng(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fr.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},i.urlAfterRedirects=A.urlAfterRedirects}),function $E(n,e,t,r,i,l){return(0,Ii.z)(d=>function UP(n,e,t,r,i,l,d="emptyOnly",f="legacy"){return new VE(n,e,t,r,i,d,f,l).recognize().pipe(Dr(y=>null===y?function F_(n){return new ro.y(e=>e.error(n))}(new VP):mt(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,It.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fr.b)(A=>{if(i.targetSnapshot=A.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl($,A)}this.browserUrlTree=A.urlAfterRedirects}const V=new lf(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(V)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:$,source:K,restoredState:ce,extras:De}=f,Ge=new w_(V,this.serializeUrl($),K,ce);r.next(Ge);const lt=cf($,this.rootComponentType).snapshot;return mt(i={...f,targetSnapshot:lt,urlAfterRedirects:$,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),ja.E}),(0,Fr.b)(f=>{const y=new ad(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,It.U)(f=>i={...f,guards:ud(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function ss(n,e){return(0,Ii.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?mt({...t,guardsResult:!0}):function AE(n,e,t,r){return(0,Yt.D)(n).pipe((0,Ii.z)(i=>function vT(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?mt(l.map(f=>{const y=ff(e)??i,E=oo(f,y);return Wa(function LP(n){return n&&Gu(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):y.runInContext(()=>E(n,e,t,r))).pipe($a())})).pipe(dd()):mt(!0)}(i.component,i.route,t,e,r)),$a(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ii.z)(f=>f&&function A_(n){return"boolean"==typeof n}(f)?function yT(n,e,t,r){return(0,Yt.D)(e).pipe(Ga(i=>og(function _T(n,e){return null!==n&&e&&e(new vg(n)),mt(!0)}(i.route.parent,r),function FP(n,e){return null!==n&&e&&e(new pE(n)),mt(!0)}(i.route,r),function xE(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function S_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ed(()=>mt(d.guards.map(y=>{const E=ff(d.node)??t,T=oo(y,E);return Wa(function fT(n){return n&&Gu(n.canActivateChild)}(T)?T.canActivateChild(r,n):E.runInContext(()=>T(r,n))).pipe($a())})).pipe(dd())));return mt(l).pipe(dd())}(n,i.path,t),function M_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(l=>ed(()=>{const d=ff(e)??t,f=oo(l,d);return Wa(function x_(n){return n&&Gu(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe($a())}));return mt(i).pipe(dd())}(n,i.route,t))),$a(i=>!0!==i,!0))}(r,l,n,e):mt(f)),(0,It.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Fr.b)(f=>{if(i.guardsResult=f.guardsResult,Rl(f.guardsResult))throw _E(0,f.guardsResult);const y=new rT(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),xs(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),zE(f=>{if(f.guards.canActivateChecks.length)return mt(f).pipe((0,Fr.b)(y=>{const E=new iT(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),Dr(y=>{let E=!1;return mt(y).pipe(function CT(n,e){return(0,Ii.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let l=0;return(0,Yt.D)(i).pipe(Ga(d=>function DT(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!GE(i)&&(l[Jh]=i.title),function vf(n,e,t,r){const i=function TT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return mt({});const l={};return(0,Yt.D)(i).pipe((0,Ii.z)(d=>function BP(n,e,t,r){const i=ff(e)??r,l=oo(n,i);return Wa(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe($a(),(0,Fr.b)(f=>{l[d]=f}))),r_(1),function Vu(n){return(0,It.U)(()=>n)}(l),za(d=>Mg(d)?ja.E:Fu(d)))}(l,n,e,r).pipe((0,It.U)(d=>(n._resolvedData=d,n.data=Cg(n,t).resolve,i&&GE(i)&&(n.data[Jh]=i.title),null)))}(d.route,r,n,e)),(0,Fr.b)(()=>l++),r_(1),(0,Ii.z)(d=>l===i.length?mt(t):ja.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Fr.b)(y=>{const E=new ld(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),zE(f=>{const y=E=>{const T=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Fr.b)(A=>{E.component=A}),(0,It.U)(()=>{})));for(const A of E.children)T.push(...y(A));return T};return $D(y(f.targetSnapshot.root)).pipe(ug(),Yh(1))}),zE(()=>this.afterPreactivation()),(0,It.U)(f=>{const y=function MP(n,e,t){const r=df(n,e._root,t?t._root:void 0);return new oT(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,Fr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new hT(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Fr.b)({next(){l=!0},complete(){l=!0}}),cg(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),za(f=>{if(d=!0,lT(f)){aT(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new af(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),aT(f)){const E=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pd(i.source)};this.scheduleNavigation(E,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new _g(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return ja.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const f={...l};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ra),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,E=i||this.routerState.root,T=y?this.currentUrlTree.fragment:d;let A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...l};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),XD(E,this.currentUrlTree,t,A,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Rl(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function sa(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...wf}:!1===r?{...MT}:r,Rl(t))return Kw(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Kw(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ll(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let f,y,E;d?(f=d.resolve,y=d.reject,E=d.promise):E=new Promise((V,$)=>{f=V,y=$});const T=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),A=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:T,targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:f,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new af(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return Lg()},providedIn:"root"}),n})();function pd(n){return"imperative"!==n}let ao=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Fi.x,this.subscription=t.events.subscribe(l=>{l instanceof Ll&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Tr),c.Y36(Za),c.Y36(ve))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class Vg{}let gd=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(xs(t=>t instanceof Ll),Ga(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,c.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,f=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(f,l.children??l._loadedRoutes))}return(0,Yt.D)(i).pipe((0,Lu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const l=i.pipe((0,Ii.z)(d=>null===d?mt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Yt.D)([l,d]).pipe((0,Lu.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Tr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Vg),c.LFG(H_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vl=new c.OlP("");let Ku=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof w_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ll&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new wg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function lo(n,e){return{\u0275kind:n,\u0275providers:e}}function Ug(n){return[{provide:B_,multi:!0,useValue:n}]}function j_(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Tr),i=n.get($_);1===n.get(Bg)&&r.initialNavigation(),n.get(G_,null,c.XFs.Optional)?.setUpPreloading(),n.get(Vl,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const $_=new c.OlP("",{factory:()=>new Fi.x}),Bg=new c.OlP("",{providedIn:"root",factory:()=>1});const G_=new c.OlP("");function OT(n){return lo(0,[{provide:G_,useExisting:gd},{provide:Vg,useExisting:n}])}const z_=new c.OlP("ROUTER_FORROOT_GUARD"),q_=[ke,{provide:Ms,useClass:c_},{provide:Tr,useFactory:Lg},Ag,{provide:Za,useFactory:function Zu(n){return n.routerState.root},deps:[Tr]},H_];function W_(){return new c.PXZ("Router",Tr)}let XE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[q_,[],Ug(t),{provide:z_,useFactory:RT,deps:[[Tr,new c.FiY,new c.tp0]]},{provide:kg,useValue:r||{}},r?.useHash?{provide:ve,useClass:Ke}:{provide:ve,useClass:Ye},{provide:Vl,useFactory:()=>{const n=(0,c.f3M)(Tr),e=(0,c.f3M)(Ec),t=(0,c.f3M)(kg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ku(n,e,t)}},r?.preloadingStrategy?OT(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:W_},r?.initialNavigation?$g(r):[],[{provide:Df,useFactory:j_},{provide:c.tb,multi:!0,useExisting:Df}]]}}static forChild(t){return{ngModule:n,providers:[Ug(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z_,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wE]}),n})();function RT(n){return"guarded"}function $g(n){return["disabled"===n.initialNavigation?lo(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Tr);return()=>{e.setUpLocationChangeListener()}}},{provide:Bg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?lo(2,[{provide:Bg,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(z,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Tr),f=e.get($_);(function i(l){e.get(Tr).events.pipe(xs(f=>f instanceof Ll||f instanceof af||f instanceof _g),(0,It.U)(f=>f instanceof Ll||f instanceof af&&(0===f.code||1===f.code)&&null),xs(f=>null!==f),Yh(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||f.closed?mt(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const Df=new c.OlP("");class Gg{}class Y_{}class Ns{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ns?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ns;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ns?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===l.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tb{encodeKey(e){return Q_(e)}encodeValue(e){return Q_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nb=/%(\d[a-f0-9])/gi,rb={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q_(n){return encodeURIComponent(n).replace(nb,(e,t)=>rb[t]??e)}function Tf(n){return`${n}`}class Ul{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LT(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[d,f]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Tf):[Tf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ul({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Tf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Tf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ib{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zg(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function J_(n){return typeof Blob<"u"&&n instanceof Blob}function X_(n){return typeof FormData<"u"&&n instanceof FormData}class md{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function sb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ns),this.context||(this.context=new ib),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new Ul,this.urlWithParams=t}serializeBody(){return null===this.body?null:zg(this.body)||J_(this.body)||X_(this.body)||function ob(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ul?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X_(this.body)?null:J_(this.body)?this.body.type||null:zg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ul?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,E=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((A,V)=>A.set(V,e.setHeaders[V]),y)),e.setParams&&(E=Object.keys(e.setParams).reduce((A,V)=>A.set(V,e.setParams[V]),E)),new md(t,r,l,{params:E,headers:y,context:T,reportProgress:f,responseType:i,withCredentials:d})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class qg{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ns,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Wg extends qg{constructor(e={}){super(e),this.type=dr.ResponseHeader}clone(e={}){return new Wg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sf extends qg{constructor(e={}){super(e),this.type=dr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class VT extends qg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ev(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let tv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof md)l=t;else{let y,E;y=i.headers instanceof Ns?i.headers:new Ns(i.headers),i.params&&(E=i.params instanceof Ul?i.params:new Ul({fromObject:i.params})),l=new md(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=mt(l).pipe(Ga(y=>this.handler.handle(y)));if(t instanceof md||"events"===i.observe)return d;const f=d.pipe(xs(y=>y instanceof Sf));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,It.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,It.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,It.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,It.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ul).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ev(i,r))}post(t,r,i={}){return this.request("POST",t,ev(i,r))}put(t,r,i={}){return this.request("PUT",t,ev(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class nv{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const ab=new c.OlP("HTTP_INTERCEPTORS");let Sr=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const $T=/^\)\]\}',?\n/;let ub=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ro.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(($,K)=>i.setRequestHeader($,K.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const $=t.detectContentTypeHeader();null!==$&&i.setRequestHeader("Content-Type",$)}if(t.responseType){const $=t.responseType.toLowerCase();i.responseType="json"!==$?$:"text"}const l=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const $=i.statusText||"OK",K=new Ns(i.getAllResponseHeaders()),ce=function lb(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new Wg({headers:K,status:i.status,statusText:$,url:ce}),d},y=()=>{let{headers:$,status:K,statusText:ce,url:De}=f(),Ge=null;204!==K&&(Ge=typeof i.response>"u"?i.responseText:i.response),0===K&&(K=Ge?200:0);let lt=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof Ge){const gt=Ge;Ge=Ge.replace($T,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(ct){Ge=gt,lt&&(lt=!1,Ge={error:ct,text:Ge})}}lt?(r.next(new Sf({body:Ge,headers:$,status:K,statusText:ce,url:De||void 0})),r.complete()):r.error(new VT({error:Ge,headers:$,status:K,statusText:ce,url:De||void 0}))},E=$=>{const{url:K}=f(),ce=new VT({error:$,status:i.status||0,statusText:i.statusText||"Unknown Error",url:K||void 0});r.error(ce)};let T=!1;const A=$=>{T||(r.next(f()),T=!0);let K={type:dr.DownloadProgress,loaded:$.loaded};$.lengthComputable&&(K.total=$.total),"text"===t.responseType&&!!i.responseText&&(K.partialText=i.responseText),r.next(K)},V=$=>{let K={type:dr.UploadProgress,loaded:$.loaded};$.lengthComputable&&(K.total=$.total),r.next(K)};return i.addEventListener("load",y),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",A),null!==l&&i.upload&&i.upload.addEventListener("progress",V)),i.send(l),r.next({type:dr.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",y),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",A),null!==l&&i.upload&&i.upload.removeEventListener("progress",V)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ks))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Kg=new c.OlP("XSRF_COOKIE_NAME"),cb=new c.OlP("XSRF_HEADER_NAME");class Zg{}let rv=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(c.Lbi),c.LFG(Kg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),os=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zg),c.LFG(cb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),GT=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(ab,[]);this.chain=r.reduceRight((i,l)=>new nv(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y_),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),uo=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:os,useClass:Sr}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Kg,useValue:t.cookieName}:[],t.headerName?{provide:cb,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[os,{provide:ab,useExisting:os,multi:!0},{provide:Zg,useClass:rv},{provide:Kg,useValue:"XSRF-TOKEN"},{provide:cb,useValue:"X-XSRF-TOKEN"}]}),n})(),co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tv,{provide:Gg,useClass:GT},ub,{provide:Y_,useExisting:ub}],imports:[uo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),iv=(()=>{class n{constructor(t){this.http=t,this.base_url="https://instincts.co.in:3443/",this.reqHeader=new Ns({"Content-Type":"application/json"})}userData(){return this.http.get(this.base_url+"userData",{headers:this.reqHeader})}submitUser(t){return this.http.post(this.base_url+"signup",t,{headers:this.reqHeader})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KT=(()=>{class n{constructor(t){this.http=t,this.base_url="https://instincts.co.in:3443/",this.reqHeader=new Ns({"Content-Type":"application/json"})}loginUser(t){return this.http.post(this.base_url+"login",t,{headers:this.reqHeader})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZT(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",9),c.NdJ("click",function(){c.CHM(t);const i=c.oxw().$implicit,l=c.oxw();return c.KtG(l.removeToastr(i))}),c._uU(1,"\xd7 "),c.qZA()}}function YT(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit,r=c.oxw();c.Gre("to-title ",t.config.titleClass||r.titleClass,""),c.xp6(1),c.Oqu(t.title)}}function sv(n,e){if(1&n&&c._UZ(0,"span",10),2&n){const t=c.oxw().$implicit,r=c.oxw();c.Gre("to-message ",t.config.messageClass||r.messageClass,""),c.Q6J("innerHTML",r.sanitizer.bypassSecurityTrustHtml(t.message),c.oJD)}}function xf(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit,r=c.oxw();c.Gre("to-message ",t.config.messageClass||r.messageClass,""),c.xp6(1),c.Oqu(t.message)}}function QT(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",3),c.NdJ("@inOut.done",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onAnimationEnd(i))})("click",function(){const l=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.clicked(l))}),c.YNc(1,ZT,2,0,"div",4),c.YNc(2,YT,2,4,"div",5),c.TgZ(3,"div",6),c.YNc(4,sv,1,4,"span",7),c.YNc(5,xf,2,4,"span",8),c.qZA()()}if(2&n){const t=e.$implicit,r=c.oxw();c.Gre("toastr toastr-",t.type,""),c.Q6J("@inOut",t.config.animate||r.animate),c.xp6(1),c.Q6J("ngIf",t.config.showCloseButton),c.xp6(1),c.Q6J("ngIf",t.title),c.xp6(1),c.Q6J("ngSwitch",t.config.enableHTML),c.xp6(1),c.Q6J("ngSwitchCase",!0)}}let Mf=(()=>{class n{constructor(){this.position="top-right",this.maxShown=5,this.newestOnTop=!1,this.animate="slideFromLeft",this.toastTimeout=5e3,this.enableHTML=!1,this.dismiss="auto",this.messageClass="toastr-message",this.titleClass="toastr-title",this.showCloseButton=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Pf{constructor(e,t,r,i){this.type=e,this.message=t,this.title=r,this.data=i,this.config={position:"",animate:"slideFromLeft",dismiss:"auto",enableHTML:!1,titleClass:"",messageClass:"",toastTimeout:3e3,showCloseButton:!1}}dismiss(){this.toastrManager.dismissToastr(this)}}const db=Iu("inOut",[vi("fade",pn({opacity:1})),Wr("void => fade",[pn({opacity:1}),fn("0.4s ease-in")]),Wr("fade => void",[fn("0.4s 0.1s ease-out",pn({opacity:0}))]),vi("slideFromLeft",pn({opacity:1,transform:"translateX(0)"})),Wr("void => slideFromLeft",[pn({opacity:0,transform:"translateX(-100%)"}),fn("0.4s ease-in")]),Wr("slideFromLeft => void",[fn("0.4s 0.1s ease-out",pn({opacity:0,transform:"translateX(100%)"}))]),vi("slideFromRight",pn({opacity:1,transform:"translateX(0)"})),Wr("void => slideFromRight",[pn({opacity:0,transform:"translateX(100%)"}),fn("0.4s ease-in")]),Wr("slideFromRight => void",[fn("0.4s 0.1s ease-out",pn({opacity:0,transform:"translateX(-100%)"}))]),vi("slideFromTop",pn({opacity:1,transform:"translateY(0)"})),Wr("void => slideFromTop",[pn({opacity:0,transform:"translateY(-100%)"}),fn("0.4s ease-in")]),Wr("slideFromTop => void",[fn("0.4s 0.1s ease-out",pn({opacity:0,transform:"translateY(100%)"}))]),vi("slideFromBottom",pn({opacity:1,transform:"translateY(0)"})),Wr("void => slideFromBottom",[pn({opacity:0,transform:"translateY(100%)"}),fn("0.4s ease-in")]),Wr("slideFromBottom => void",[fn("0.4s 0.1s ease-out",pn({opacity:0,transform:"translateY(-100%)"}))])]);let hb=(()=>{class n{constructor(t,r,i,l){this.sanitizer=t,this.cdr=r,this._zone=i,this.toastrs=[],this._fresh=!0,this._onEnter=new Fi.x,this._onExit=new Fi.x,Object.assign(this,l)}onEnter(){return this._onEnter.asObservable()}onExit(){return this._onExit.asObservable()}addToastr(t){if(this.position.indexOf("top")>0){if(this.newestOnTop?this.toastrs.unshift(t):this.toastrs.push(t),this.toastrs.length>this.maxShown){const r=this.toastrs.length-this.maxShown;this.newestOnTop?this.toastrs.splice(this.maxShown):this.toastrs.splice(0,r)}}else this.toastrs.unshift(t),this.toastrs.length>this.maxShown&&this.toastrs.splice(this.maxShown);null===this.animate&&this._fresh&&(this._fresh=!1,this._onEnter.next(),this._onEnter.complete()),this.cdr.detectChanges()}removeToastr(t){t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=null),this.toastrs=this.toastrs.filter(r=>r.id!==t.id)}removeAllToasts(){this.toastrs.forEach(t=>{clearTimeout(t.timeoutId),t.timeoutId=null}),this.toastrs=[]}clicked(t){this.onToastClicked&&this.onToastClicked(t)}anyToast(){return this.toastrs.length>0}findToast(t){for(let r of this.toastrs)if(r.id===t)return r;return null}onAnimationEnd(t){"void"!==t.toState||this.anyToast()?this._fresh&&"void"===t.fromState&&(this._fresh=!1,this._zone.run(()=>{this._onEnter.next(),this._onEnter.complete()})):this._ngExit()}_ngExit(){this._zone.onMicrotaskEmpty.subscribe(()=>{this._onExit.next(),this._onExit.complete()})}ngOnDestroy(){this._ngExit()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Go),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Mf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-toastr"]],decls:3,vars:4,consts:[["id","toastr-container"],["toastrContainer",""],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["class","toastr-close-button",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"ngSwitch"],[3,"class","innerHTML",4,"ngSwitchCase"],[3,"class",4,"ngSwitchDefault"],[1,"toastr-close-button",3,"click"],[3,"innerHTML"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0,1),c.YNc(2,QT,6,8,"div",2),c.qZA()),2&t&&(c.Tol(r.position),c.xp6(2),c.Q6J("ngForOf",r.toastrs))},dependencies:[gs,kn,$s,dl,_o],styles:[".to-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:8px;color:#fff}.to-message[_ngcontent-%COMP%]{word-wrap:break-word;font-size:14px;line-height:20px;display:block;color:#fff;background-color:transparent}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .to-message[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:none}.toastr-close-button[_ngcontent-%COMP%]{position:relative;right:-5px;top:-15px;float:right;font-size:25px;color:#fff;-webkit-text-shadow:0 1px 0 #fff;text-shadow:0 1px 0 #fff;opacity:.8}.toastr-close-button[_ngcontent-%COMP%]:focus, .toastr-close-button[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.4}button.toastr-close-button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.top-center[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-center[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-full-width[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-full-width[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-left[_ngcontent-%COMP%]{top:12px;left:12px}.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.bottom-right[_ngcontent-%COMP%]{right:12px;bottom:12px}.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}#toastr-container[_ngcontent-%COMP%]{position:fixed;z-index:99999}#toastr-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:10px 0 6px;padding:15px 15px 15px 60px;width:345px;border-radius:3px;background-position:15px;background-repeat:no-repeat;box-shadow:0 0 12px #999;color:#fff;opacity:1}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]{padding:15px;color:#030303}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{color:#999!important}#toastr-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #000;opacity:1;cursor:pointer}#toastr-container[_ngcontent-%COMP%] > .toastr-info[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVEhLtZa9SgNBEMc9sUxxRcoUKSzSWIhXpFMhhYWFhaBg4yPYiWCXZxBLERsLRS3EQkEfwCKdjWJAwSKCgoKCcudv4O5YLrt7EzgXhiU3/4+b2ckmwVjJSpKkQ6wAi4gwhT+z3wRBcEz0yjSseUTrcRyfsHsXmD0AmbHOC9Ii8VImnuXBPglHpQ5wwSVM7sNnTG7Za4JwDdCjxyAiH3nyA2mtaTJufiDZ5dCaqlItILh1NHatfN5skvjx9Z38m69CgzuXmZgVrPIGE763Jx9qKsRozWYw6xOHdER+nn2KkO+Bb+UV5CBN6WC6QtBgbRVozrahAbmm6HtUsgtPC19tFdxXZYBOfkbmFJ1VaHA1VAHjd0pp70oTZzvR+EVrx2Ygfdsq6eu55BHYR8hlcki+n+kERUFG8BrA0BwjeAv2M8WLQBtcy+SD6fNsmnB3AlBLrgTtVW1c2QN4bVWLATaIS60J2Du5y1TiJgjSBvFVZgTmwCU+dAZFoPxGEEs8nyHC9Bwe2GvEJv2WXZb0vjdyFT4Cxk3e/kIqlOGoVLwwPevpYHT+00T+hWwXDf4AJAOUqWcDhbwAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-error[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHOSURBVEhLrZa/SgNBEMZzh0WKCClSCKaIYOED+AAKeQQLG8HWztLCImBrYadgIdY+gIKNYkBFSwu7CAoqCgkkoGBI/E28PdbLZmeDLgzZzcx83/zZ2SSXC1j9fr+I1Hq93g2yxH4iwM1vkoBWAdxCmpzTxfkN2RcyZNaHFIkSo10+8kgxkXIURV5HGxTmFuc75B2RfQkpxHG8aAgaAFa0tAHqYFfQ7Iwe2yhODk8+J4C7yAoRTWI3w/4klGRgR4lO7Rpn9+gvMyWp+uxFh8+H+ARlgN1nJuJuQAYvNkEnwGFck18Er4q3egEc/oO+mhLdKgRyhdNFiacC0rlOCbhNVz4H9FnAYgDBvU3QIioZlJFLJtsoHYRDfiZoUyIxqCtRpVlANq0EU4dApjrtgezPFad5S19Wgjkc0hNVnuF4HjVA6C7QrSIbylB+oZe3aHgBsqlNqKYH48jXyJKMuAbiyVJ8KzaB3eRc0pg9VwQ4niFryI68qiOi3AbjwdsfnAtk0bCjTLJKr6mrD9g8iq/S/B81hguOMlQTnVyG40wAcjnmgsCNESDrjme7wfftP4P7SP4N3CJZdvzoNyGq2c/HWOXJGsvVg+RA/k2MC/wN6I2YA2Pt8GkAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-success[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADsSURBVEhLY2AYBfQMgf///3P8+/evAIgvA/FsIF+BavYDDWMBGroaSMMBiE8VC7AZDrIFaMFnii3AZTjUgsUUWUDA8OdAH6iQbQEhw4HyGsPEcKBXBIC4ARhex4G4BsjmweU1soIFaGg/WtoFZRIZdEvIMhxkCCjXIVsATV6gFGACs4Rsw0EGgIIH3QJYJgHSARQZDrWAB+jawzgs+Q2UO49D7jnRSRGoEFRILcdmEMWGI0cm0JJ2QpYA1RDvcmzJEWhABhD/pqrL0S0CWuABKgnRki9lLseS7g2AlqwHWQSKH4oKLrILpRGhEQCw2LiRUIa4lwAAAABJRU5ErkJggg==)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-warning[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGYSURBVEhL5ZSvTsNQFMbXZGICMYGYmJhAQIJAICYQPAACiSDB8AiICQQJT4CqQEwgJvYASAQCiZiYmJhAIBATCARJy+9rTsldd8sKu1M0+dLb057v6/lbq/2rK0mS/TRNj9cWNAKPYIJII7gIxCcQ51cvqID+GIEX8ASG4B1bK5gIZFeQfoJdEXOfgX4QAQg7kH2A65yQ87lyxb27sggkAzAuFhbbg1K2kgCkB1bVwyIR9m2L7PRPIhDUIXgGtyKw575yz3lTNs6X4JXnjV+LKM/m3MydnTbtOKIjtz6VhCBq4vSm3ncdrD2lk0VgUXSVKjVDJXJzijW1RQdsU7F77He8u68koNZTz8Oz5yGa6J3H3lZ0xYgXBK2QymlWWA+RWnYhskLBv2vmE+hBMCtbA7KX5drWyRT/2JsqZ2IvfB9Y4bWDNMFbJRFmC9E74SoS0CqulwjkC0+5bpcV1CZ8NMej4pjy0U+doDQsGyo1hzVJttIjhQ7GnBtRFN1UarUlH8F3xict+HY07rEzoUGPlWcjRFRr4/gChZgc3ZL2d8oAAAAASUVORK5CYII=)!important}#toastr-container.bottom-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:300px;margin:10px auto}#toastr-container.bottom-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96%;margin:10px auto}.toastr[_ngcontent-%COMP%]{background-color:#fff}.toastr-success[_ngcontent-%COMP%]{background-color:#51a351}.toastr-error[_ngcontent-%COMP%]{background-color:#d9534f}.toastr-info[_ngcontent-%COMP%]{background-color:#7460ee}.toastr-warning[_ngcontent-%COMP%]{background-color:#f89406}.toastr-progress[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:4px;background-color:#000;opacity:.4}@media all and (max-width:240px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:11em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:241px) and (max-width:480px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:18em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:481px) and (max-width:768px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:15px 15px 15px 50px;width:25em}}"],data:{animation:[db]}}),n})(),yd=(()=>{class n{constructor(t,r,i,l,d){this._applicationRef=t,this._componentFactoryResolver=r,this._injector=i,this.ngZone=l,this.options=d,this.toastrContainers=[],this.index=0,this.toastClicked=new Fi.x}createToastrComponent(t,r=[]){const i=this._componentFactoryResolver.resolveComponentFactory(t),l=c.XwF.resolve(r),d=c.XwF.fromResolvedProviders(l,this._injector);let f=document.createElement("div");f.id="toastr-node-"+Math.floor(200*Math.random()),document.querySelector("body").appendChild(f);const y=i.create(d,[],f);return this.attachToApplication(y),y}attachToApplication(t){this._applicationRef.attachView(t.hostView)}detachFromApplication(t){this._applicationRef.detachView(t.hostView)}isToastrContainerExist(t){return this.toastrContainers.length>0&&this.toastrContainers.findIndex(i=>i.position===t)>-1}getToastrComponentRef(t){if(this.toastrContainers.length>0){const r=this.toastrContainers.find(i=>i.position===t);return r?r.ref:null}return null}createTimeout(t){let r;return this.ngZone.runOutsideAngular(()=>{r=setTimeout(()=>this.ngZone.run(()=>this.clearToast(t)),t.config.toastTimeout)}),r.toString()}setupToast(t,r){t.id=++this.index,r&&r.hasOwnProperty("toastTimeout")&&(r.dismiss="auto");const i=Object.assign({},this.options,r||{});Object.keys(t.config).forEach(d=>{i.hasOwnProperty(d)&&(t.config[d]=i[d])}),"auto"===t.config.dismiss&&(t.timeoutId=this.createTimeout(t)),t.toastrManager=this;const l=t.config.position;return this.isToastrContainerExist(l)&&this.getToastrComponentRef(l).instance.addToastr(t),t}clearToast(t){const r=t.config.position;this.isToastrContainerExist(r)&&this.getToastrComponentRef(r).instance.removeToastr(t)}clearAllToasts(){this.toastrContainers.length>0&&this.toastrContainers.forEach(t=>{console.log(t);const r=t.ref;t.ref.instance.removeAllToasts(),this.dispose(r)})}dispose(t){if(t){const r=this.toastrContainers.findIndex(i=>i.position===t.instance.position);r>-1&&this.toastrContainers.splice(r,1),this.detachFromApplication(t)}}_onToastClicked(t){this.toastClicked.next(t),"controlled"!==t.config.dismiss&&this.clearToast(t)}dismissToastr(t){this.clearToast(t)}dismissAllToastr(){this.clearAllToasts()}onClickToast(){return this.toastClicked.asObservable()}showToastr(t,r){const i=Object.assign({},this.options,r);return new Promise((l,d)=>{if(!this.isToastrContainerExist(i.position)){let y=this.createToastrComponent(hb,[{provide:Mf,useValue:i}]);y.instance.onToastClicked=E=>{this._onToastClicked(E)},y.instance.onExit().subscribe(()=>{this.dispose(y)}),this.toastrContainers.push({position:i.position,ref:y})}l(this.setupToast(t,r))})}errorToastr(t,r,i){const d=new Pf("error",t,r,i&&i.data?i.data:null);return this.showToastr(d,i),d}infoToastr(t,r,i){const d=new Pf("info",t,r,i&&i.data?i.data:null);return this.showToastr(d,i),d}successToastr(t,r,i){const d=new Pf("success",t,r,i&&i.data?i.data:null);return this.showToastr(d,i),d}warningToastr(t,r,i){const d=new Pf("warning",t,r,i&&i.data?i.data:null);return this.showToastr(d,i),d}customToastr(t,r,i){const d=new Pf("custom",t,r,i&&i.data?i.data:null);return this.showToastr(d,i),d}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(Mf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),JT=(()=>{class n{static forRoot(){return{ngModule:n,providers:[yd,Mf]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi]}),n})(),gn=(()=>{class n{static addClass(t,r){t.classList?t.classList.add(r):t.className+=" "+r}static addMultipleClasses(t,r){if(t.classList){let i=r.trim().split(" ");for(let l=0;l<i.length;l++)t.classList.add(i[l])}else{let i=r.split(" ");for(let l=0;l<i.length;l++)t.className+=" "+i[l]}}static removeClass(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var l=0;l<r.length;l++){if(r[l]==t)return i;1==r[l].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],l=0;for(var d=0;d<i.length;d++){if(i[d]==t)return l;i[d].attributes&&i[d].attributes[r]&&1==i[d].nodeType&&l++}return-1}static relativePosition(t,r){let i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const l=r.offsetHeight,d=r.getBoundingClientRect(),f=this.getViewport();let y,E;d.top+l+i.height>f.height?(y=-1*i.height,t.style.transformOrigin="bottom",d.top+y<0&&(y=-1*d.top)):(y=l,t.style.transformOrigin="top"),E=i.width>f.width?-1*d.left:d.left+i.width>f.width?-1*(d.left+i.width-f.width):0,t.style.top=y+"px",t.style.left=E+"px"}static absolutePosition(t,r){let $,K,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),l=i.height,d=i.width,f=r.offsetHeight,y=r.offsetWidth,E=r.getBoundingClientRect(),T=this.getWindowScrollTop(),A=this.getWindowScrollLeft(),V=this.getViewport();E.top+f+l>V.height?($=E.top+T-l,t.style.transformOrigin="bottom",$<0&&($=T)):($=f+E.top+T,t.style.transformOrigin="top"),K=E.left+d>V.width?Math.max(0,E.left+A+y-d):E.left+A,t.style.top=$+"px",t.style.left=K+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const l=/(auto|scroll)/,d=f=>{let y=window.getComputedStyle(f,null);return l.test(y.getPropertyValue("overflow"))||l.test(y.getPropertyValue("overflowX"))||l.test(y.getPropertyValue("overflowY"))};for(let f of i){let y=1===f.nodeType&&f.dataset.scrollselectors;if(y){let E=y.split(",");for(let T of E){let A=this.findSingle(f,T);A&&d(A)&&r.push(A)}}9!==f.nodeType&&d(f)&&r.push(f)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),l=i?parseFloat(i):0,d=getComputedStyle(t).getPropertyValue("paddingTop"),f=d?parseFloat(d):0,y=t.getBoundingClientRect(),T=r.getBoundingClientRect().top+document.body.scrollTop-(y.top+document.body.scrollTop)-l-f,A=t.scrollTop,V=t.clientHeight,$=this.getOuterHeight(r);T<0?t.scrollTop=A+T:T+$>V&&(t.scrollTop=A+T-V+$)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,l=0,d=function(){l=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=l,i=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}static fadeOut(t,r){var i=1,f=50/r;let y=setInterval(()=>{(i-=f)<=0&&(i=0,clearInterval(y)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(d){return-1!==[].indexOf.call(document.querySelectorAll(d),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let l=getComputedStyle(t);i+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let l=getComputedStyle(t);i+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,l=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||l.clientWidth,height:t.innerHeight||i.clientHeight||l.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),i=[];for(let l of r)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&i.push(l);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class fb{constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=gn.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Ur=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),ov=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Ur.STARTS_WITH,Ur.CONTAINS,Ur.NOT_CONTAINS,Ur.ENDS_WITH,Ur.EQUALS,Ur.NOT_EQUALS],numeric:[Ur.EQUALS,Ur.NOT_EQUALS,Ur.LESS_THAN,Ur.LESS_THAN_OR_EQUAL_TO,Ur.GREATER_THAN,Ur.GREATER_THAN_OR_EQUAL_TO],date:[Ur.DATE_IS,Ur.DATE_IS_NOT,Ur.DATE_BEFORE,Ur.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Fi.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nf=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),gb=(()=>{class n{constructor(){this.clickSource=new Fi.x,this.clickObservable=this.clickSource.asObservable()}add(t){t&&this.clickSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yg=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),mb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi]}),n})(),sS=(()=>{class n{constructor(t,r,i){this.el=t,this.zone=r,this.config=i}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if(gn.removeClass(r,"p-ink-active"),!gn.getHeight(r)&&!gn.getWidth(r)){let f=Math.max(gn.getOuterWidth(this.el.nativeElement),gn.getOuterHeight(this.el.nativeElement));r.style.height=f+"px",r.style.width=f+"px"}let i=gn.getOffset(this.el.nativeElement),l=t.pageX-i.left+document.body.scrollTop-gn.getWidth(r)/2,d=t.pageY-i.top+document.body.scrollLeft-gn.getHeight(r)/2;r.style.top=d+"px",r.style.left=l+"px",gn.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let f=this.getInk();f&&gn.removeClass(f,"p-ink-active")},401)}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&gn.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),gn.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),gn.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ov,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi]}),n})();function oS(n,e){1&n&&c.GkF(0)}const aS=function(n,e,t,r){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":e,"p-button-icon-top":t,"p-button-icon-bottom":r}};function lS(n,e){if(1&n&&c._UZ(0,"span",4),2&n){const t=c.oxw();c.Tol(t.loading?"p-button-loading-icon "+t.loadingIcon:t.icon),c.Q6J("ngClass",c.l5B(4,aS,"left"===t.iconPos&&t.label,"right"===t.iconPos&&t.label,"top"===t.iconPos&&t.label,"bottom"===t.iconPos&&t.label)),c.uIk("aria-hidden",!0)}}function uS(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.uIk("aria-hidden",t.icon&&!t.label),c.xp6(1),c.Oqu(t.label||"\xa0")}}function cS(n,e){if(1&n&&(c.TgZ(0,"span",4),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.badgeClass),c.Q6J("ngClass",t.badgeStyleClass()),c.xp6(1),c.Oqu(t.badge)}}const dS=function(n,e,t,r,i){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":e,"p-disabled":t,"p-button-loading":r,"p-button-loading-label-only":i}},hS=["*"];let _b=(()=>{class n{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,gn.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&gn.addClass(t,r);let i=this.getIconClass();i&&gn.addMultipleClasses(t,i);let l=gn.findSingle(this.el.nativeElement,".p-button-label");l?this.el.nativeElement.insertBefore(t,l):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=gn.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=gn.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(gn.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),fS=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,Yg,4),2&t){let l;c.iGM(l=c.CRH())&&(r.templates=l)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:hS,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"button",0),c.NdJ("click",function(l){return r.onClick.emit(l)})("focus",function(l){return r.onFocus.emit(l)})("blur",function(l){return r.onBlur.emit(l)}),c.Hsn(1),c.YNc(2,oS,1,0,"ng-container",1),c.YNc(3,lS,1,9,"span",2),c.YNc(4,uS,2,2,"span",3),c.YNc(5,cS,2,4,"span",2),c.qZA()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",c.qbA(11,dS,r.icon&&!r.label,("top"===r.iconPos||"bottom"===r.iconPos)&&r.label,r.disabled||r.loading,r.loading,r.loading&&!r.icon&&r.label)),c.uIk("type",r.type)("aria-label",r.ariaLabel),c.xp6(2),c.Q6J("ngTemplateOutlet",r.contentTemplate),c.xp6(1),c.Q6J("ngIf",!r.contentTemplate&&(r.icon||r.loading)),c.xp6(1),c.Q6J("ngIf",!r.contentTemplate),c.xp6(1),c.Q6J("ngIf",!r.contentTemplate&&r.badge))},dependencies:[sn,kn,zs,Gs,sS],encapsulation:2,changeDetection:0}),n})(),Qg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi,yb]}),n})(),av=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Bl=(()=>{class n extends av{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const as=new c.OlP("NgValueAccessor"),wb={provide:as,useExisting:(0,c.Gpc)(()=>Jg),multi:!0};let Jg=(()=>{class n extends Bl{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[c._Bn([wb]),c.qOj]}),n})();const Eb={provide:as,useExisting:(0,c.Gpc)(()=>_d),multi:!0},Ib=new c.OlP("CompositionEventMode");let _d=(()=>{class n extends av{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bb(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ib,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([Eb]),c.qOj]}),n})();const hr=new c.OlP("NgValidators"),Qu=new c.OlP("NgAsyncValidators");function Of(n){return null!=n}function Rf(n){return(0,c.QGY)(n)?(0,Yt.D)(n):n}function er(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function gS(n,e){return e.map(t=>t(n))}function dv(n){return n.map(e=>function Ab(n){return!n.validate}(e)?e:t=>e.validate(t))}function em(n){return null!=n?function xb(n){if(!n)return null;const e=n.filter(Of);return 0==e.length?null:function(t){return er(gS(t,e))}}(dv(n)):null}function tm(n){return null!=n?function hv(n){if(!n)return null;const e=n.filter(Of);return 0==e.length?null:function(t){return function vb(...n){const e=(0,Xo.jO)(n),{args:t,keys:r}=Hw(n),i=new ro.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let y=d,E=d;for(let T=0;T<d;T++){let A=!1;(0,ag.Xf)(t[T]).subscribe((0,bi.x)(l,V=>{A||(A=!0,E--),f[T]=V},()=>y--,void 0,()=>{(!y||!A)&&(E||l.next(r?jD(r,f):f),l.complete())}))}});return e?i.pipe(jw(e)):i}(gS(t,e).map(Rf)).pipe((0,It.U)(er))}}(dv(n)):null}function fv(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pv(n){return n?Array.isArray(n)?n:[n]:[]}function jl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Nb(n,e){const t=pv(e);return pv(n).forEach(i=>{jl(t,i)||t.push(i)}),t}function Ob(n,e){return pv(e).filter(t=>!jl(n,t))}class Rb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=em(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Br extends Rb{get formDirective(){return null}get path(){return null}}class Xa extends Rb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Xu=(()=>{class n extends class gv{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xa,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})();const vd="VALID",$l="INVALID",wd="PENDING",Lf="DISABLED";function Fb(n){return Array.isArray(n)?em(n):n||null}function wv(n){return Array.isArray(n)?tm(n):n||null}function sm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ec(n,e){(function Ev(n,e){const t=function Mb(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(fv(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Pb(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(fv(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ff(e._rawValidators,i),Ff(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function DS(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Hb(n,e)})}(n,e),function jb(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Hb(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Bb(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ff(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hb(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function dm(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const NS={provide:Xa,useExisting:(0,c.Gpc)(()=>Id)},OS=(()=>Promise.resolve())();let Id=(()=>{class n extends Xa{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new class extends class Ub{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Fb(this._rawValidators),this._composedAsyncValidatorFn=wv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vd}get invalid(){return this.status===$l}get pending(){return this.status==wd}get disabled(){return this.status===Lf}get enabled(){return this.status!==Lf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Fb(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wv(e)}addValidators(e){this.setValidators(Nb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ob(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ob(e,this._rawAsyncValidators))}hasValidator(e){return jl(this._rawValidators,e)}hasAsyncValidator(e){return jl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vd||this.status===wd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lf:vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wd,this._hasOwnPendingAsyncValidator=!0;const t=Rf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Lf:this.errors?$l:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wd)?wd:this._anyControlsHaveStatus($l)?$l:vd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function _v(n){return(sm(n)?n.validators:n)||null}(t),function vv(n,e){return(sm(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=dm(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){dm(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function cm(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===_d?t=l:function AS(n){return Object.getPrototypeOf(n.constructor)===Bl}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Iv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ec(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){OS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,c.D6c)(r);OS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function am(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Br,9),c.Y36(hr,10),c.Y36(Qu,10),c.Y36(as,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([NS]),c.qOj,c.TTD]}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Pv=new c.OlP("NgModelWithFormControlWarning");let lI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[pm]}),n})(),Uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lI]}),n})(),wm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lI]}),n})(),Bv=(()=>{class n{constructor(t,r,i){this.el=t,this.ngModel=r,this.cd=i}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Id,8),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r.onInput(l)}),2&t&&c.ekj("p-filled",r.filled)}}),n})(),JS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi]}),n})();var Uf=function Hv(){let n=[];const i=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:i,set:(l,d,f)=>{d&&(d.style.zIndex=String(((l,d)=>{let f=n.length>0?n[n.length-1]:{key:l,value:d},y=f.value+(f.key===l?0:d)+1;return n.push({key:l,value:y}),y})(l,f)))},clear:l=>{l&&((l=>{n=n.filter(d=>d.value!==l)})(i(l)),l.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const eA=["input"];function tA(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"i",5),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.clear())}),c.qZA()}}function nA(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"i",6),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.onMaskToggle())}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("ngClass",t.toggleIconClass())}}function rA(n,e){1&n&&c.GkF(0)}function dI(n,e){1&n&&c.GkF(0)}function jv(n,e){if(1&n&&(c.ynx(0),c.YNc(1,dI,1,0,"ng-container",8),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",t.contentTemplate)}}const hI=function(n){return{width:n}};function fI(n,e){if(1&n&&(c.TgZ(0,"div",11),c._UZ(1,"div",0),c.qZA(),c.TgZ(2,"div",12),c._uU(3),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngClass",t.strengthClass())("ngStyle",c.VKq(3,hI,t.meter?t.meter.width:"")),c.xp6(2),c.Oqu(t.infoText)}}function pI(n,e){1&n&&c.GkF(0)}const gI=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},iA=function(n){return{value:"visible",params:n}};function mI(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6,7),c.NdJ("click",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onOverlayClick(i))})("@overlayAnimation.start",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onAnimationStart(i))})("@overlayAnimation.done",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onAnimationEnd(i))}),c.YNc(2,rA,1,0,"ng-container",8),c.YNc(3,jv,2,1,"ng-container",9),c.YNc(4,fI,4,5,"ng-template",null,10,c.W1O),c.YNc(6,pI,1,0,"ng-container",8),c.qZA()}if(2&n){const t=c.MAs(5),r=c.oxw();c.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",c.VKq(9,iA,c.WLB(6,gI,r.showTransitionOptions,r.hideTransitionOptions))),c.xp6(2),c.Q6J("ngTemplateOutlet",r.headerTemplate),c.xp6(1),c.Q6J("ngIf",r.contentTemplate)("ngIfElse",t),c.xp6(3),c.Q6J("ngTemplateOutlet",r.footerTemplate)}}const oA={provide:as,useExisting:(0,c.Gpc)(()=>Im),multi:!0};let Im=(()=>{class n{constructor(t,r,i,l){this.cd=t,this.config=r,this.el=i,this.overlayService=l,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new c.vpe,this.onBlur=new c.vpe,this.onClear=new c.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,Uf.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(t){"void"===t.toState&&Uf.clear(t.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=gn.getOuterWidth(this.input.nativeElement)+"px",gn.absolutePosition(this.overlay,this.input.nativeElement)):gn.relativePosition(this.overlay,this.input.nativeElement)}onInput(t){this.value=t.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(t)}onKeyDown(t){"Escape"===t.key&&(this.overlayVisible=!1)}onKeyUp(t){this.feedback&&(this.updateUI(t.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(t){let r=null,i=null;switch(this.testStrength(t)){case 1:r=this.weakText(),i={strength:"weak",width:"33.33%"};break;case 2:r=this.mediumText(),i={strength:"medium",width:"66.66%"};break;case 3:r=this.strongText(),i={strength:"strong",width:"100%"};break;default:r=this.promptText(),i=null}this.meter=i,this.infoText=r}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}testStrength(t){let r=0;return this.strongCheckRegExp.test(t)?r=3:this.mediumCheckRegExp.test(t)?r=2:t.length&&(r=1),r}writeValue(t){this.value=void 0===t?null:t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new fb(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!gn.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(Nf.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(Nf.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(Nf.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(Nf.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(t){return this.config.getTranslation(t)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(Uf.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(ov),c.Y36(c.SBq),c.Y36(gb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-password"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,Yg,4),2&t){let l;c.iGM(l=c.CRH())&&(r.templates=l)}},viewQuery:function(t,r){if(1&t&&c.Gf(eA,5),2&t){let i;c.iGM(i=c.CRH())&&(r.input=i.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(t,r){2&t&&c.ekj("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused)("p-password-clearable",r.showClear)("p-password-mask",r.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[c._Bn([oA])],decls:6,vars:18,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"input",1,2),c.NdJ("input",function(l){return r.onInput(l)})("focus",function(l){return r.onInputFocus(l)})("blur",function(l){return r.onInputBlur(l)})("keyup",function(l){return r.onKeyUp(l)})("keydown",function(l){return r.onKeyDown(l)}),c.qZA(),c.YNc(3,tA,1,0,"i",3),c.YNc(4,nA,1,1,"i",4),c.YNc(5,mI,7,11,"div",4),c.qZA()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngClass",r.containerClass())("ngStyle",r.style),c.xp6(1),c.Tol(r.inputStyleClass),c.Q6J("ngClass",r.inputFieldClass())("ngStyle",r.inputStyle)("value",r.value),c.uIk("label",r.label)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.inputId)("type",r.inputType())("placeholder",r.placeholder),c.xp6(2),c.Q6J("ngIf",r.showClear&&null!=r.value),c.xp6(1),c.Q6J("ngIf",r.toggleMask),c.xp6(1),c.Q6J("ngIf",r.overlayVisible))},dependencies:[sn,kn,zs,Gs,Bv],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Iu("overlayAnimation",[Wr(":enter",[pn({opacity:0,transform:"scaleY(0.8)"}),fn("{{showTransitionParams}}")]),Wr(":leave",[fn("{{hideTransitionParams}}",pn({opacity:0}))])])]},changeDetection:0}),n})(),$v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi,JS,mb]}),n})();const Ci=["*"];let tc=(()=>{class n{constructor(){this.layout="horizontal",this.type="solid"}containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",layout:"layout",type:"type",align:"align"},ngContentSelectors:Ci,decls:3,vars:4,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA()()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngClass",r.containerClass())("ngStyle",r.style))},dependencies:[sn,Gs],styles:['.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}\n'],encapsulation:2,changeDetection:0}),n})(),aA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi]}),n})(),yI=(()=>{class n{constructor(){this.imgPath=""}ngOnInit(){this.imgPath="attachment_edit.png"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sideBar"]],decls:1,vars:0,consts:[[1,"col-12","positionFixed","cover","w-100","h-100"]],template:function(t,r){1&t&&c._UZ(0,"div",0)},styles:[".cover[_ngcontent-%COMP%]{background:url(login.582c05e8ac0087fe.jpeg);background-size:cover;background-repeat:no-repeat;position:absolute;top:0;left:0;z-index:-1;opacity:.9}"]}),n})();function _N(n,e){1&n&&(c.TgZ(0,"h6"),c._uU(1,"Pick a password"),c.qZA())}function vN(n,e){1&n&&(c._UZ(0,"p-divider"),c.TgZ(1,"p",24),c._uU(2,"Suggestions"),c.qZA(),c.TgZ(3,"ul",25)(4,"li"),c._uU(5,"At least one lowercase"),c.qZA(),c.TgZ(6,"li"),c._uU(7,"At least one uppercase"),c.qZA(),c.TgZ(8,"li"),c._uU(9,"At least one numeric"),c.qZA(),c.TgZ(10,"li"),c._uU(11,"Minimum 8 characters"),c.qZA()())}const Td=function(){return{width:"100%"}};let Gv=(()=>{class n{constructor(t,r,i,l){this.userService=t,this.loginService=r,this.route=i,this.toastr=l,this.userData=[],this.apiStatus="",this.password="",this.email=""}ngOnInit(){this.apiStatus="not connected"}loginUser(){this.apiStatus="connected",console.log("login");let t={email_id:this.email,password:this.password};console.log(t),this.loginService.loginUser(t).subscribe(r=>{this.apiStatus="success",console.log(r),200==r.statusCode?(localStorage.setItem("email_id",this.email),this.toastr.successToastr("Login Success"),this.route.navigate(["/home"])):this.toastr.errorToastr("Invalid Credentials")})}signUp(){console.log(this.route.url),this.route.navigate(["/signup"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(iv),c.Y36(KT),c.Y36(Tr),c.Y36(yd))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:17,consts:[[1,"h-100","w-100","background"],[1,"row","h-100","w-100","align-items-center","header"],[1,"col","login-part"],[1,"d-flex","justify-content-center"],[1,"col-lg-6","col-sm-7","mt-5"],[1,"fs-2","fw-semibold"],[1,"mt-3","fs-5","fw-normal"],[1,"mt-4","row"],[1,"col-12","email-heading"],[1,"col-12","mt-2"],["type","text","pInputText","","placeholder","example@gmail.com",1,"p-inputtext-sm","shadow",3,"ngModel","ngModelChange"],[1,"mt-4"],[1,"d-flex","justify-content-between"],["href","#"],[1,"mt-2","w-100"],[1,"shadow-lg",3,"inputStyle","ngModel","toggleMask","ngModelChange"],["pTemplate","header"],["pTemplate","footer"],[1,"mt-4","text-center"],["pButton","","pRipple","","type","button","label","Login",3,"click"],["label","Sign-in with Google","icon","pi pi-google",1,""],[1,"mt-4","d-flex","fw-semibold"],[1,"mx-2"],[3,"click"],[1,"p-mt-2"],[1,"p-pl-2","p-ml-2","p-mt-0",2,"line-height","1.5"]],template:function(t,r){1&t&&(c._UZ(0,"app-sideBar",0),c.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),c._uU(6,"Hello ! Welcome back"),c.qZA(),c.TgZ(7,"div",6),c._uU(8," Log in with your data that you entered during your registration "),c.qZA(),c.TgZ(9,"div",7)(10,"span",8),c._uU(11,"Email address"),c.qZA(),c.TgZ(12,"span",9)(13,"input",10),c.NdJ("ngModelChange",function(l){return r.email=l}),c.qZA()()(),c.TgZ(14,"div",11)(15,"div",12)(16,"span"),c._uU(17,"Password"),c.qZA(),c.TgZ(18,"span")(19,"a",13),c._uU(20,"Forget Password"),c.qZA()()(),c.TgZ(21,"div",14)(22,"p-password",15),c.NdJ("ngModelChange",function(l){return r.password=l}),c.YNc(23,_N,2,0,"ng-template",16),c.YNc(24,vN,12,0,"ng-template",17),c.qZA()()(),c.TgZ(25,"div",18)(26,"button",19),c.NdJ("click",function(){return r.loginUser()}),c.qZA()(),c.TgZ(27,"div"),c._UZ(28,"p-divider"),c.qZA(),c.TgZ(29,"div",18),c._UZ(30,"p-button",20),c.qZA(),c.TgZ(31,"div",21)(32,"span"),c._uU(33," Don't have an account "),c.qZA(),c.TgZ(34,"span",22)(35,"a",23),c.NdJ("click",function(){return r.signUp()}),c._uU(36,"Sign Up"),c.qZA()()()()()()()),2&t&&(c.xp6(13),c.Akn(c.DdM(12,Td)),c.Q6J("ngModel",r.email),c.xp6(9),c.Akn(c.DdM(13,Td)),c.Q6J("inputStyle",c.DdM(14,Td))("ngModel",r.password)("toggleMask",!0),c.xp6(4),c.Akn(c.DdM(15,Td)),c.xp6(4),c.Akn(c.DdM(16,Td)))},dependencies:[_b,fS,Bv,Im,Yg,tc,_d,Xu,Id,yI],styles:[".header[_ngcontent-%COMP%], .background[_ngcontent-%COMP%]{height:100vh!important;width:100%!important;overflow:hidden;margin:0}@media screen and (max-width: 922px){.hide-m-s[_ngcontent-%COMP%]{display:none}}"]}),n})();k(552);var dt,mn=k(2090),el=k(9681),zl=k(1877),Bf=k(4859),be=k(5861),lA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tl={},Dm=Dm||{},jt=lA||self;function nc(){}function Sd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Tm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zv="closure_uid_"+(1e9*Math.random()>>>0),vI=0;function Ad(n,e,t){return n.call.apply(n.bind,arguments)}function uA(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Zr(n,e,t){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ad:uA).apply(null,arguments)}function xd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ai(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function ql(){this.s=this.s,this.o=this.o}ql.prototype.s=!1,ql.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function _I(n){Object.prototype.hasOwnProperty.call(n,zv)&&n[zv]||(n[zv]=++vI)}(this)},ql.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function EI(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Sd(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function Yr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Yr.prototype.h=function(){this.defaultPrevented=!0};var bI=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",nc,e),jt.removeEventListener("test",nc,e)}catch{}return n}();function Sm(n){return/^[\s\xa0]*$/.test(n)}var Wv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Am(n,e){return n<e?-1:n>e?1:0}function xm(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function aa(n){return-1!=xm().indexOf(n)}function Mm(n){return Mm[" "](n),n}Mm[" "]=nc;var Hf,n,II=aa("Opera"),rc=aa("Trident")||aa("MSIE"),Kv=aa("Edge"),Pm=Kv||rc,CI=aa("Gecko")&&!(-1!=xm().toLowerCase().indexOf("webkit")&&!aa("Edge"))&&!(aa("Trident")||aa("MSIE"))&&!aa("Edge"),dA=-1!=xm().toLowerCase().indexOf("webkit")&&!aa("Edge");function hA(){var n=jt.document;return n?n.documentMode:void 0}e:{var DI="",TI=(n=xm(),CI?/rv:([^\);]+)(\)|;)/.exec(n):Kv?/Edge\/([\d\.]+)/.exec(n):rc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dA?/WebKit\/(\S+)/.exec(n):II?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(TI&&(DI=TI?TI[1]:""),rc){var SI=hA();if(null!=SI&&SI>parseFloat(DI)){Hf=String(SI);break e}}Hf=DI}var EN={};var IN=jt.document&&rc&&(hA()||parseInt(Hf,10))||void 0;function Wl(n,e){if(Yr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(CI){e:{try{Mm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CN[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wl.X.h.call(this)}}ai(Wl,Yr);var CN={2:"touch",3:"pen",4:"mouse"};Wl.prototype.h=function(){Wl.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Md="closure_listenable_"+(1e6*Math.random()|0),Nm=0;function xI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Nm,this.ba=this.ea=!1}function jf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function MI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Om(n){const e={};for(const t in n)e[t]=n[t];return e}const Zv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Zv.length;l++)t=Zv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $f(n){this.src=n,this.g={},this.h=0}function NI(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=wI(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(jf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yv(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}$f.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Yv(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new xI(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var Qv="closure_lm_"+(1e6*Math.random()|0),Jv={};function Gf(n,e,t,r,i){if(r&&r.once)return pA(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Gf(n,e[l],t,r,i);return null}return t=Rm(t),n&&n[Md]?n.N(e,t,Tm(r)?!!r.capture:!!r,i):OI(n,e,t,!1,r,i)}function OI(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=Tm(i)?!!i.capture:!!i,f=kI(n);if(f||(n[Qv]=f=new $f(n)),(t=f.add(e,t,r,d,l)).proxy)return t;if(r=function DN(){const e=mA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bI||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(RI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function pA(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pA(n,e[l],t,r,i);return null}return t=Rm(t),n&&n[Md]?n.O(e,t,Tm(r)?!!r.capture:!!r,i):OI(n,e,t,!0,r,i)}function gA(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)gA(n,e[l],t,r,i);else r=Tm(r)?!!r.capture:!!r,t=Rm(t),n&&n[Md]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yv(l=n.g[e],t,r,i))&&(jf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=kI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yv(e,t,r,i)),(t=-1<n?e[n]:null)&&Xv(t))}function Xv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Md])NI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(RI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=kI(e))?(NI(t,n),0==t.h&&(t.src=null,e[Qv]=null)):jf(n)}}}function RI(n){return n in Jv?Jv[n]:Jv[n]="on"+n}function mA(n,e){if(n.ba)n=!0;else{e=new Wl(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Xv(n),n=t.call(r,e)}return n}function kI(n){return(n=n[Qv])instanceof $f?n:null}var e0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(n){return"function"==typeof n?n:(n[e0]||(n[e0]=function(e){return n.handleEvent(e)}),n[e0])}function Ar(){ql.call(this),this.i=new $f(this),this.P=this,this.I=null}function li(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Yr(e,n);else if(e instanceof Yr)e.target=e.target||n;else{var i=e;PI(e=new Yr(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Ui(d,r,!0,e)&&i}if(i=Ui(d=e.g=n,r,!0,e)&&i,i=Ui(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Ui(d=e.g=t[l],r,!1,e)&&i}function Ui(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var f=d.listener,y=d.ha||d.src;d.ea&&NI(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}ai(Ar,ql),Ar.prototype[Md]=!0,Ar.prototype.removeEventListener=function(n,e,t,r){gA(this,n,e,t,r)},Ar.prototype.M=function(){if(Ar.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)jf(t[r]);delete n.g[e],n.h--}}this.I=null},Ar.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ar.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var t0=jt.JSON.stringify;function n0(){var n=a0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var s0,ls=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new _A,n=>n.reset());class _A{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function r0(n){jt.setTimeout(()=>{throw n},0)}function LI(n,e){s0||function o0(){var n=jt.Promise.resolve(void 0);s0=function(){n.then(vA)}}(),km||(s0(),km=!0),a0.add(n,e)}var km=!1,a0=new class yA{constructor(){this.h=this.g=null}add(e,t){const r=ls.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function vA(){for(var n;n=n0();){try{n.h.call(n.g)}catch(t){r0(t)}var e=ls;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}km=!1}function zf(n,e){Ar.call(this),this.h=n||1,this.g=e||jt,this.j=Zr(this.lb,this),this.l=Date.now()}function Lm(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function l0(n,e,t){if("function"==typeof n)t&&(n=Zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function u0(n){n.g=l0(()=>{n.g=null,n.i&&(n.i=!1,u0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ai(zf,Ar),(dt=zf.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),li(this,"tick"),this.ca&&(Lm(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){zf.X.M.call(this),Lm(this),delete this.g};class wA extends ql{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:u0(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(n){ql.call(this),this.h=n,this.g={}}ai(ic,ql);var nl=[];function c0(n,e,t,r){Array.isArray(t)||(t&&(nl[0]=t.toString()),t=nl);for(var i=0;i<t.length;i++){var l=Gf(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Fm(n){MI(n.g,function(e,t){this.g.hasOwnProperty(t)&&Xv(e)},n),n.g={}}function Os(){this.g=!0}function Pd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return t0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ic.prototype.M=function(){ic.X.M.call(this),Fm(this)},ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Os.prototype.Aa=function(){this.g=!1},Os.prototype.info=function(){};var sc={},d0=null;function h0(){return d0=d0||new Ar}function f0(n){Yr.call(this,sc.Pa,n)}function qf(n){const e=h0();li(e,new f0(e))}function p0(n,e){Yr.call(this,sc.STAT_EVENT,n),this.stat=e}function Bi(n){const e=h0();li(e,new p0(e,n))}function Vm(n,e){Yr.call(this,sc.Qa,n),this.size=e}function Nd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}sc.Pa="serverreachability",ai(f0,Yr),sc.STAT_EVENT="statevent",ai(p0,Yr),sc.Qa="timingevent",ai(Vm,Yr);var Wf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},g0={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Um(){}function Kf(){}Um.prototype.h=null;var Hm,Kl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bm(){Yr.call(this,"d")}function y0(){Yr.call(this,"c")}function Zf(){}function Yf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ic(this),this.O=SN,this.T=new zf(n=Pm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new FI}function FI(){this.i=null,this.g="",this.h=!1}ai(Bm,Yr),ai(y0,Yr),ai(Zf,Um),Zf.prototype.g=function(){return new XMLHttpRequest},Zf.prototype.i=function(){return{}},Hm=new Zf;var SN=45e3,VI={},Qf={};function _0(n,e,t){n.K=1,n.v=I0(il(e)),n.s=t,n.P=!0,UI(n,null)}function UI(n,e){n.F=Date.now(),jm(n),n.A=il(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),C0(t.i,"t",r),n.C=0,t=n.l.H,n.h=new FI,n.g=kN(n.l,t?e:null,!n.s),0<n.N&&(n.L=new wA(Zr(n.La,n,n.g),n.N)),c0(n.S,n.g,"readystatechange",n.ib),e=n.H?Om(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),qf(),function EA(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),y=0;y<f.length;y++){var E=f[y].split("=");if(1<E.length){var T=E[0];E=E[1];var A=T.split("_");d=2<=A.length&&"type"==A[1]?d+(T+"=")+E+"&":d+(T+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function BI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function CA(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=AN(n,t),i==Qf){4==e&&(n.o=4,Bi(14),r=!1),Pd(n.j,n.m,null,"[Incomplete Response]");break}if(i==VI){n.o=4,Bi(15),Pd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pd(n.j,n.m,i,null),w0(n,i)}BI(n)&&i!=Qf&&i!=VI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),np(e),e.K=!0,Bi(11))):(Pd(n.j,n.m,t,"[Invalid Chunked Response]"),la(n),Jf(n))}function AN(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Qf:(t=Number(e.substring(t,r)),isNaN(t)?VI:(r+=1)+t>e.length?Qf:(e=e.substr(r,t),n.C=r+t,e))}function jm(n){n.V=Date.now()+n.O,DA(n,n.O)}function DA(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Nd(Zr(n.gb,n),e)}function v0(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Jf(n){0==n.l.G||n.I||Ym(n.l,n)}function la(n){v0(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Lm(n.T),Fm(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function w0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ZI(t.h,n)))if(!n.J&&ZI(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ld(t),it(t)}tp(t),Bi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Nd(Zr(t.cb,t),6e3));if(1>=PA(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ol(t,11)}else if((n.J||t.g==n)&&Ld(t),!Sm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.T=E[0],E=E[1],2==t.G)if("c"==E[0]){t.I=E[1],t.ka=E[2];const T=E[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const A=E[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const V=E[5];null!=V&&"number"==typeof V&&0<V&&(t.J=r=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const K=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var l=r.h;l.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(D0(l,l.h),l.h=null))}if(r.D){const ce=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(r.za=ce,tr(r.F,r.D,ce))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=RN(r,r.H?r.ka:null,r.V),d.J){YI(r.h,d);var f=d,y=r.J;y&&f.setTimeout(y),f.B&&(v0(f),jm(f)),r.g=d}else Km(r);0<t.i.length&&xe(t)}else"stop"!=E[0]&&"close"!=E[0]||ol(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?ol(t,7):qe(t):"noop"!=E[0]&&t.l&&t.l.wa(E),t.A=0)}qf()}catch{}}function Zl(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Sd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function HI(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Sd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Sd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(dt=Yf.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==P(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const T=P(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||Pm||this.g&&(this.h.h||this.g.fa()||L(this.g)))){this.I||4!=T||7==e||qf(),v0(this);var t=this.g.aa();this.Y=t;t:if(BI(this)){var r=L(this.g);n="";var i=r.length,l=4==P(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){la(this),Jf(this);var d="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function TN(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sm(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Bi(12),la(this),Jf(this);break e}Pd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,w0(this,t)}this.P?(CA(this,T,d),Pm&&this.i&&3==T&&(c0(this.S,this.T,"tick",this.hb),this.T.start())):(Pd(this.j,this.m,d,null),w0(this,d)),4==T&&la(this),this.i&&!this.I&&(4==T?Ym(this.l,this):(this.i=!1,jm(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),la(this),Jf(this)}}}catch{}},dt.hb=function(){if(this.g){var n=P(this.g),e=this.g.fa();this.C<e.length&&(v0(this),CA(this,n,e),this.i&&4!=n&&jm(this))}},dt.cancel=function(){this.I=!0,la(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function bA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(qf(),Bi(17)),la(this),this.o=2,Jf(this)):DA(this,this.V-n)};var E0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof rl){this.h=void 0!==e?e:n.h,Od(this,n.j),this.s=n.s,this.g=n.g,Rd(this,n.m),this.l=n.l,e=n.i;var t=new kd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Xf(this,t),this.o=n.o}else n&&(t=String(n).match(E0))?(this.h=!!e,Od(this,t[1]||"",!0),this.s=$m(t[2]||""),this.g=$m(t[3]||"",!0),Rd(this,t[4]),this.l=$m(t[5]||"",!0),Xf(this,t[6]||"",!0),this.o=$m(t[7]||"")):(this.h=!!e,this.i=new kd(null,this.h))}function il(n){return new rl(n)}function Od(n,e,t){n.j=t?$m(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Rd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Xf(n,e,t){e instanceof kd?(n.i=e,function xN(n,e){e&&!n.j&&(sl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(zI(this,r),C0(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gm(e,xA)),n.i=new kd(e,n.h))}function tr(n,e,t){n.i.set(e,t)}function I0(n){return tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $m(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}rl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gm(e,$I,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gm(e,$I,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gm(t,"/"==t.charAt(0)?AA:SA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gm(t,GI)),n.join("")};var $I=/[#\/\?@]/g,SA=/[#\?:]/g,AA=/[#\?]/g,xA=/[#\?@]/g,GI=/#/g;function kd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sl(n){n.g||(n.g=new Map,n.h=0,n.i&&function b0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zI(n,e){sl(n),e=Yl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qI(n,e){return sl(n),e=Yl(n,e),n.g.has(e)}function C0(n,e,t){zI(n,e),0<t.length&&(n.i=null,n.g.set(Yl(n,e),qv(t)),n.h+=t.length)}function Yl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zm(n){this.l=n||MA,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=kd.prototype).add=function(n,e){sl(this),this.i=null,n=Yl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){sl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.oa=function(){sl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},dt.W=function(n){sl(this);let e=[];if("string"==typeof n)qI(this,n)&&(e=e.concat(this.g.get(Yl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return sl(this),this.i=null,qI(this,n=Yl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var MA=10;function KI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PA(n){return n.h?1:n.g?n.g.size:0}function ZI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function D0(n,e){n.g?n.g.add(e):n.h=e}function YI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return qv(n.i)}function JI(){}function MN(){this.g=new JI}function PN(n,e,t){const r=t||"";try{Zl(n,function(i,l){let d=i;Tm(i)&&(d=t0(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function T0(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ep(n){this.l=n.ac||null,this.j=n.jb||!1}function S0(n,e){Ar.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=XI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zm.prototype.cancel=function(){if(this.i=QI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},JI.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},JI.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},ai(ep,Um),ep.prototype.g=function(){return new S0(this.l,this.j)},ep.prototype.i=function(n){return function(){return n}}({}),ai(S0,Ar);var XI=0;function NA(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function qm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wm(n)}function Wm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=S0.prototype).open=function(n,e){if(this.readyState!=XI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wm(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qm(this)),this.readyState=XI},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wm(this)),this.g&&(this.readyState=3,Wm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NA(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qm(this):Wm(this),3==this.readyState&&NA(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,qm(this))},dt.Ua=function(n){this.g&&(this.response=n,qm(this))},dt.ga=function(){this.g&&qm(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(S0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ON=jt.JSON.parse;function s(n){Ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=o,this.K=this.L=!1}ai(s,Ar);var o="",a=/^https?$/i,u=["POST","PUT"];function p(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_(n),I(n)}function _(n){n.D||(n.D=!0,li(n,"complete"),li(n,"error"))}function w(n){if(n.h&&typeof Dm<"u"&&(!n.C[1]||4!=P(n)||2!=n.aa()))if(n.v&&4==P(n))l0(n.Ha,0,n);else if(li(n,"readystatechange"),4==P(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(E0)[1]||null;if(!i&&jt.self&&jt.self.location){var l=jt.self.location.protocol;i=l.substr(0,l.length-1)}r=!a.test(i?i.toLowerCase():"")}t=r}if(t)li(n,"complete"),li(n,"success");else{n.m=6;try{var d=2<P(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",_(n)}}finally{I(n)}}}function I(n,e){if(n.g){S(n);const t=n.g,r=n.C[0]?nc:null;n.g=null,n.C=null,e||li(n,"ready");try{t.onreadystatechange=r}catch{}}}function S(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function P(n){return n.g?n.g.readyState:0}function L(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case o:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function W(n){let e="";return MI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ne(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=W(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tr(n,e,t))}function we(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function je(n){this.Ca=0,this.i=[],this.j=new Os,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=we("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=we("baseRetryDelayMs",5e3,n),this.bb=we("retryDelaySeedMs",1e4,n),this.$a=we("forwardChannelMaxRetries",2,n),this.ta=we("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new zm(n&&n.concurrentRequestLimit),this.Fa=new MN,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function qe(n){if(Ct(n),3==n.G){var e=n.U++,t=il(n.F);tr(t,"SID",n.I),tr(t,"RID",e),tr(t,"TYPE","terminate"),Mn(n,t),(e=new Yf(n,n.j,e,void 0)).K=2,e.v=I0(il(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=kN(e.l,null),e.g.da(e.v)),e.F=Date.now(),jm(e)}Jm(n)}function it(n){n.g&&(np(n),n.g.cancel(),n.g=null)}function Ct(n){it(n),n.u&&(jt.clearTimeout(n.u),n.u=null),Ld(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function xe(n){KI(n.h)||n.m||(n.m=!0,LI(n.Ja,n),n.C=0)}function yn(n,e){var t;t=e?e.m:n.U++;const r=il(n.F);tr(r,"SID",n.I),tr(r,"RID",t),tr(r,"AID",n.T),Mn(n,r),n.o&&n.s&&ne(r,n.o,n.s),t=new Yf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Ql(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),D0(n.h,t),_0(t,r,e)}function Mn(n,e){n.ia&&MI(n.ia,function(t,r){tr(e,r,t)}),n.l&&Zl({},function(t,r){tr(e,r,t)})}function Ql(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Zr(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let y=0;y<t;y++){let E=i[y].h;const T=i[y].g;if(E-=l,0>E)l=Math.max(0,i[y].h-100),f=!1;else try{PN(T,d,"req"+E+"_")}catch{r&&r(T)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Km(n){n.g||n.u||(n.Z=1,LI(n.Ia,n),n.A=0)}function tp(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Nd(Zr(n.Ia,n),Qm(n,n.A)),n.A++,0))}function np(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function Zm(n){n.g=new Yf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=il(n.sa);tr(e,"RID","rpc"),tr(e,"SID",n.I),tr(e,"CI",n.L?"0":"1"),tr(e,"AID",n.T),tr(e,"TYPE","xmlhttp"),Mn(n,e),n.o&&n.s&&ne(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=I0(il(e)),t.s=null,t.P=!0,UI(t,n)}function Ld(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function Ym(n,e){var t=null;if(n.g==e){Ld(n),np(n),n.g=null;var r=2}else{if(!ZI(n.h,e))return;t=e.D,YI(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;li(r=h0(),new Vm(r,t)),xe(n)}else Km(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function kt(n,e){return!(PA(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Nd(Zr(n.Ja,n,e),Qm(n,n.C)),n.C++,0)))}(n,e)||2==r&&tp(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:ol(n,5);break;case 4:ol(n,10);break;case 3:ol(n,6);break;default:ol(n,2)}}function Qm(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ol(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Zr(n.kb,n);t||(t=new rl("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Od(t,"https"),I0(t)),function NN(n,e){const t=new Os;if(jt.Image){const r=new Image;r.onload=xd(T0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=xd(T0,t,r,"TestLoadImage: error",!1,e),r.onabort=xd(T0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=xd(T0,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bi(2);n.G=0,n.l&&n.l.va(e),Jm(n),Ct(n)}function Jm(n){if(n.G=0,n.la=[],n.l){const e=QI(n.h);(0!=e.length||0!=n.i.length)&&(EI(n.la,e),EI(n.la,n.i),n.h.i.length=0,qv(n.i),n.i.length=0),n.l.ua()}}function RN(n,e,t){var r=t instanceof rl?il(t):new rl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Rd(r,r.m);else{var i=jt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new rl(null,void 0);r&&Od(l,r),e&&(l.g=e),i&&Rd(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&tr(r,t,e),tr(r,"VER",n.ma),Mn(n,r),r}function kN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new s(t&&n.Da&&!n.ra?new ep({jb:!0}):n.ra)).Ka(n.H),e}function LN(){}function eC(){if(rc&&!(10<=Number(IN)))throw Error("Environmental error: no available transport.")}function ho(n,e){Ar.call(this),this.g=new je(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Sm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xm(this)}function FN(n){Bm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function VN(){y0.call(this),this.status=1}function Xm(n){this.g=n}(dt=s.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hm.g(),this.C=function m0(n){return n.h||(n.h=n.i())}(this.u?this.u:Hm),this.g.onreadystatechange=Zr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void p(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=jt.FormData&&n instanceof jt.FormData,!(0<=wI(u,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{S(this),0<this.B&&((this.K=function h(n){return rc&&function bN(){return function cA(n){var e=EN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Wv(String(Hf)).split("."),t=Wv("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Am(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Am(0==i[2].length,0==l[2].length)||Am(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.qa,this)):this.A=l0(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){p(this,l)}},dt.qa=function(){typeof Dm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,li(this,"complete"),li(this,"abort"),I(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),I(this,!0)),s.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?w(this):this.fb())},dt.fb=function(){w(this)},dt.aa=function(){try{return 2<P(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ON(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=je.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Yf(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Om(l),PI(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ql(this,i,e),tr(t=il(this.F),"RID",n),tr(t,"CVER",22),this.D&&tr(t,"X-HTTP-Session-Id",this.D),Mn(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(W(l)))+"&"+e:this.o&&ne(t,this.o,l)),D0(this.h,i),this.Ya&&tr(t,"TYPE","init"),this.O?(tr(t,"$req",e),tr(t,"SID","null"),i.Z=!0,_0(i,t,null)):_0(i,t,e),this.G=2}}else 3==this.G&&(n?yn(this,n):0==this.i.length||KI(this.h)||yn(this))},dt.Ia=function(){if(this.u=null,Zm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Nd(Zr(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bi(10),it(this),Zm(this))},dt.cb=function(){null!=this.v&&(this.v=null,it(this),tp(this),Bi(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Bi(2)):(this.j.info("Failed to ping google.com"),Bi(1))},(dt=LN.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},eC.prototype.g=function(n,e){return new ho(n,e)},ai(ho,Ar),ho.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Bi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=RN(n,null,n.V),xe(n)},ho.prototype.close=function(){qe(this.g)},ho.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=t0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&xe(e)},ho.prototype.M=function(){this.g.l=null,delete this.j,qe(this.g),delete this.g,ho.X.M.call(this)},ai(FN,Bm),ai(VN,y0),ai(Xm,LN),Xm.prototype.xa=function(){li(this.g,"a")},Xm.prototype.wa=function(n){li(this.g,new FN(n))},Xm.prototype.va=function(n){li(this.g,new VN)},Xm.prototype.ua=function(){li(this.g,"b")},eC.prototype.createWebChannel=eC.prototype.g,ho.prototype.send=ho.prototype.u,ho.prototype.open=ho.prototype.m,ho.prototype.close=ho.prototype.close,Wf.NO_ERROR=0,Wf.TIMEOUT=8,Wf.HTTP_ERROR=6,g0.COMPLETE="complete",Kf.EventType=Kl,Kl.OPEN="a",Kl.CLOSE="b",Kl.ERROR="c",Kl.MESSAGE="d",Ar.prototype.listen=Ar.prototype.N,s.prototype.listenOnce=s.prototype.O,s.prototype.getLastError=s.prototype.Oa,s.prototype.getLastErrorCode=s.prototype.Ea,s.prototype.getStatus=s.prototype.aa,s.prototype.getResponseJson=s.prototype.Sa,s.prototype.getResponseText=s.prototype.fa,s.prototype.send=s.prototype.da,s.prototype.setWithCredentials=s.prototype.Ka;var uL=tl.createWebChannelTransport=function(){return new eC},cL=tl.getStatEventTarget=function(){return h0()},OA=tl.ErrorCode=Wf,dL=tl.EventType=g0,hL=tl.Event=sc,UN=tl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},fL=tl.FetchXmlHttpFactory=ep,tC=tl.WebChannel=Kf,pL=tl.XhrIo=s;const BN="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let ey="9.15.0";const Fd=new zl.Yd("@firebase/firestore");function RA(){return Fd.logLevel}function He(n,...e){if(Fd.logLevel<=zl.in.DEBUG){const t=e.map(kA);Fd.debug(`Firestore (${ey}): ${n}`,...t)}}function xr(n,...e){if(Fd.logLevel<=zl.in.ERROR){const t=e.map(kA);Fd.error(`Firestore (${ey}): ${n}`,...t)}}function rp(n,...e){if(Fd.logLevel<=zl.in.WARN){const t=e.map(kA);Fd.warn(`Firestore (${ey}): ${n}`,...t)}}function kA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${ey}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function wt(n,e){n||st()}function Qe(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class HN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class _L{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vL{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Qr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const E=d;e.enqueueRetryable((0,be.Z)(function*(){yield E.promise,yield l(r.currentUser)}))},y=E=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Qr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt("string"==typeof r.accessToken),new HN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new ui(e)}}class wL{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(wt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class EL{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new wL(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bL{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,He("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.A=t.token,new jN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function IL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class $N{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=IL(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function zt(n,e){return n<e?-1:n>e?1:0}function ty(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function GN(n){return n+"\0"}class or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new or(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new or(0,0))}static max(){return new Dt(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class A0{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===A0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof A0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends A0{construct(e,t,r){return new _n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const CL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends A0{construct(e,t,r){return new vr(e,t,r)}static isValidIdentifier(e){return CL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Le(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Le(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Le(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(l(),i++)}if(l(),d)throw new Le(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(t)}static emptyPath(){return new vr([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(_n.fromString(e))}static fromName(e){return new We(_n.fromString(e).popFirst(5))}static empty(){return new We(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new _n(e.slice()))}}class nC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function LA(n){return n.fields.find(e=>2===e.kind)}function ip(n){return n.fields.filter(e=>2!==e.kind)}nC.UNKNOWN_ID=-1;class rC{constructor(e,t){this.fieldPath=e,this.kind=t}}class x0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new x0(0,fo.min())}}function zN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new or(t+1,0):new or(t,r));return new fo(i,We.empty(),e)}function qN(n){return new fo(n.readTime,n.key,-1)}class fo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fo(Dt.min(),We.empty(),-1)}static max(){return new fo(Dt.max(),We.empty(),-1)}}function FA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const WN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vd(n){return VA.apply(this,arguments)}function VA(){return VA=(0,be.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==WN)throw n;He("LocalStore","Unexpectedly lost primary lease")}),VA.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,l=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++l,d&&l===i&&t()},y=>r(y))}),d=!0,l===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const l=e.length,d=new Array(l);let f=0;for(let y=0;y<l;y++){const E=y;t(e[E]).next(T=>{d[E]=T,++f,f===l&&r(d)},T=>i(T))}})}static doWhile(e,t){return new ue((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class iC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Qr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new M0(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=UA(r.target.error);this.P.reject(new M0(e,i))}}static open(e,t,r,i){try{return new iC(t,e.transaction(i,r))}catch(l){throw new M0(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new AL(t)}}class al{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===al.D((0,mn.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),sp(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,mn.hl)())return!1;if(al.N())return!0;const e=(0,mn.z$)(),t=al.D(e),r=0<t&&t<10,i=al.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,be.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new M0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Le(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Le(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new M0(e,f))},l.onupgradeneeded=d=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,be.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.F(e);const y=iC.open(l.db,e,d?"readonly":"readwrite",r),E=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),ue.reject(T))).toPromise();return E.catch(()=>{}),yield y.v,E}catch(y){const E=y,T="FirebaseError"!==E.name&&f<3;if(He("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),l.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class SL{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return sp(this.q.delete())}}class M0 extends Le{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ud(n){return"IndexedDbTransactionError"===n.name}class AL{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sp(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),sp(this.store.add(e))}get(e){return sp(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),sp(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),sp(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ue((l,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ue((r,i)=>{t.onerror=l=>{const d=UA(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new ue((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new SL(f),E=t(f.primaryKey,f.value,y);if(E instanceof ue){const T=E.catch(A=>(y.done(),ue.reject(A)));r.push(T)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sp(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=UA(r.target.error);t(i)}})}let ZN=!1;function UA(n){const e=al.D((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZN||(ZN=!0,setTimeout(()=>{throw r},0)),r}}return n}class xL{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Ud(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Vd(r)}yield t.nt(6e4)}))}}class ML{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return ue.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return He("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(f=>(He("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=qN(l);FA(d,r)>0&&(r=d)}),new fo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let po=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class PL{constructor(e,t,r,i,l,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Bd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bd&&e.projectId===this.projectId&&e.database===this.database}}function YN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function op(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function P0(n){return null==n}function N0(n){return 0===n&&1/n==-1/0}function JN(n){return"number"==typeof n&&Number.isInteger(n)&&!N0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const OL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(n){if(wt(!!n),"string"==typeof n){let e=0;const t=OL.exec(n);if(wt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ap(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function BA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function XN(n){const e=n.mapValue.fields.__previous_value__;return BA(e)?XN(e):e}function O0(n){const e=Hd(n.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}const jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sC={nullValue:"NULL_VALUE"};function lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BA(n)?4:rO(n)?9007199254740991:10:st()}function Jl(n,e){if(n===e)return!0;const t=lp(n);if(t!==lp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return O0(n).isEqual(O0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Hd(r.timestampValue),d=Hd(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ap(n.bytesValue).isEqual(ap(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return wr(r.geoPointValue.latitude)===wr(i.geoPointValue.latitude)&&wr(r.geoPointValue.longitude)===wr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return wr(r.integerValue)===wr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=wr(r.doubleValue),d=wr(i.doubleValue);return l===d?N0(l)===N0(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return ty(n.arrayValue.values||[],e.arrayValue.values||[],Jl);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(YN(l)!==YN(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!Jl(l[f],d[f])))return!1;return!0}(n,e);default:return st()}var i}function R0(n,e){return void 0!==(n.values||[]).find(t=>Jl(t,e))}function $d(n,e){if(n===e)return 0;const t=lp(n),r=lp(e);if(t!==r)return zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=wr(i.integerValue||i.doubleValue),f=wr(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return eO(n.timestampValue,e.timestampValue);case 4:return eO(O0(n),O0(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=ap(i),f=ap(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),f=l.split("/");for(let y=0;y<d.length&&y<f.length;y++){const E=zt(d[y],f[y]);if(0!==E)return E}return zt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=zt(wr(i.latitude),wr(l.latitude));return 0!==d?d:zt(wr(i.longitude),wr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],f=l.values||[];for(let y=0;y<d.length&&y<f.length;++y){const E=$d(d[y],f[y]);if(E)return E}return zt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===jd.mapValue&&l===jd.mapValue)return 0;if(i===jd.mapValue)return 1;if(l===jd.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=l.fields||{},E=Object.keys(y);f.sort(),E.sort();for(let T=0;T<f.length&&T<E.length;++T){const A=zt(f[T],E[T]);if(0!==A)return A;const V=$d(d[f[T]],y[E[T]]);if(0!==V)return V}return zt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw st()}}function eO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Hd(n),r=Hd(e),i=zt(t.seconds,r.seconds);return 0!==i?i:zt(t.nanos,r.nanos)}function ny(n){return HA(n)}function HA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ap(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=HA(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const f of i)d?d=!1:l+=",",l+=`${f}:${HA(r.fields[f])}`;return l+"}"}(n.mapValue):st();var e}function up(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jA(n){return!!n&&"integerValue"in n}function k0(n){return!!n&&"arrayValue"in n}function tO(n){return!!n&&"nullValue"in n}function nO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oC(n){return!!n&&"mapValue"in n}function L0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return op(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=L0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=L0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function RL(n){return"nullValue"in n?sC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?up(Bd.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function kL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?up(Bd.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?jd:st()}function iO(n,e){const t=$d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function sO(n,e){const t=$d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gd{constructor(e,t){this.position=e,this.inclusive=t}}function oO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?We.comparator(We.fromName(d.referenceValue),t.key):$d(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function aO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jl(n.position[t],e.position[t]))return!1;return!0}class lO{}class an extends lO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new LL(e,t,r):"array-contains"===t?new UL(e,r):"in"===t?new mO(e,r):"not-in"===t?new BL(e,r):"array-contains-any"===t?new HL(e,r):new an(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new FL(e,r):new VL(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($d(t,this.value)):null!==t&&lp(this.value)===lp(t)&&this.matchesComparison($d(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class On extends lO{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new On(e,t)}matches(e){return ry(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ry(n){return"and"===n.op}function $A(n){return"or"===n.op}function uO(n){return cO(n)&&ry(n)}function cO(n){for(const e of n.filters)if(e instanceof On)return!1;return!0}function dO(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+ny(n.value);{const e=n.filters.map(t=>dO(t)).join(",");return`${n.op}(${e})`}}function hO(n,e){return n instanceof an?(t=n,(r=e)instanceof an&&t.op===r.op&&t.field.isEqual(r.field)&&Jl(t.value,r.value)):n instanceof On?function(t,r){return r instanceof On&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,l,d)=>i&&hO(l,r.filters[d]),!0)}(n,e):void st();var t,r}function fO(n,e){const t=n.filters.concat(e);return On.create(t,n.op)}function pO(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${ny(e.value)}`:n instanceof On?function(e){return e.op.toString()+" {"+e.getFilters().map(pO).join(" ,")+"}"}(n):"Filter";var e}class LL extends an{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class FL extends an{constructor(e,t){super(e,"in",t),this.keys=gO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VL extends an{constructor(e,t){super(e,"not-in",t),this.keys=gO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class UL extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return k0(t)&&R0(t.arrayValue,this.value)}}class mO extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&R0(this.value.arrayValue,t)}}class BL extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(R0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!R0(this.value.arrayValue,t)}}class HL extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!k0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>R0(this.value.arrayValue,r))}}class iy{constructor(e,t="asc"){this.field=e,this.dir=t}}function jL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Er{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new Er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new Er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aC(this.root,e,this.comparator,!1)}getReverseIterator(){return new aC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aC(this.root,e,this.comparator,!0)}}class aC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Di.RED,this.left=i??Di.EMPTY,this.right=l??Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Di(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yO(this.data.getIterator())}getIteratorFrom(e){return new yO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class yO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sy(n){return n.hasNext()?n.getNext():void 0}class go{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new go([])}unionWith(e){let t=new Vn(vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ty(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!oC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=L0(t)}setAll(e){let t=vr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=L0(d):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());oC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];oC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){op(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Ti(L0(this.value))}}function _O(n){const e=[];return op(n.fields,(t,r)=>{const i=new vr([t]);if(oC(r)){const l=_O(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new go(e)}class nr{constructor(e,t,r,i,l,d,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new nr(e,0,Dt.min(),Dt.min(),Dt.min(),Ti.empty(),0)}static newFoundDocument(e,t,r,i){return new nr(e,1,t,Dt.min(),r,i,0)}static newNoDocument(e,t){return new nr(e,2,t,Dt.min(),Dt.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,Dt.min(),Dt.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $L{constructor(e,t=null,r=[],i=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=f,this.ft=null}}function GA(n,e=null,t=[],r=[],i=null,l=null,d=null){return new $L(n,e,t,r,i,l,d)}function cp(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dO(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),P0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ny(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ny(r)).join(",")),e.ft=t}return e.ft}function F0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aO(n.startAt,e.startAt)&&aO(n.endAt,e.endAt)}function lC(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uC(n,e){return n.filters.filter(t=>t instanceof an&&t.field.isEqual(e))}function vO(n,e,t){let r=sC,i=!0;for(const l of uC(n,e)){let d=sC,f=!0;switch(l.op){case"<":case"<=":d=RL(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,f=!1;break;case"!=":case"not-in":d=sC}iO({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];iO({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function wO(n,e,t){let r=jd,i=!0;for(const l of uC(n,e)){let d=jd,f=!0;switch(l.op){case">=":case">":d=kL(l.value),f=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,f=!1;break;case"!=":case"not-in":d=jd}sO({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];sO({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class oc{constructor(e,t=null,r=[],i=[],l=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=y,this.dt=null,this._t=null}}function EO(n,e,t,r,i,l,d,f){return new oc(n,e,t,r,i,l,d,f)}function oy(n){return new oc(n)}function bO(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function cC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function qA(n){return null!==n.collectionGroup}function dp(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=cC(e),r=zA(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new iy(t)),e.dt.push(new iy(vr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new iy(vr.keyField(),l))}}}return e.dt}function us(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=GA(e.path,e.collectionGroup,dp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of dp(e))t.push(new iy(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Gd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gd(e.startAt.position,e.startAt.inclusive):null;e._t=GA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function WA(n,e){e.getFirstInequalityField(),cC(n);const t=n.filters.concat([e]);return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dC(n,e,t){return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function V0(n,e){return F0(us(n),us(e))&&n.limitType===e.limitType}function IO(n){return`${cp(us(n))}|lt:${n.limitType}`}function KA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>pO(r)).join(", ")}]`),P0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ny(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ny(r)).join(",")),`Target(${t})`}(us(n))}; limitType=${n.limitType})`}function ZA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):We.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of dp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const f=oO(i,l,d);return i.inclusive?f<=0:f<0}(t.startAt,dp(t),r)||t.endAt&&!function(i,l,d){const f=oO(i,l,d);return i.inclusive?f>=0:f>0}(t.endAt,dp(t),r)));var t,r}function CO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DO(n){return(e,t)=>{let r=!1;for(const i of dp(n)){const l=GL(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function GL(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(i,l,d){const f=l.data.field(i),y=d.data.field(i);return null!==f&&null!==y?$d(f,y):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function TO(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:N0(e)?"-0":e}}function SO(n){return{integerValue:""+n}}function AO(n,e){return JN(e)?SO(e):TO(n,e)}class hC{constructor(){this._=void 0}}function zL(n,e,t){return n instanceof ay?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof hp?MO(n,e):n instanceof fp?PO(n,e):function(r,i){const l=xO(r,i),d=NO(l)+NO(r.gt);return jA(l)&&jA(r.gt)?SO(d):TO(r.yt,d)}(n,e)}function qL(n,e,t){return n instanceof hp?MO(n,e):n instanceof fp?PO(n,e):t}function xO(n,e){return n instanceof ly?jA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ay extends hC{}class hp extends hC{constructor(e){super(),this.elements=e}}function MO(n,e){const t=OO(e);for(const r of n.elements)t.some(i=>Jl(i,r))||t.push(r);return{arrayValue:{values:t}}}class fp extends hC{constructor(e){super(),this.elements=e}}function PO(n,e){let t=OO(e);for(const r of n.elements)t=t.filter(i=>!Jl(i,r));return{arrayValue:{values:t}}}class ly extends hC{constructor(e,t){super(),this.yt=e,this.gt=t}}function NO(n){return wr(n.integerValue||n.doubleValue)}function OO(n){return k0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class U0{constructor(e,t){this.field=e,this.transform=t}}class KL{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pC{}function RO(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cy(n.key,ar.none()):new uy(n.key,n.data,ar.none());{const t=n.data,r=Ti.empty();let i=new Vn(vr.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new ac(n.key,r,new go(i.toArray()),ar.none())}}function ZL(n,e,t){n instanceof uy?function(r,i,l){const d=r.value.clone(),f=FO(r.fieldTransforms,i,l.transformResults);d.setAll(f),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ac?function(r,i,l){if(!fC(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=FO(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(LO(r)),f.setAll(d),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function B0(n,e,t,r){return n instanceof uy?function(i,l,d,f){if(!fC(i.precondition,l))return d;const y=i.value.clone(),E=VO(i.fieldTransforms,f,l);return y.setAll(E),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof ac?function(i,l,d,f){if(!fC(i.precondition,l))return d;const y=VO(i.fieldTransforms,f,l),E=l.data;return E.setAll(LO(i)),E.setAll(y),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,fC(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function YL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=xO(r.transform,i||null);null!=l&&(null===t&&(t=Ti.empty()),t.set(r.field,l))}return t||null}function kO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ty(t,r,(i,l)=>function WL(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof hp&&r instanceof hp||t instanceof fp&&r instanceof fp?ty(t.elements,r.elements,Jl):t instanceof ly&&r instanceof ly?Jl(t.gt,r.gt):t instanceof ay&&r instanceof ay);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class uy extends pC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ac extends pC{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FO(n,e,t){const r=new Map;wt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,f=e.data.field(l.field);r.set(l.field,qL(d,f,t[i]))}return r}function VO(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,zL(l,d,e))}return r}class cy extends pC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YA extends pC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QL{constructor(e){this.count=e}}var Hr,vn;function UO(n){switch(n){default:return st();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function BO(n){if(void 0===n)return xr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Hr.OK:return ge.OK;case Hr.CANCELLED:return ge.CANCELLED;case Hr.UNKNOWN:return ge.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return ge.INTERNAL;case Hr.UNAVAILABLE:return ge.UNAVAILABLE;case Hr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Hr.NOT_FOUND:return ge.NOT_FOUND;case Hr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Hr.ABORTED:return ge.ABORTED;case Hr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Hr.DATA_LOSS:return ge.DATA_LOSS;default:return st()}}(vn=Hr||(Hr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class zd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){op(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return QN(this.inner)}size(){return this.innerSize}}const JL=new Er(We.comparator);function Rs(){return JL}const HO=new Er(We.comparator);function H0(...n){let e=HO;for(const t of n)e=e.insert(t.key,t);return e}function jO(n){let e=HO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xl(){return j0()}function $O(){return j0()}function j0(){return new zd(n=>n.toString(),(n,e)=>n.isEqual(e))}const XL=new Er(We.comparator),eF=new Vn(We.comparator);function Jt(...n){let e=eF;for(const t of n)e=e.add(t);return e}const tF=new Vn(zt);function gC(){return tF}class $0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,G0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $0(Dt.min(),i,gC(),Rs(),Jt())}}class G0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new G0(r,t,Jt(),Jt(),Jt())}}class mC{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class GO{constructor(e,t){this.targetId=e,this.Et=t}}class zO{constructor(e,t,r=Jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class qO{constructor(){this.At=0,this.Rt=KO(),this.bt=Jr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Jt(),t=Jt(),r=Jt();return this.Rt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new G0(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=KO()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class nF{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Rs(),this.qt=WO(),this.Ut=new Vn(zt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const l=i.target;if(lC(l))if(0===r){const d=new We(l.path);this.Qt(t,d,nr.newNoDocument(d,Dt.min()))}else wt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,d)=>{const f=this.Yt(d);if(f){if(l.current&&lC(f.target)){const y=new We(f.target.path);null!==this.Lt.get(y)||this.te(d,y)||this.Qt(d,y,nr.newNoDocument(y,e))}l.St&&(t.set(d,l.Ct()),l.xt())}});let r=Jt();this.qt.forEach((l,d)=>{let f=!0;d.forEachWhile(y=>{const E=this.Yt(y);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.Lt.forEach((l,d)=>d.setReadTime(e));const i=new $0(e,t,this.Ut,this.Lt,r);return this.Lt=Rs(),this.qt=WO(),this.Ut=new Vn(zt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new qO,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Vn(zt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new qO),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function WO(){return new Er(We.comparator)}function KO(){return new Er(We.comparator)}const rF={asc:"ASCENDING",desc:"DESCENDING"},iF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sF={and:"AND",or:"OR"};class oF{constructor(e,t){this.databaseId=e,this.wt=t}}function dy(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZO(n,e){return n.wt?e.toBase64():e.toUint8Array()}function aF(n,e){return dy(n,e.toTimestamp())}function Mr(n){return wt(!!n),Dt.fromTimestamp(function(e){const t=Hd(e);return new or(t.seconds,t.nanos)}(n))}function QA(n,e){return(t=n,new _n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YO(n){const e=_n.fromString(n);return wt(sR(e)),e}function z0(n,e){return QA(n.databaseId,e.path)}function eu(n,e){const t=YO(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(JO(t))}function JA(n,e){return QA(n.databaseId,e)}function QO(n){const e=YO(n);return 4===e.length?_n.emptyPath():JO(e)}function q0(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JO(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XO(n,e,t){return{name:z0(n,e),fields:t.value.mapValue.fields}}function eR(n,e,t){const r=eu(n,e.name),i=Mr(e.updateTime),l=e.createTime?Mr(e.createTime):Dt.min(),d=new Ti({mapValue:{fields:e.fields}}),f=nr.newFoundDocument(r,i,l,d);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function W0(n,e){let t;if(e instanceof uy)t={update:XO(n,e.key,e.value)};else if(e instanceof cy)t={delete:z0(n,e.key)};else if(e instanceof ac)t={update:XO(n,e.key,e.data),updateMask:gF(e.fieldMask)};else{if(!(e instanceof YA))return st();t={verify:z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof ay)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ly)return{fieldPath:l.field.canonicalString(),increment:d.gt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:aF(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function XA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ar.updateTime(Mr(i.updateTime)):void 0!==i.exists?ar.exists(i.exists):ar.none():ar.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let f=null;"setToServerValue"in d?(wt("REQUEST_TIME"===d.setToServerValue),f=new ay):"appendMissingElements"in d?f=new hp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new fp(d.removeAllFromArray.values||[]):"increment"in d?f=new ly(l,d.increment):st();const y=vr.fromServerFormat(d.fieldPath);return new U0(y,f)}(n,i)):[];var i;if(e.update){const i=eu(n,e.update.name),l=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new go((e.updateMask.fieldPaths||[]).map(E=>vr.fromServerFormat(E)));return new ac(i,l,d,t,r)}return new uy(i,l,t,r)}if(e.delete){const i=eu(n,e.delete);return new cy(i,t)}if(e.verify){const i=eu(n,e.verify);return new YA(i,t)}return st()}function tR(n,e){return{documents:[JA(n,e.path)]}}function ex(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=JA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=JA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return iR(On.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(E=>{return{field:hy((T=E).field),direction:hF(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(E=e.limit,n.wt||P0(E)?E:{value:E});var E,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function nR(n){let e=QO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=function(T){const A=rR(T);return A instanceof On&&uO(A)?A.getFilters():[A]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new iy(fy((A=T).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,P0(A)?null:A}(t.limit));let y=null;var T;t.startAt&&(y=new Gd((T=t.startAt).values||[],!!T.before));let E=null;return t.endAt&&(E=function(T){return new Gd(T.values||[],!T.before)}(t.endAt)),EO(e,i,d,l,f,"F",y,E)}function rR(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fy(e.unaryFilter.field);return an.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=fy(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fy(e.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fy(e.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?an.create(fy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return On.create(e.compositeFilter.filters.map(t=>rR(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function hF(n){return rF[n]}function fF(n){return iF[n]}function pF(n){return sF[n]}function hy(n){return{fieldPath:n.canonicalString()}}function fy(n){return vr.fromServerFormat(n.fieldPath)}function iR(n){return n instanceof an?function(e){if("=="===e.op){if(nO(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NAN"}};if(tO(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nO(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NOT_NAN"}};if(tO(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hy(e.field),op:fF(e.op),value:e.value}}}(n):n instanceof On?function(e){const t=e.getFilters().map(r=>iR(r));return 1===t.length?t[0]:{compositeFilter:{op:pF(e.op),filters:t}}}(n):st()}function gF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function cs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oR(e)),e=mF(n.get(t),e);return oR(e)}function mF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function oR(n){return n+"\x01\x01"}function tu(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&st(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:st()}l=d+2}return new _n(r)}const aR=["userId","batchId"];function yC(n,e){return[n,cs(e)]}function lR(n,e,t){return[n,cs(e),t]}const yF={},_F=["prefixPath","collectionGroup","readTime","documentId"],vF=["prefixPath","collectionGroup","documentId"],wF=["collectionGroup","readTime","prefixPath","documentId"],EF=["canonicalId","targetId"],bF=["targetId","path"],IF=["path","targetId"],CF=["collectionId","parent"],DF=["indexId","uid"],TF=["uid","sequenceNumber"],SF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AF=["indexId","uid","orderedDocumentKey"],xF=["userId","collectionPath","documentId"],MF=["userId","collectionPath","largestBatchId"],PF=["userId","collectionGroup","largestBatchId"],uR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NF=[...uR,"documentOverlays"],cR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dR=cR,OF=[...dR,"indexConfiguration","indexState","indexEntries"];class tx extends KN{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ci(n,e){const t=Qe(n);return al.M(t.se,e)}class nx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&ZL(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=B0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=B0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$O();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(i.key)?null:f;const y=RO(d,f);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&ty(this.mutations,e.mutations,(t,r)=>kO(t,r))&&ty(this.baseMutations,e.baseMutations,(t,r)=>kO(t,r))}}class rx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wt(e.mutations.length===r.length);let i=XL;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new rx(e,t,r,i)}}class ix{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qd{constructor(e,t,r,i,l=Dt.min(),d=Dt.min(),f=Jr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class hR{constructor(e){this.ie=e}}function fR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_C(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:z0(i=n.ie,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:dy(i,l.version.toTimestamp()),createTime:dy(i,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:pp(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:pp(e.version)}}var i,l;return r}function _C(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gp(n){const e=new or(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function mp(n,e){const t=(e.baseMutations||[]).map(l=>XA(n.ie,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>XA(n.ie,l)),i=or.fromMillis(e.localWriteTimeMs);return new nx(e.batchId,i,t,r)}function K0(n){const e=gp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?gp(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var i;return void 0!==n.query.documents?(wt(1===(i=n.query).documents.length),r=us(oy(QO(i.documents[0])))):r=us(nR(n.query)),new qd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Jr.fromBase64String(n.resumeToken))}function pR(n,e){const t=pp(e.snapshotVersion),r=pp(e.lastLimboFreeSnapshotVersion);let i;i=lC(e.target)?tR(n.ie,e.target):ex(n.ie,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cp(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function sx(n){const e=nR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dC(e,e.limit,"L"):e}function ox(n,e){return new ix(e.largestBatchId,XA(n.ie,e.overlayMutation))}function gR(n,e){const t=e.path.lastSegment();return[n,cs(e.path.popLast()),t]}function mR(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:pp(r.readTime),documentKey:cs(r.documentKey.path),largestBatchId:r.largestBatchId}}class kF{getBundleMetadata(e,t){return yR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:gp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return yR(e).put({bundleId:(r=t).id,createTime:pp(Mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return _R(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:sx(i.bundledQuery),readTime:gp(i.readTime)};var i})}saveNamedQuery(e,t){return _R(e).put({name:(r=t).name,readTime:pp(Mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function yR(n){return ci(n,"bundles")}function _R(n){return ci(n,"namedQueries")}class vC{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new vC(e,t.uid||"")}getOverlay(e,t){return Z0(e).get(gR(this.userId,t)).next(r=>r?ox(this.yt,r):null)}getOverlays(e,t){const r=Xl();return ue.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const f=new ix(t,d);i.push(this.oe(e,f))}),ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(cs(d.getCollectionPath())));const l=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Z0(e).Y("collectionPathOverlayIndex",f))}),ue.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Xl(),l=cs(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Z0(e).W("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const E=ox(this.yt,y);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Xl();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Z0(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,E,T)=>{const A=ox(this.yt,E);l.size()<i||A.largestBatchId===d?(l.set(A.getKey(),A),d=A.largestBatchId):T.done()}).next(()=>l)}oe(e,t){return Z0(e).put(function(r,i,l){const[d,f,y]=gR(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:W0(r.ie,l.mutation)}}(this.yt,this.userId,t))}}function Z0(n){return ci(n,"documentOverlays")}class yp{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(wr(e.integerValue));else if("doubleValue"in e){const r=wr(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),N0(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ap(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?rO(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):st()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),We.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function LF(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function vR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=LF(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}yp.Ie=new yp;class FF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=vR(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=vR(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class VF{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class UF{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Y0{constructor(){this.$e=new FF,this.Be=new VF(this.$e),this.Le=new UF(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class _p{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _p(this.indexId,this.documentKey,this.arrayValue,r)}}function Wd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=wR(n.arrayValue,e.arrayValue),0!==t?t:(t=wR(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function wR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class BF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){wt(e.collectionGroup===this.collectionId);const t=LA(e);if(void 0!==t&&!this.We(t))return!1;const r=ip(e);let i=0,l=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const d=r[i];if(!this.ze(this.Qe,d)||!this.He(this.Ke[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ke.length||!this.He(this.Ke[l++],d))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ER(n){var e,t;if(wt(n instanceof an||n instanceof On),n instanceof an){if(n instanceof mO){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>an.create(n.field,"==",l)))||[];return On.create(i,"or")}return n}const r=n.filters.map(i=>ER(i));return On.create(r,n.op)}function HF(n){if(0===n.getFilters().length)return[];const e=ux(ER(n));return wt(bR(e)),ax(e)||lx(e)?[e]:e.getFilters()}function ax(n){return n instanceof an}function lx(n){return n instanceof On&&uO(n)}function bR(n){return ax(n)||lx(n)||function(e){if(e instanceof On&&$A(e)){for(const t of e.getFilters())if(!ax(t)&&!lx(t))return!1;return!0}return!1}(n)}function ux(n){if(wt(n instanceof an||n instanceof On),n instanceof an)return n;if(1===n.filters.length)return ux(n.filters[0]);const e=n.filters.map(r=>ux(r));let t=On.create(e,n.op);return t=wC(t),bR(t)?t:(wt(t instanceof On),wt(ry(t)),wt(t.filters.length>1),t.filters.reduce((r,i)=>cx(r,i)))}function cx(n,e){let t;return wt(n instanceof an||n instanceof On),wt(e instanceof an||e instanceof On),t=n instanceof an?e instanceof an?On.create([n,e],"and"):IR(n,e):e instanceof an?IR(e,n):function(r,i){if(wt(r.filters.length>0&&i.filters.length>0),ry(r)&&ry(i))return fO(r,i.getFilters());const l=$A(r)?r:i,d=$A(r)?i:r,f=l.filters.map(y=>cx(y,d));return On.create(f,"or")}(n,e),wC(t)}function IR(n,e){if(ry(e))return fO(e,n.getFilters());{const t=e.filters.map(r=>cx(n,r));return On.create(t,"or")}}function wC(n){if(wt(n instanceof an||n instanceof On),n instanceof an)return n;const e=n.getFilters();if(1===e.length)return wC(e[0]);if(cO(n))return n;const t=e.map(i=>wC(i)),r=[];return t.forEach(i=>{i instanceof an?r.push(i):i instanceof On&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:On.create(r,n.op)}class jF{constructor(){this.Je=new dx}addToCollectionParentIndex(e,t){return this.Je.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(fo.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class dx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vn(_n.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(_n.comparator)).toArray()}}const EC=new Uint8Array(0);class $F{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new dx,this.Xe=new zd(r=>cp(r),(r,i)=>F0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const l={collectionId:r,parent:cs(i)};return CR(e).put(l)}return ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[GN(t),""],!1,!0);return CR(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(tu(d.parent))}return r})}addFieldIndex(e,t){const r=bC(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=J0(e);return l.next(f=>{d.put(mR(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=bC(e),i=J0(e),l=Q0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Q0(e);let i=!0;const l=new Map;return ue.forEach(this.Ze(t),d=>this.tn(e,d).next(f=>{i&&(i=!!f),l.set(d,f)})).next(()=>{if(i){let d=Jt();const f=[];return ue.forEach(l,(y,E)=>{var T;He("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${cp(t)}`);const A=function(gt,ct){const Nt=LA(ct);if(void 0===Nt)return null;for(const Ft of uC(gt,Nt.fieldPath))switch(Ft.op){case"array-contains-any":return Ft.value.arrayValue.values||[];case"array-contains":return[Ft.value]}return null}(E,y),V=function(gt,ct){const Nt=new Map;for(const Ft of ip(ct))for(const un of uC(gt,Ft.fieldPath))switch(un.op){case"==":case"in":Nt.set(Ft.fieldPath.canonicalString(),un.value);break;case"not-in":case"!=":return Nt.set(Ft.fieldPath.canonicalString(),un.value),Array.from(Nt.values())}return null}(E,y),$=function(gt,ct){const Nt=[];let Ft=!0;for(const un of ip(ct)){const ps=0===un.kind?vO(gt,un.fieldPath,gt.startAt):wO(gt,un.fieldPath,gt.startAt);Nt.push(ps.value),Ft&&(Ft=ps.inclusive)}return new Gd(Nt,Ft)}(E,y),K=function(gt,ct){const Nt=[];let Ft=!0;for(const un of ip(ct)){const ps=0===un.kind?wO(gt,un.fieldPath,gt.endAt):vO(gt,un.fieldPath,gt.endAt);Nt.push(ps.value),Ft&&(Ft=ps.inclusive)}return new Gd(Nt,Ft)}(E,y),ce=this.en(y,E,$),De=this.en(y,E,K),Ge=this.nn(y,E,V),lt=this.sn(y.indexId,A,ce,$.inclusive,De,K.inclusive,Ge);return ue.forEach(lt,gt=>r.J(gt,t.limit).next(ct=>{ct.forEach(Nt=>{const Ft=We.fromSegments(Nt.documentKey);d.has(Ft)||(d=d.add(Ft),f.push(Ft))})}))}).next(()=>f)}return ue.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:HF(On.create(e.filters,"and")).map(r=>GA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,l,d,f){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),E=y/(null!=t?t.length:1),T=[];for(let A=0;A<y;++A){const V=t?this.rn(t[A/E]):EC,$=this.on(e,V,r[A%E],i),K=this.un(e,V,l[A%E],d),ce=f.map(De=>this.on(e,V,De,!0));T.push(...this.createRange($,K,ce))}return T}on(e,t,r,i){const l=new _p(e,We.empty(),t,r);return i?l:l.Ue()}un(e,t,r,i){const l=new _p(e,We.empty(),t,r);return i?l.Ue():l}tn(e,t){const r=new BF(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const f of l)r.je(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ue.forEach(i,l=>this.tn(e,l).next(d=>{d?0!==r&&d.fields.length<function(f){let y=new Vn(vr.comparator),E=!1;for(const T of f.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?E=!0:y=y.add(A.field));for(const T of f.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(E?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Y0;for(const i of ip(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);yp.Ie.ue(l,d)}return r.Fe()}rn(e){const t=new Y0;return yp.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Y0;return yp.Ie.ue(up(this.databaseId,t),r.qe(function(i){const l=ip(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Y0);let l=0;for(const d of ip(e)){const f=r[l++];for(const y of i)if(this.hn(t,d.fieldPath)&&k0(f))i=this.ln(i,d,f);else{const E=y.qe(d.kind);yp.Ie.ue(f,E)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const f of i){const y=new Y0;y.seed(f.Fe()),yp.Ie.ue(d,y.qe(t.kind)),l.push(y)}return l}hn(e,t){return!!e.filters.find(r=>r instanceof an&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=bC(e),i=J0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return ue.forEach(l,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(E,T){const A=T?new x0(T.sequenceNumber,new fo(gp(T.readTime),new We(tu(T.documentKey)),T.largestBatchId)):x0.empty(),V=E.fields.map(([$,K])=>new rC(vr.fromServerFormat($),K));return new nC(E.indexId,E.collectionGroup,V,A)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=bC(e),l=J0(e);return this.dn(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ue.forEach(f,y=>l.put(mR(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?ue.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ue.forEach(f,y=>this._n(e,i,y).next(E=>{const T=this.wn(l,y);return E.isEqual(T)?ue.resolve():this.mn(e,l,y,E,T)}))))})}gn(e,t,r,i){return Q0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Q0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Q0(e);let l=new Vn(Wd);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(d,f)=>{l=l.add(new _p(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}wn(e,t){let r=new Vn(Wd);const i=this.cn(t,e);if(null==i)return r;const l=LA(t);if(null!=l){const d=e.data.field(l.fieldPath);if(k0(d))for(const f of d.arrayValue.values||[])r=r.add(new _p(t.indexId,e.key,this.rn(f),i))}else r=r.add(new _p(t.indexId,e.key,EC,i));return r}mn(e,t,r,i,l){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,E,T,A){const V=f.getIterator(),$=y.getIterator();let K=sy(V),ce=sy($);for(;K||ce;){let De=!1,Ge=!1;if(K&&ce){const lt=E(K,ce);lt<0?Ge=!0:lt>0&&(De=!0)}else null!=K?Ge=!0:De=!0;De?(T(ce),ce=sy($)):Ge?(A(K),K=sy(V)):(K=sy(V),ce=sy($))}}(i,l,Wd,f=>{d.push(this.gn(e,t,r,f))},f=>{d.push(this.yn(e,t,r,f))}),ue.waitFor(d)}dn(e){let t=1;return J0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Wd(d,f)).filter((d,f,y)=>!f||0!==Wd(d,y[f-1]));const i=[];i.push(e);for(const d of r){const f=Wd(d,e),y=Wd(d,t);if(0===f)i[0]=e.Ue();else if(f>0&&y<0)i.push(d),i.push(d.Ue());else if(y>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2){if(this.pn(i[d],i[d+1]))return[];l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,EC,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,EC,[]]))}return l}pn(e,t){return Wd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DR)}getMinOffset(e,t){return ue.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||st())).next(DR)}}function CR(n){return ci(n,"collectionParents")}function Q0(n){return ci(n,"indexEntries")}function bC(n){return ci(n,"indexConfiguration")}function J0(n){return ci(n,"indexState")}function DR(n){wt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;FA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new fo(e.readTime,e.documentKey,t)}const TR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function SR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:d},(T,A,V)=>(f++,V.delete()));l.push(y.next(()=>{wt(1===f)}));const E=[];for(const T of t.mutations){const A=lR(e,T.key.path,t.batchId);l.push(i.delete(A)),E.push(T.key)}return ue.waitFor(l).next(()=>E)}function IC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class CC{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){wt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new CC(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=py(e),d=Kd(e);return d.add({}).next(f=>{wt("number"==typeof f);const y=new nx(f,t,r,i),E=function(V,$,K){const ce=K.baseMutations.map(Ge=>W0(V.ie,Ge)),De=K.mutations.map(Ge=>W0(V.ie,Ge));return{userId:$,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:ce,mutations:De}}(this.yt,this.userId,y),T=[];let A=new Vn((V,$)=>zt(V.canonicalString(),$.canonicalString()));for(const V of i){const $=lR(this.userId,V.key.path,f);A=A.add(V.key.path.popLast()),T.push(d.put(E)),T.push(l.put($,yF))}return A.forEach(V=>{T.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),ue.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Kd(e).get(t).next(r=>r?(wt(r.userId===this.userId),mp(this.yt,r)):null)}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Kd(e).Z({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(wt(f.batchId>=r),l=mp(this.yt,f)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).W("userMutationsIndex",t).next(r=>r.map(i=>mp(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=yC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return py(e).Z({range:i},(d,f,y)=>{const[E,T,A]=d,V=tu(T);if(E===this.userId&&t.path.isEqual(V))return Kd(e).get(A).next($=>{if(!$)throw st();wt($.userId===this.userId),l.push(mp(this.yt,$))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(zt);const i=[];return t.forEach(l=>{const d=yC(this.userId,l.path),f=IDBKeyRange.lowerBound(d),y=py(e).Z({range:f},(E,T,A)=>{const[V,$,K]=E,ce=tu($);V===this.userId&&l.path.isEqual(ce)?r=r.add(K):A.done()});i.push(y)}),ue.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=yC(this.userId,r),d=IDBKeyRange.lowerBound(l);let f=new Vn(zt);return py(e).Z({range:d},(y,E,T)=>{const[A,V,$]=y,K=tu(V);A===this.userId&&r.isPrefixOf(K)?K.length===i&&(f=f.add($)):T.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Kd(e).get(l).next(d=>{if(null===d)throw st();wt(d.userId===this.userId),r.push(mp(this.yt,d))}))}),ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return SR(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return py(e).Z({range:r},(l,d,f)=>{if(l[0]===this.userId){const y=tu(l[1]);i.push(y)}else f.done()}).next(()=>{wt(0===i.length)})})}containsKey(e,t){return AR(e,this.userId,t)}Rn(e){return xR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AR(n,e,t){const r=yC(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return py(n).Z({range:l,X:!0},(f,y,E)=>{const[T,A,V]=f;T===e&&A===i&&(d=!0),E.done()}).next(()=>d)}function Kd(n){return ci(n,"mutations")}function py(n){return ci(n,"documentMutations")}function xR(n){return ci(n,"mutationQueues")}class vp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new vp(0)}static vn(){return new vp(-1)}}class GF{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new vp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Dt.fromTimestamp(new or(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(wt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return gy(e).Z((d,f)=>{const y=K0(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>ue.waitFor(l)).next(()=>i)}forEachTarget(e,t){return gy(e).Z((r,i)=>{const l=K0(i);t(l)})}Vn(e){return MR(e).get("targetGlobalKey").next(t=>(wt(null!==t),t))}Sn(e,t){return MR(e).put("targetGlobalKey",t)}Dn(e,t){return gy(e).put(pR(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return gy(e).Z({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const E=K0(f);F0(t,E.target)&&(l=E,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Zd(e);return t.forEach(d=>{const f=cs(d.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=Zd(e);return ue.forEach(t,l=>{const d=cs(l.path);return ue.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Zd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Zd(e);let l=Jt();return i.Z({range:r,X:!0},(d,f,y)=>{const E=tu(d[1]),T=new We(E);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=cs(t.path),i=IDBKeyRange.bound([r],[GN(r)],!1,!0);let l=0;return Zd(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],y,E)=>{0!==d&&(l++,E.done())}).next(()=>l>0)}ne(e,t){return gy(e).get(t).next(r=>r?K0(r):null)}}function gy(n){return ci(n,"targets")}function MR(n){return ci(n,"targetGlobal")}function Zd(n){return ci(n,"targetDocuments")}function PR([n,e],[t,r]){const i=zt(n,t);return 0===i?zt(e,r):i}class zF{constructor(e){this.xn=e,this.buffer=new Vn(PR),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();PR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ud(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Vd(r)}yield t.Fn(3e5)}))}}class WF{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(po.at);const r=new zF(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(TR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TR):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,l,d,f,y,E;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,d=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(l=A,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(E=Date.now(),RA()<=zl.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(y-f)+`ms\n\tRemoved ${A} documents in `+(E-y)+`ms\nTotal Duration: ${E-T}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:A})))}}class KF{constructor(e,t){this.db=e,this.garbageCollector=new WF(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return DC(e,r)}removeReference(e,t,r){return DC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return DC(e,t)}Gn(e,t){return function(r,i){let l=!1;return xR(r).tt(d=>AR(r,d,i).next(f=>(f&&(l=!0),ue.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,f)=>{if(f<=t){const y=this.Gn(e,d).next(E=>{if(!E)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Dt.min()),Zd(e).delete([0,cs(d.path)])))});i.push(y)}}).next(()=>ue.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return DC(e,t)}Kn(e,t){const r=Zd(e);let i,l=po.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:E})=>{0===d?(l!==po.at&&t(new We(tu(i)),l),l=E,i=y):l=po.at}).next(()=>{l!==po.at&&t(new We(tu(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function DC(n,e){return Zd(n).put((r=n.currentSequenceNumber,{targetId:0,path:cs(e.path),sequenceNumber:r}));var r}class NR{constructor(){this.changes=new zd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZF{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return wp(e).put(r)}removeEntry(e,t,r){return wp(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],_C(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=nr.newInvalidDocument(t);return wp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:nr.newInvalidDocument(t)};return wp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(i,l)=>{r={document:this.jn(t,l),size:IC(l)}}).next(()=>r)}getEntries(e,t){let r=Rs();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Rs(),i=new Er(We.comparator);return this.zn(e,t,(l,d)=>{const f=this.jn(l,d);r=r.insert(l,f),i=i.insert(l,IC(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ue.resolve();let i=new Vn(LR);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(X0(i.first()),X0(i.last())),d=i.getIterator();let f=d.getNext();return wp(e).Z({index:"documentKeyIndex",range:l},(y,E,T)=>{const A=We.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&LR(f,A)<0;)r(f,null),f=d.getNext();f&&f.isEqual(A)&&(r(f,E),f=d.hasNext()?d.getNext():null),f?T.j(X0(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),_C(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wp(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let f=Rs();for(const y of d){const E=this.jn(We.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=Rs();const d=kR(t,r),f=kR(t,fo.max());return wp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,E,T)=>{const A=this.jn(We.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(A.key,A),l.size===i&&T.done()}).next(()=>l)}newChangeBuffer(e){return new YF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return RR(e).get("remoteDocumentGlobalKey").next(t=>(wt(!!t),t))}Qn(e,t){return RR(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function RF(n,e){let t;if(e.document)t=eR(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=gp(e.noDocument.readTime);t=nr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=We.fromSegments(e.unknownDocument.path),i=gp(e.unknownDocument.version);t=nr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new or(r[0],r[1]);return Dt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return nr.newInvalidDocument(e)}}function OR(n){return new ZF(n)}class YF extends NR{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new zd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Vn((l,d)=>zt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,f.readTime)),d.isValidDocument()){const y=fR(this.Yn.yt,d);i=i.add(l.path.popLast()),r+=IC(y)-f.size,t.push(this.Yn.addEntry(e,l,y))}else if(r-=f.size,this.trackRemovals){const y=fR(this.Yn.yt,d.convertToNoDocument(Dt.min()));t.push(this.Yn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function RR(n){return ci(n,"remoteDocumentGlobal")}function wp(n){return ci(n,"remoteDocumentsV14")}function X0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kR(n,e){const t=e.documentKey.path.toArray();return[n,_C(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=zt(t[l],r[l]),i)return i;return i=zt(t.length,r.length),i||(i=zt(t[t.length-2],r[r.length-2]),i||zt(t[t.length-1],r[r.length-1]))}class QF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&B0(r.mutation,i,go.empty(),or.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jt()){const i=Xl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=H0();return l.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Xl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let l=Rs();const d=j0(),f=j0();return t.forEach((y,E)=>{const T=r.get(E.key);i.has(E.key)&&(void 0===T||T.mutation instanceof ac)?l=l.insert(E.key,E):void 0!==T&&(d.set(E.key,T.mutation.getFieldMask()),B0(T.mutation,E,T.mutation.getFieldMask(),or.now()))}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((E,T)=>d.set(E,T)),t.forEach((E,T)=>{var A;return f.set(E,new QF(T,null!==(A=d.get(E))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=j0();let i=new Er((d,f)=>d-f),l=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let T=r.get(y)||go.empty();T=f.applyToLocalView(E,T),r.set(y,T);const A=(i.get(f.batchId)||Jt()).add(y);i=i.insert(f.batchId,A)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),E=y.key,T=y.value,A=$O();T.forEach(V=>{if(!l.has(V)){const $=RO(t.get(V),r.get(V));null!==$&&A.set(V,$),l=l.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,E,A))}return ue.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return We.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):qA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):ue.resolve(Xl());let f=-1,y=l;return d.next(E=>ue.forEach(E,(T,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),l.get(T)?ue.resolve():this.remoteDocumentCache.getEntry(e,T).next(V=>{y=y.insert(T,V)}))).next(()=>this.populateOverlays(e,E,l)).next(()=>this.computeViews(e,y,E,Jt())).next(T=>({batchId:f,changes:jO(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(r=>{let i=H0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=H0();return this.indexManager.getCollectionParents(e,i).next(d=>ue.forEach(d,f=>{const y=(E=t,T=f.child(i),new oc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((T,A)=>{l=l.insert(T,A)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((f,y)=>{const E=y.getKey();null===i.get(E)&&(i=i.insert(E,nr.newInvalidDocument(E)))});let d=H0();return i.forEach((f,y)=>{const E=l.get(f);void 0!==E&&B0(E.mutation,y,go.empty(),or.now()),ZA(t,y)&&(d=d.insert(f,y))}),d})}}class JF{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Mr(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:sx(r.bundledQuery),readTime:Mr(r.readTime)}),ue.resolve();var r}}class XF{constructor(){this.overlays=new Er(We.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xl();return ue.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.oe(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=Xl(),l=t.length+1,d=new We(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Er((E,T)=>E-T);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let T=l.get(E.largestBatchId);null===T&&(T=Xl(),l=l.insert(E.largestBatchId,T)),T.set(E.getKey(),E)}}const f=Xl(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,T)=>f.set(E,T)),!(f.size()>=i)););return ue.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ix(t,r));let l=this.es.get(t);void 0===l&&(l=Jt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class hx{constructor(){this.ns=new Vn(di.ss),this.rs=new Vn(di.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new di(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new di(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new We(new _n([])),r=new di(t,e),i=new di(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new We(new _n([])),r=new di(t,e),i=new di(t,e+1);let l=Jt();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new di(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class di{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return We.comparator(e.key,t.key)||zt(e._s,t._s)}static os(e,t){return zt(e._s,t._s)||We.comparator(e.key,t.key)}}class eV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Vn(di.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new nx(l,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new di(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(d)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new di(t,0),i=new di(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);l.push(f)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(zt);return t.forEach(i=>{const l=new di(i,0),d=new di(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],f=>{r=r.add(f._s)})}),ue.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;We.isDocumentKey(l)||(l=l.child(""));const d=new di(new We(l),0);let f=new Vn(zt);return this.gs.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(y._s)),!0)},d),ue.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){wt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ue.forEach(t.mutations,i=>{const l=new di(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new di(t,0),i=this.gs.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tV{constructor(e){this.Es=e,this.docs=new Er(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let r=Rs();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():nr.newInvalidDocument(i))}),ue.resolve(r)}getAllFromCollection(e,t,r){let i=Rs();const l=new We(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||FA(qN(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}As(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nV(this)}getSize(e){return ue.resolve(this.size)}}class nV extends NR{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class rV{constructor(e){this.persistence=e,this.Rs=new zd(t=>cp(t),F0),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new hx,this.targetCount=0,this.vs=vp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new vp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ue.waitFor(l).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class VR{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new po(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new rV(this),this.indexManager=new jF,this.remoteDocumentCache=new tV(r=>this.referenceDelegate.xs(r)),this.yt=new hR(t),this.Ns=new JF(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new eV(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new iV(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return ue.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class iV extends KN{constructor(e){super(),this.currentSequenceNumber=e}}class TC{constructor(e){this.persistence=e,this.Fs=new hx,this.$s=null}static Bs(e){return new TC(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,r=>{const i=We.fromPath(r);return this.qs(e,i).next(l=>{l||t.removeEntry(i,Dt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class sV{constructor(e){this.yt=e}$(e,t,r,i){const l=new iC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aR,{unique:!0}),f.createObjectStore("documentMutations"),UR(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=ue.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),UR(e)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store("mutations").W().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aR,{unique:!0});const T=y.store("mutations"),A=E.map(V=>T.put(V));return ue.waitFor(A)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Us(l))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:xF});y.createIndex("collectionPathOverlayIndex",MF,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",PF,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:_F});y.createIndex("documentKeyIndex",vF),y.createIndex("collectionGroupIndex",wF)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:DF}).createIndex("sequenceNumberIndex",TF,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:SF}).createIndex("documentKeyIndex",AF,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=IC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ue.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>ue.forEach(f,y=>{wt(y.userId===l.userId);const E=mp(this.yt,y);return SR(e,l.userId,E).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,f)=>{const y=new _n(d),E=[0,cs(y)];l.push(t.get(E).next(T=>T?ue.resolve():t.put({targetId:0,path:cs(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ue.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:CF});const r=t.store("collectionParents"),i=new dx,l=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:cs(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const y=new _n(d);return l(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,y],E)=>{const T=tu(f);return l(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=K0(i),d=pR(this.yt,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const f=t.store("remoteDocumentsV14"),y=(E=d,E.document?new We(_n.fromString(E.document.name).popFirst(5)):E.noDocument?We.fromSegments(E.noDocument.path):E.unknownDocument?We.fromSegments(E.unknownDocument.path):st()).path.toArray();var E;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(T))}).next(()=>ue.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=OR(this.yt),l=new VR(TC.Bs,this.yt.ie);return r.W().next(d=>{const f=new Map;return d.forEach(y=>{var E;let T=null!==(E=f.get(y.userId))&&void 0!==E?E:Jt();mp(this.yt,y).keys().forEach(A=>T=T.add(A)),f.set(y.userId,T)}),ue.forEach(f,(y,E)=>{const T=new ui(E),A=vC.re(this.yt,T),V=l.getIndexManager(T),$=CC.re(T,this.yt,V,l.referenceDelegate);return new FR(i,$,A,V).recalculateAndSaveOverlaysForDocumentKeys(new tx(t,po.at),y).next()})})}}function UR(n){n.createObjectStore("targetDocuments",{keyPath:bF}).createIndex("documentTargetsIndex",IF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",EF,{unique:!0}),n.createObjectStore("targetGlobal")}const fx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class px{constructor(e,t,r,i,l,d,f,y,E,T,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=f,this.Js=E,this.Ys=T,this.Xs=A,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!px.C())throw new Le(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KF(this,i),this.ii=t+"main",this.yt=new hR(y),this.ri=new al(this.ii,this.Xs,new sV(this.yt)),this.Cs=new GF(this.referenceDelegate,this.yt),this.remoteDocumentCache=OR(this.yt),this.Ns=new kF,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(ge.FAILED_PRECONDITION,fx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new po(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>SC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ud(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return ew(e).get("owner").next(t=>ue.resolve(this.mi(t)))}gi(e){return SC(e).delete(this.clientId)}yi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ci(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),f=l.filter(y=>-1===d.indexOf(y));return ue.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):ew(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Le(ge.FAILED_PRECONDITION,fx);return!1}}return!(!this.networkEnabled||!this.inForeground)||SC(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new tx(t,po.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>SC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return CC.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $F(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return vC.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?OF:14===d?dR:13===d?cR:12===d?NF:11===d?uR:void st();var d;let f;return this.ri.runTransaction(e,i,l,y=>(f=new tx(y,this.Ss?this.Ss.next():po.at),"readwrite-primary"===t?this.fi(f).next(E=>!!E||this.di(f)).next(E=>{if(!E)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Le(ge.FAILED_PRECONDITION,WN);return r(f)}).next(E=>this.wi(f).next(()=>E)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return ew(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(ge.FAILED_PRECONDITION,fx)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ew(e).put("owner",t)}static C(){return al.C()}_i(e){const t=ew(e);return t.get("owner").next(r=>this.mi(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ew(n){return ci(n,"owner")}function SC(n){return ci(n,"clientMetadata")}function gx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class mx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Jt(),i=Jt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new mx(e,t.fromCache,r,i)}}class BR{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(bO(t))return ue.resolve(null);let r=us(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=dC(t,null,"F"),r=us(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Jt(...l);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.Fi(t,f);return this.$i(t,E,d,y.readTime)?this.ki(e,dC(t,null,"F")):this.Bi(e,E,t,y)}))})))}Oi(e,t,r,i){return bO(t)||i.isEqual(Dt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):(RA()<=zl.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),KA(t)),this.Bi(e,d,t,zN(i,-1)))})}Fi(e,t){let r=new Vn(DO(e));return t.forEach((i,l)=>{ZA(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return RA()<=zl.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",KA(t)),this.Ni.getDocumentsMatchingQuery(e,t,fo.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class oV{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Er(zt),this.Ui=new zd(l=>cp(l),F0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FR(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function HR(n,e,t,r){return new oV(n,e,t,r)}function jR(n,e){return yx.apply(this,arguments)}function yx(){return yx=(0,be.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],f=[];let y=Jt();for(const E of i){d.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}for(const E of l){f.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(E=>({ji:E,removedBatchIds:d,addedBatchIds:f}))})})}),yx.apply(this,arguments)}function aV(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,y,E){const T=y.batch,A=T.keys();let V=ue.resolve();return A.forEach($=>{V=V.next(()=>E.getEntry(f,$)).next(K=>{const ce=y.docVersions.get($);wt(null!==ce),K.version.compareTo(ce)<0&&(T.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Jt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function $R(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function lV(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((T,A)=>{const V=i.get(A);if(!V)return;f.push(t.Cs.removeMatchingKeys(l,T.removedDocuments,A).next(()=>t.Cs.addMatchingKeys(l,T.addedDocuments,A)));let $=V.withSequenceNumber(l.currentSequenceNumber);var K,ce,De;e.targetMismatches.has(A)?$=$.withResumeToken(Jr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):T.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(T.resumeToken,r)),i=i.insert(A,$),ce=$,De=T,(0===(K=V).resumeToken.approximateByteSize()||ce.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(l,$))});let y=Rs(),E=Jt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),f.push(GR(l,d,e.documentUpdates).next(T=>{y=T.Wi,E=T.zi})),!r.isEqual(Dt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(l).next(A=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(T)}return ue.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,E)).next(()=>y)}).then(l=>(t.qi=i,l))}function GR(n,e,t){let r=Jt(),i=Jt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Rs();return t.forEach((f,y)=>{const E=l.get(f);y.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Dt.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):He("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function uV(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function my(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,ue.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new qd(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function yy(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,be.Z)(function*(n,e,t){const r=Qe(n),i=r.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ud(d))throw d;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),_x.apply(this,arguments)}function AC(n,e,t){const r=Qe(n);let i=Dt.min(),l=Jt();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,E){const T=Qe(f),A=T.Ui.get(E);return void 0!==A?ue.resolve(T.qi.get(A)):T.Cs.getTargetData(y,E)}(r,d,us(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{l=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Dt.min(),t?l:Jt())).next(f=>(WR(r,CO(e),f),{documents:f,Hi:l})))}function zR(n,e){const t=Qe(n),r=Qe(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.ne(l,e).next(d=>d?d.target:null))}function qR(n,e){const t=Qe(n),r=t.Ki.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,zN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(WR(t,e,i),i))}function WR(n,e,t){let r=n.Ki.get(e)||Dt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function vx(){return vx=(0,be.Z)(function*(n,e,t,r){const i=Qe(n);let l=Jt(),d=Rs();for(const E of t){const T=e.Ji(E.metadata.name);E.document&&(l=l.add(T));const A=e.Yi(E);A.setReadTime(e.Xi(E.metadata.readTime)),d=d.insert(T,A)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield my(i,(E=r,us(oy(_n.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>GR(E,f,d).next(T=>(f.apply(E),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>i.Cs.addMatchingKeys(E,l,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,T.Wi,T.zi)).next(()=>T.Wi)))}),vx.apply(this,arguments)}function dV(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,be.Z)(function*(n,e,t=Jt()){const r=yield my(n,us(sx(e.bundledQuery))),i=Qe(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Mr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const f=r.withResumeToken(Jr.EMPTY_BYTE_STRING,d);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(l,f).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),wx.apply(this,arguments)}function KR(n,e){return`firestore_clients_${n}_${e}`}function ZR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ex(n,e){return`firestore_targets_${n}_${e}`}class xC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Le(i.error.code,i.error.message))),d?new xC(e,t,i.state,l):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Le(r.error.code,r.error.message))),l?new tw(e,r.state,i):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class MC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=gC();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=JN(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new MC(e,l):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bx{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bx(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ix{constructor(){this.activeTargetIds=gC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cx{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Er(zt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=KR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ix),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(KR(e.persistenceKey,i));if(l){const d=MC.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ex(this.persistenceKey,e));if(r){const i=tw.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ex(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=po.at;if(null!=l)try{const f=JSON.parse(l);wt("number"==typeof f),d=f}catch(f){xr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==po.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new xC(this.currentUser,e,t,r),l=ZR(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=ZR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Ex(this.persistenceKey,e),l=new tw(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return MC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return xC.Zi(new ui(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return tw.Zi(i,t)}yr(e){return bx.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],f=[];return l.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{l.has(y)||f.push(y)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=gC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class YR{constructor(){this.Lr=new Ix,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ix,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hV{Ur(e){}shutdown(){}}class QR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);He("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,l),this.fo(e,d,f,r).then(y=>(He("RestConnection","Received: ",y),y),y=>{throw rp("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ey,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${fV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const f=new pL;f.setWithCredentials(!0),f.listenOnce(dL.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case OA.NO_ERROR:const E=f.getResponseJson();He("Connection","XHR received:",JSON.stringify(E)),l(E);break;case OA.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),d(new Le(ge.DEADLINE_EXCEEDED,"Request time out"));break;case OA.HTTP_ERROR:const T=f.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){let A=f.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A?.error;if(V&&V.status&&V.message){const $=function(K){const ce=K.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(ce)>=0?ce:ge.UNKNOWN}(V.status);d(new Le($,V.message))}else d(new Le(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Le(ge.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uL(),d=cL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new fL({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");He("Connection","Creating WebChannel: "+y,f);const E=l.createWebChannel(y,f);let T=!1,A=!1;const V=new pV({Hr:K=>{A?He("Connection","Not sending because WebChannel is closed:",K):(T||(He("Connection","Opening WebChannel transport."),E.open(),T=!0),He("Connection","WebChannel sending:",K),E.send(K))},Jr:()=>E.close()}),$=(K,ce,De)=>{K.listen(ce,Ge=>{try{De(Ge)}catch(lt){setTimeout(()=>{throw lt},0)}})};return $(E,tC.EventType.OPEN,()=>{A||He("Connection","WebChannel transport opened.")}),$(E,tC.EventType.CLOSE,()=>{A||(A=!0,He("Connection","WebChannel transport closed"),V.io())}),$(E,tC.EventType.ERROR,K=>{A||(A=!0,rp("Connection","WebChannel transport errored:",K),V.io(new Le(ge.UNAVAILABLE,"The operation could not be completed")))}),$(E,tC.EventType.MESSAGE,K=>{var ce;if(!A){const De=K.data[0];wt(!!De);const Ge=De,lt=Ge.error||(null===(ce=Ge[0])||void 0===ce?void 0:ce.error);if(lt){He("Connection","WebChannel received error:",lt);const gt=lt.status;let ct=function(Ft){const un=Hr[Ft];if(void 0!==un)return BO(un)}(gt),Nt=lt.message;void 0===ct&&(ct=ge.INTERNAL,Nt="Unknown error status: "+gt+" with message "+lt.message),A=!0,V.io(new Le(ct,Nt)),E.close()}else He("Connection","WebChannel received:",De),V.ro(De)}}),$(d,hL.STAT_EVENT,K=>{K.stat===UN.PROXY?He("Connection","Detected buffering proxy"):K.stat===UN.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function JR(){return typeof window<"u"?window:null}function PC(){return typeof document<"u"?document:null}function nw(n){return new oF(n,!0)}class Dx{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class XR{constructor(e,t,r,i,l,d,f,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Dx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Le(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mV extends XR{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function uF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:st(),i=e.targetChange.targetIds||[],l=function(y,E){return y.wt?(wt(void 0===E||"string"==typeof E),Jr.fromBase64String(E||"")):(wt(void 0===E||E instanceof Uint8Array),Jr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const E=void 0===y.code?ge.UNKNOWN:BO(y.code);return new Le(E,y.message||"")}(d);t=new zO(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=eu(n,r.document.name),l=Mr(r.document.updateTime),d=r.document.createTime?Mr(r.document.createTime):Dt.min(),f=new Ti({mapValue:{fields:r.document.fields}}),y=nr.newFoundDocument(i,l,d,f);t=new mC(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=eu(n,r.document),l=r.readTime?Mr(r.readTime):Dt.min(),d=nr.newNoDocument(i,l);t=new mC([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=eu(n,r.document);t=new mC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,l=new QL(r.count||0);t=new GO(r.targetId,l)}}var y;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Dt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Dt.min():l.readTime?Mr(l.readTime):Dt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=q0(this.yt),t.addTarget=function(i,l){let d;const f=l.target;return d=lC(f)?{documents:tR(i,f)}:{query:ex(i,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=ZO(i,l.resumeToken):l.snapshotVersion.compareTo(Dt.min())>0&&(d.readTime=dy(i,l.snapshotVersion.toTimestamp())),d}(this.yt,e);const r=function dF(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=q0(this.yt),t.removeTarget=e,this.Bo(t)}}class yV extends XR{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.yt=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function cF(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,i){let l=Mr(r.updateTime?r.updateTime:i);return l.isEqual(Dt.min())&&(l=Mr(i)),new KL(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.Zo(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=q0(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>W0(this.yt,r))};this.Bo(t)}}class _V extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Le(ge.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(ge.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(ge.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class wV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(xr(t),this.ou=!1):He("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class EV{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(f=>{r.enqueueAndForget((0,be.Z)(function*(){var y;lc(d)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,be.Z)(function*(E){const T=Qe(E);T._u.add(4),yield _y(T),T.gu.set("Unknown"),T._u.delete(4),yield rw(T)}),function(E){return y.apply(this,arguments)})(d))}))}),this.gu=new wV(r,i)}}function rw(n){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,be.Z)(function*(n){if(lc(n))for(const e of n.wu)yield e(!0)}),Sx.apply(this,arguments)}function _y(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Ax.apply(this,arguments)}function NC(n,e){const t=Qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Px(t)?Mx(t):wy(t).ko()&&xx(t,e))}function iw(n,e){const t=Qe(n),r=wy(t);t.du.delete(e),r.ko()&&e1(t,e),0===t.du.size&&(r.ko()?r.Fo():lc(t)&&t.gu.set("Unknown"))}function xx(n,e){n.yu.Ot(e.targetId),wy(n).zo(e)}function e1(n,e){n.yu.Ot(e),wy(n).Ho(e)}function Mx(n){n.yu=new nF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),wy(n).start(),n.gu.uu()}function Px(n){return lc(n)&&!wy(n).No()&&n.du.size>0}function lc(n){return 0===Qe(n)._u.size}function t1(n){n.yu=void 0}function bV(n){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,be.Z)(function*(n){n.du.forEach((e,t)=>{xx(n,e)})}),Nx.apply(this,arguments)}function IV(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,be.Z)(function*(n,e){t1(n),Px(n)?(n.gu.hu(e),Mx(n)):n.gu.set("Unknown")}),Ox.apply(this,arguments)}function CV(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof zO&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,l){const d=l.cause;for(const f of l.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.du.delete(f),i.yu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield OC(n,r)}else if(e instanceof mC?n.yu.Kt(e):e instanceof GO?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Dt.min()))try{const r=yield $R(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.yu.Zt(l);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const E=i.du.get(y);E&&i.du.set(y,E.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const y=i.du.get(f);if(!y)return;i.du.set(f,y.withResumeToken(Jr.EMPTY_BYTE_STRING,y.snapshotVersion)),e1(i,f);const E=new qd(y.target,f,1,y.sequenceNumber);xx(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield OC(n,r)}var r}),Rx.apply(this,arguments)}function OC(n,e,t){return kx.apply(this,arguments)}function kx(){return kx=(0,be.Z)(function*(n,e,t){if(!Ud(e))throw e;n._u.add(1),yield _y(n),n.gu.set("Offline"),t||(t=()=>$R(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield rw(n)}))}),kx.apply(this,arguments)}function n1(n,e){return e().catch(t=>OC(n,t,e))}function vy(n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,be.Z)(function*(n){const e=Qe(n),t=Yd(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;DV(e);)try{const i=yield uV(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,TV(e,i)}catch(i){yield OC(e,i)}r1(e)&&s1(e)}),Lx.apply(this,arguments)}function DV(n){return lc(n)&&n.fu.length<10}function TV(n,e){n.fu.push(e);const t=Yd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function r1(n){return lc(n)&&!Yd(n).No()&&n.fu.length>0}function s1(n){Yd(n).start()}function SV(n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,be.Z)(function*(n){Yd(n).eu()}),Fx.apply(this,arguments)}function AV(n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,be.Z)(function*(n){const e=Yd(n);for(const t of n.fu)e.Xo(t.mutations)}),Vx.apply(this,arguments)}function xV(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,be.Z)(function*(n,e,t){const r=n.fu.shift(),i=rx.from(r,e,t);yield n1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield vy(n)}),Ux.apply(this,arguments)}function MV(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,be.Z)(function*(n,e){var t;e&&Yd(n).Yo&&(yield(t=(0,be.Z)(function*(r,i){if(UO(l=i.code)&&l!==ge.ABORTED){const d=r.fu.shift();Yd(r).Mo(),yield n1(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield vy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),r1(n)&&s1(n)}),Bx.apply(this,arguments)}function o1(n,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,be.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=lc(t);t._u.add(3),yield _y(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield rw(t)}),Hx.apply(this,arguments)}function jx(n,e){return $x.apply(this,arguments)}function $x(){return $x=(0,be.Z)(function*(n,e){const t=Qe(n);e?(t._u.delete(2),yield rw(t)):e||(t._u.add(2),yield _y(t),t.gu.set("Unknown"))}),$x.apply(this,arguments)}function wy(n){return n.pu||(n.pu=function(e,t,r){const i=Qe(e);return i.su(),new mV(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:bV.bind(null,n),Zr:IV.bind(null,n),Wo:CV.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.pu.Mo(),Px(n)?Mx(n):n.gu.set("Unknown")):(yield n.pu.stop(),t1(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Yd(n){return n.Iu||(n.Iu=function(e,t,r){const i=Qe(e);return i.su(),new yV(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:SV.bind(null,n),Zr:MV.bind(null,n),tu:AV.bind(null,n),Zo:xV.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Mo(),yield vy(n)):(yield n.Iu.stop(),n.fu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Gx{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,f=new Gx(e,t,d,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(n,e){if(xr("AsyncQueue",`${e}: ${n}`),Ud(n))return new Le(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class by{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=H0(),this.sortedSet=new Er(this.comparator)}static emptySet(e){return new by(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof by)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new by;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class a1{constructor(){this.Tu=new Er(We.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Iy{constructor(e,t,r,i,l,d,f,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new Iy(e,t,by.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class PV{constructor(){this.Au=void 0,this.listeners=[]}}class NV{constructor(){this.queries=new zd(e=>IO(e),V0),this.onlineState="Unknown",this.Ru=new Set}}function zx(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,be.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new PV),i)try{l.Au=yield t.onListen(r)}catch(d){const f=Ey(d,`Initialization of query '${KA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&Zx(t)}),qx.apply(this,arguments)}function Wx(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,be.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Kx.apply(this,arguments)}function OV(n,e){const t=Qe(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Pu(i)&&(r=!0);d.Au=i}}r&&Zx(t)}function RV(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function Zx(n){n.Ru.forEach(e=>{e.next()})}class Yx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Iy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class kV{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class l1{constructor(e){this.yt=e}Ji(e){return eu(this.yt,e)}Yi(e){return e.metadata.exists?eR(this.yt,e.document,!1):nr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Mr(e)}}class LV{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=u1(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=_n.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new l1(this.yt);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Jt()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function cV(n,e,t,r){return vx.apply(this,arguments)}(e.localStore,new l1(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield dV(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function u1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class c1{constructor(e){this.key=e}}class d1{constructor(e){this.key=e}}class h1{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Jt(),this.mutatedKeys=Jt(),this.Gu=DO(e),this.Qu=new by(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new a1,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const V=i.get(T),$=ZA(this.query,A)?A:null,K=!!V&&this.mutatedKeys.has(V.key),ce=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let De=!1;V&&$?V.data.isEqual($.data)?K!==ce&&(r.track({type:3,doc:$}),De=!0):this.Hu(V,$)||(r.track({type:2,doc:$}),De=!0,(y&&this.Gu($,y)>0||E&&this.Gu($,E)<0)&&(f=!0)):!V&&$?(r.track({type:0,doc:$}),De=!0):V&&!$&&(r.track({type:1,doc:V}),De=!0,(y||E)&&(f=!0)),De&&($?(d=d.add($),l=ce?l.add(T):l.delete(T)):(d=d.delete(T),l=l.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Qu:d,zu:r,$i:f,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((E,T)=>function(A,V){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return $(A)-$(V)}(E.type,T.type)||this.Gu(E.doc,T.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.Uu;return this.Uu=f,0!==l.length||y?{snapshot:new Iy(this.query,e.Qu,i,l,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new a1,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Jt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new d1(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new c1(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Jt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Iy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class FV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VV{constructor(e){this.key=e,this.nc=!1}}class UV{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new zd(f=>IO(f),V0),this.rc=new Map,this.oc=new Set,this.uc=new Er(We.comparator),this.cc=new Map,this.ac=new hx,this.hc={},this.lc=new Map,this.fc=vp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function BV(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,be.Z)(function*(n,e){const t=wM(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield my(t.localStore,us(e));t.isPrimaryClient&&NC(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield Jx(t,e,r,"current"===f,d.resumeToken)}return i}),Qx.apply(this,arguments)}function Jx(n,e,t,r,i){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,be.Z)(function*(n,e,t,r,i){n._c=(A,V,$)=>{return(K=(0,be.Z)(function*(ce,De,Ge,lt){let gt=De.view.Wu(Ge);gt.$i&&(gt=yield AC(ce.localStore,De.query,!1).then(({documents:Ft})=>De.view.Wu(Ft,gt)));const ct=lt&&lt.targetChanges.get(De.targetId),Nt=De.view.applyChanges(gt,ce.isPrimaryClient,ct);return uM(ce,De.targetId,Nt.Xu),Nt.snapshot}),function(ce,De,Ge,lt){return K.apply(this,arguments)})(n,A,V,$);var K};const l=yield AC(n.localStore,e,!0),d=new h1(e,l.Hi),f=d.Wu(l.documents),y=G0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=d.applyChanges(f,n.isPrimaryClient,y);uM(n,t,E.Xu);const T=new FV(e,t,d);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),E.snapshot}),Xx.apply(this,arguments)}function HV(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,be.Z)(function*(n,e){const t=Qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!V0(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),iw(t.remoteStore,r.targetId),Cy(t,r.targetId)}).catch(Vd))):(Cy(t,r.targetId),yield yy(t.localStore,r.targetId,!0))}),eM.apply(this,arguments)}function tM(){return tM=(0,be.Z)(function*(n,e,t){const r=EM(n);try{const i=yield function(l,d){const f=Qe(l),y=or.now(),E=d.reduce((V,$)=>V.add($.key),Jt());let T,A;return f.persistence.runTransaction("Locally write mutations","readwrite",V=>{let $=Rs(),K=Jt();return f.Gi.getEntries(V,E).next(ce=>{$=ce,$.forEach((De,Ge)=>{Ge.isValidDocument()||(K=K.add(De))})}).next(()=>f.localDocuments.getOverlayedDocuments(V,$)).next(ce=>{T=ce;const De=[];for(const Ge of d){const lt=YL(Ge,T.get(Ge.key).overlayedDocument);null!=lt&&De.push(new ac(Ge.key,lt,_O(lt.value.mapValue),ar.exists(!0)))}return f.mutationQueue.addMutationBatch(V,y,De,d)}).next(ce=>{A=ce;const De=ce.applyToLocalDocumentSet(T,K);return f.documentOverlayCache.saveOverlays(V,ce.batchId,De)})}).then(()=>({batchId:A.batchId,changes:jO(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,f){let y=l.hc[l.currentUser.toKey()];y||(y=new Er(zt)),y=y.insert(d,f),l.hc[l.currentUser.toKey()]=y}(r,i.batchId,t),yield uc(r,i.changes),yield vy(r.remoteStore)}catch(i){const l=Ey(i,"Failed to persist write");t.reject(l)}}),tM.apply(this,arguments)}function f1(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,be.Z)(function*(n,e){const t=Qe(n);try{const r=yield lV(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?wt(d.nc):i.removedDocuments.size>0&&(wt(d.nc),d.nc=!1))}),yield uc(t,r,e)}catch(r){yield Vd(r)}}),nM.apply(this,arguments)}function p1(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const f=d.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(l,d){const f=Qe(l);f.onlineState=d;let y=!1;f.queries.forEach((E,T)=>{for(const A of T.listeners)A.bu(d)&&(y=!0)}),y&&Zx(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $V(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,be.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new Er(We.comparator);d=d.insert(l,nr.newNoDocument(l,Dt.min()));const f=Jt().add(l),y=new $0(Dt.min(),new Map,new Vn(zt),d,f);yield f1(r,y),r.uc=r.uc.remove(l),r.cc.delete(e),cM(r)}else yield yy(r.localStore,e,!1).then(()=>Cy(r,e,t)).catch(Vd)}),rM.apply(this,arguments)}function GV(n,e){return iM.apply(this,arguments)}function iM(){return iM=(0,be.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield aV(t.localStore,e);lM(t,r,null),aM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield uc(t,i)}catch(i){yield Vd(i)}}),iM.apply(this,arguments)}function zV(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=(0,be.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(l,d){const f=Qe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return f.mutationQueue.lookupMutationBatch(y,d).next(T=>(wt(null!==T),E=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>f.localDocuments.getDocuments(y,E))})}(r.localStore,e);lM(r,e,t),aM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield uc(r,i)}catch(i){yield Vd(i)}}),sM.apply(this,arguments)}function oM(){return oM=(0,be.Z)(function*(n,e){const t=Qe(n);lc(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Qe(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Ey(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),oM.apply(this,arguments)}function aM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function lM(n,e,t){const r=Qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||g1(n,r)})}function g1(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(iw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),cM(n))}function uM(n,e,t){for(const r of t)r instanceof c1?(n.ac.addReference(r.key,e),WV(n,r)):r instanceof d1?(He("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||g1(n,r.key)):st()}function WV(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.oc.add(r),cM(n))}function cM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new We(_n.fromString(e)),r=n.fc.next();n.cc.set(r,new VV(t)),n.uc=n.uc.insert(t,r),NC(n.remoteStore,new qd(us(oy(t.path)),r,2,po.at))}}function uc(n,e,t){return dM.apply(this,arguments)}function dM(){return dM=(0,be.Z)(function*(n,e,t){const r=Qe(n),i=[],l=[],d=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,y)=>{d.push(r._c(y,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const T=mx.Ci(y.targetId,E);l.push(T)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(f=(0,be.Z)(function*(y,E){const T=Qe(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ue.forEach(E,V=>ue.forEach(V.Si,$=>T.persistence.referenceDelegate.addReference(A,V.targetId,$)).next(()=>ue.forEach(V.Di,$=>T.persistence.referenceDelegate.removeReference(A,V.targetId,$)))))}catch(A){if(!Ud(A))throw A;He("LocalStore","Failed to update sequence numbers: "+A)}for(const A of E){const V=A.targetId;if(!A.fromCache){const $=T.qi.get(V),ce=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);T.qi=T.qi.insert(V,ce)}}}),function(y,E){return f.apply(this,arguments)})(r.localStore,l))}),dM.apply(this,arguments)}function KV(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,be.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield jR(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(f=>{f.reject(new Le(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uc(t,r.ji)}var i}),hM.apply(this,arguments)}function ZV(n,e){const t=Qe(n),r=t.cc.get(e);if(r&&r.nc)return Jt().add(r.key);{let i=Jt();const l=t.rc.get(e);if(!l)return i;for(const d of l){const f=t.ic.get(d);i=i.unionWith(f.view.ju)}return i}}function YV(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,be.Z)(function*(n,e){const t=Qe(n),r=yield AC(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&uM(t,e.targetId,i.Xu),i}),fM.apply(this,arguments)}function QV(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,be.Z)(function*(n,e){const t=Qe(n);return qR(t.localStore,e).then(r=>uc(t,r))}),pM.apply(this,arguments)}function JV(n,e,t,r){return gM.apply(this,arguments)}function gM(){return gM=(0,be.Z)(function*(n,e,t,r){const i=Qe(n),l=yield function(d,f){const y=Qe(d),E=Qe(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>E.Tn(T,f).next(A=>A?y.localDocuments.getDocuments(T,A):ue.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield vy(i.remoteStore):"acknowledged"===t||"rejected"===t?(lM(i,e,r||null),aM(i,e),f=e,Qe(Qe(i.localStore).mutationQueue).An(f)):st(),yield uc(i,l)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),gM.apply(this,arguments)}function mM(){return mM=(0,be.Z)(function*(n,e){const t=Qe(n);if(wM(t),EM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield m1(t,r.toArray());t.dc=!0,yield jx(t.remoteStore,!0);for(const l of i)NC(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Cy(t,d),yy(t.localStore,d,!0))),iw(t.remoteStore,d)}),yield i,yield m1(t,r),function(l){const d=Qe(l);d.cc.forEach((f,y)=>{iw(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new Er(We.comparator)}(t),t.dc=!1,yield jx(t.remoteStore,!1)}}),mM.apply(this,arguments)}function m1(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=(0,be.Z)(function*(n,e,t){const r=Qe(n),i=[],l=[];for(const d of e){let f;const y=r.rc.get(d);if(y&&0!==y.length){f=yield my(r.localStore,us(y[0]));for(const E of y){const T=r.ic.get(E),A=yield YV(r,T);A.snapshot&&l.push(A.snapshot)}}else{const E=yield zR(r.localStore,d);f=yield my(r.localStore,E),yield Jx(r,y1(E),d,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(l),i}),yM.apply(this,arguments)}function y1(n){return EO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eU(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).vi()}function tU(n,e,t,r){return _M.apply(this,arguments)}function _M(){return _M=(0,be.Z)(function*(n,e,t,r){const i=Qe(n);if(i.dc)return void He("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield qR(i.localStore,CO(l[0])),f=$0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Jr.EMPTY_BYTE_STRING);yield uc(i,d,f);break}case"rejected":yield yy(i.localStore,e,!0),Cy(i,e,r);break;default:st()}}),_M.apply(this,arguments)}function nU(n,e,t){return vM.apply(this,arguments)}function vM(){return vM=(0,be.Z)(function*(n,e,t){const r=wM(n);if(r.dc){for(const i of e){if(r.rc.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const l=yield zR(r.localStore,i),d=yield my(r.localStore,l);yield Jx(r,y1(l),d.targetId,!1,d.resumeToken),NC(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield yy(r.localStore,i,!1).then(()=>{iw(r.remoteStore,i),Cy(r,i)}).catch(Vd))}}),vM.apply(this,arguments)}function wM(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$V.bind(null,e),e.sc.Wo=OV.bind(null,e.eventManager),e.sc.wc=RV.bind(null,e.eventManager),e}function EM(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zV.bind(null,e),e}class _1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.yt=nw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return HR(this.persistence,new BR,e.initialUser,this.yt)}yc(e){return new VR(TC.Bs,this.yt)}gc(e){return new YR}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class v1 extends _1{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield EM(r.Ac.syncEngine),yield vy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return HR(this.persistence,new BR,e.initialUser,this.yt)}Tc(e,t){return new qF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new ML(t,this.persistence);return new xL(e.asyncQueue,r)}yc(e){const t=gx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new px(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,JR(),PC(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new YR}}class iU extends v1{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Cx&&(r.sharedClientState.syncEngine={Fr:JV.bind(null,i),$r:tU.bind(null,i),Br:nU.bind(null,i),vi:eU.bind(null,i),Mr:QV.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,be.Z)(function*(d){yield function XV(n,e){return mM.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=JR();if(!Cx.C(t))throw new Le(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bM{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>p1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,r.syncEngine),yield jx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NV}createDatastore(e){const t=nw(e.databaseInfo.databaseId),r=new gV(e.databaseInfo);return new _V(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>p1(this.syncEngine,f,0),d=QR.C()?new QR:new hV,new EV(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,f,y,E){const T=new UV(r,i,l,d,f,y);return E&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Qe(t);He("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield _y(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IM(n,e,t){if(!t)throw new Le(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function w1(n,e,t,r){if(!0===e&&!0===r)throw new Le(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function E1(n){if(!We.isDocumentKey(n))throw new Le(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function b1(n){if(We.isDocumentKey(n))throw new Le(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=RC(n);throw new Le(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function I1(n,e){if(e<=0)throw new Le(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const C1=new Map;class D1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,w1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yL;switch(t.type){case"gapi":return new EL(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=C1.get(e);t&&(He("ComponentProvider","Removing Datastore"),C1.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class Si{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class nu extends Si{constructor(e,t,r){super(e,t,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new We(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function S1(n,e,...t){if(n=(0,mn.m9)(n),IM("collection","path",e),n instanceof sw){const r=_n.fromString(e,...t);return b1(r),new nu(n,null,r)}{if(!(n instanceof rr||n instanceof nu))throw new Le(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return b1(r),new nu(n.firestore,null,r)}}function kC(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=$N.R()),IM("doc","path",e),n instanceof sw){const r=_n.fromString(e,...t);return E1(r),new rr(n,null,new We(r))}{if(!(n instanceof rr||n instanceof nu))throw new Le(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return E1(r),new rr(n.firestore,n instanceof nu?n.converter:null,new We(r))}}function A1(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof rr||n instanceof nu)&&(e instanceof rr||e instanceof nu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function CM(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof Si&&e instanceof Si&&n.firestore===e.firestore&&V0(n._query,e._query)&&n.converter===e.converter}function x1(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class LC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oU{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Qr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new kV(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,be.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class uU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(l,d){const f=Qe(l),y=q0(f.yt)+"/documents",E={documents:d.map($=>z0(f.yt,$))},T=yield f._o("BatchGetDocuments",y,E,d.length),A=new Map;T.forEach($=>{const K=function lF(n,e){return"found"in e?function(t,r){wt(!!r.found);const i=eu(t,r.found.name),l=Mr(r.found.updateTime),d=r.found.createTime?Mr(r.found.createTime):Dt.min(),f=new Ti({mapValue:{fields:r.found.fields}});return nr.newFoundDocument(i,l,d,f)}(n,e):"missing"in e?function(t,r){wt(!!r.missing),wt(!!r.readTime);const i=eu(t,r.missing),l=Mr(r.readTime);return nr.newNoDocument(i,l)}(n,e):st()}(f.yt,$);A.set(K.key.toString(),K)});const V=[];return d.forEach($=>{const K=A.get($.toString());wt(!!K),V.push(K)}),V}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=We.fromPath(i);e.mutations.push(new YA(l,e.precondition(l)))}),yield(r=(0,be.Z)(function*(i,l){const d=Qe(i),f=q0(d.yt)+"/documents",y={writes:l.map(E=>W0(d.yt,E))};yield d.ao("Commit",f,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?ar.exists(!1):ar.updateTime(t):ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Le(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(t)}return ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cU{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new Dx(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,be.Z)(function*(){const t=new uU(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!P0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!UO(t)}return!1}}class dU{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=$N.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,be.Z)(function*(f){He("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(He("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ey(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function M1(n,e){return DM.apply(this,arguments)}function DM(){return DM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(l){r.isEqual(l)||(yield jR(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),DM.apply(this,arguments)}function P1(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield SM(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>o1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>o1(e.remoteStore,l)),n.onlineComponents=e}),TM.apply(this,arguments)}function SM(n){return AM.apply(this,arguments)}function AM(){return AM=(0,be.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield M1(n,new _1)),n.offlineComponents}),AM.apply(this,arguments)}function FC(n){return xM.apply(this,arguments)}function xM(){return xM=(0,be.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield P1(n,new bM)),n.onlineComponents}),xM.apply(this,arguments)}function N1(n){return SM(n).then(e=>e.persistence)}function VC(n){return SM(n).then(e=>e.localStore)}function MM(n){return FC(n).then(e=>e.remoteStore)}function PM(n){return FC(n).then(e=>e.syncEngine)}function Dy(n){return NM.apply(this,arguments)}function NM(){return NM=(0,be.Z)(function*(n){const e=yield FC(n),t=e.eventManager;return t.onListen=BV.bind(null,e.syncEngine),t.onUnlisten=HV.bind(null,e.syncEngine),t}),NM.apply(this,arguments)}function R1(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,l,d,f,y){const E=new LC({next:A=>{l.enqueueAndForget(()=>Wx(i,T));const V=A.docs.has(d);!V&&A.fromCache?y.reject(new Le(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&f&&"server"===f.source?y.reject(new Le(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new Yx(oy(d.path),E,{includeMetadataChanges:!0,Nu:!0});return zx(i,T)}(yield Dy(n),n.asyncQueue,e,t,r)})),r.promise}function k1(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,l,d,f,y){const E=new LC({next:A=>{l.enqueueAndForget(()=>Wx(i,T)),A.fromCache&&"server"===f.source?y.reject(new Le(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new Yx(d,E,{includeMetadataChanges:!0,Nu:!0});return zx(i,T)}(yield Dy(n),n.asyncQueue,e,t,r)})),r.promise}class vU{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Dx(this,"async_queue_retry"),this.Wc=()=>{const t=PC();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=PC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=PC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Qr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,be.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ud(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Gx.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.Uc.push(i),i}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function OM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class wU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ir extends sw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||L1(this),this._firestoreClient.terminate()}}function Pr(n){return n._firestoreClient||L1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function L1(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PL(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new dU(n._authCredentials,n._appCheckCredentials,n._queue,r)}function F1(n,e,t){const r=new Qr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield M1(n,t),yield P1(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===ge.FAILED_PRECONDITION||d.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;rp("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function V1(n){if(n._initialized||n._terminated)throw new Le(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Jr.fromBase64String(e))}catch(t){throw new Le(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ep{constructor(e){this._methodName=e}}class UC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const MU=/^__.*__$/;class PU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new uy(e,this.data,t,this.fieldTransforms)}}class U1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function B1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class BC{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new BC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return $C(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(B1(this.sa)&&MU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class NU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||nw(e)}da(e,t,r,i=!1){return new BC({sa:e,methodName:t,fa:r,path:vr.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function bp(n){const e=n._freezeSettings(),t=nw(n._databaseId);return new NU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HC(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);FM("Data must be an object, but it was:",d,r);const f=$1(r,d);let y,E;if(l.merge)y=new go(d.fieldMask),E=d.fieldTransforms;else if(l.mergeFields){const T=[];for(const A of l.mergeFields){const V=VM(e,A,t);if(!d.contains(V))throw new Le(ge.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);z1(T,V)||T.push(V)}y=new go(T),E=d.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,E=d.fieldTransforms;return new PU(new Ti(f),y,E)}class ow extends Ep{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ow}}function H1(n,e,t){return new BC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class RM extends Ep{_toFieldTransform(e){return new U0(e.path,new ay)}isEqual(e){return e instanceof RM}}class OU extends Ep{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=H1(this,e,!0),r=this._a.map(l=>Ip(l,t)),i=new hp(r);return new U0(e.path,i)}isEqual(e){return this===e}}class RU extends Ep{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=H1(this,e,!0),r=this._a.map(l=>Ip(l,t)),i=new fp(r);return new U0(e.path,i)}isEqual(e){return this===e}}class kU extends Ep{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ly(e.yt,AO(e.yt,this.wa));return new U0(e.path,t)}isEqual(e){return this===e}}function kM(n,e,t,r){const i=n.da(1,e,t);FM("Data must be an object, but it was:",i,r);const l=[],d=Ti.empty();op(r,(y,E)=>{const T=jC(e,y,t);E=(0,mn.m9)(E);const A=i.ca(T);if(E instanceof ow)l.push(T);else{const V=Ip(E,A);null!=V&&(l.push(T),d.set(T,V))}});const f=new go(l);return new U1(d,f,i.fieldTransforms)}function LM(n,e,t,r,i,l){const d=n.da(1,e,t),f=[VM(e,r,t)],y=[i];if(l.length%2!=0)throw new Le(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)f.push(VM(e,l[V])),y.push(l[V+1]);const E=[],T=Ti.empty();for(let V=f.length-1;V>=0;--V)if(!z1(E,f[V])){const $=f[V];let K=y[V];K=(0,mn.m9)(K);const ce=d.ca($);if(K instanceof ow)E.push($);else{const De=Ip(K,ce);null!=De&&(E.push($),T.set($,De))}}const A=new go(E);return new U1(T,A,d.fieldTransforms)}function j1(n,e,t,r=!1){return Ip(t,n.da(r?4:3,e))}function Ip(n,e){if(G1(n=(0,mn.m9)(n)))return FM("Unsupported field value:",e,n),$1(n,e);if(n instanceof Ep)return function(t,r){if(!B1(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let f=Ip(d,r.aa(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return AO(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=or.fromDate(t);return{timestampValue:dy(r.yt,i)}}if(t instanceof or){const i=new or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dy(r.yt,i)}}if(t instanceof UC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:ZO(r.yt,t._byteString)};if(t instanceof rr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:QA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${RC(t)}`)}(n,e)}function $1(n,e){const t={};return QN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):op(n,(r,i)=>{const l=Ip(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function G1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof or||n instanceof UC||n instanceof ru||n instanceof rr||n instanceof Ep)}function FM(n,e,t){if(!G1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=RC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function VM(n,e,t){if((e=(0,mn.m9)(e))instanceof cc)return e._internalPath;if("string"==typeof e)return jC(n,e);throw $C("Field path arguments must be of type string or ",n,!1,void 0,t)}const LU=new RegExp("[~\\*/\\[\\]]");function jC(n,e,t){if(e.search(LU)>=0)throw $C(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cc(...e.split("."))._internalPath}catch{throw $C(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $C(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||d)&&(y+=" (found",l&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Le(ge.INVALID_ARGUMENT,f+n+y)}function z1(n,e){return n.some(t=>t.isEqual(e))}class aw{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new FU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class FU extends aw{data(){return super.data()}}function GC(n,e){return"string"==typeof e?jC(n,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function q1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UM{}class lw extends UM{}function Qd(n,e,...t){let r=[];e instanceof UM&&r.push(e),r=r.concat(t),function(i){const l=i.filter(f=>f instanceof Ty).length,d=i.filter(f=>f instanceof uw).length;if(l>1||l>0&&d>0)throw new Le(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class uw extends lw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new uw(e,t,r)}_apply(e){const t=this._parse(e);return Y1(e._query,t),new Si(e.firestore,e.converter,WA(e._query,t))}_parse(e){const t=bp(e.firestore);return function(i,l,d,f,y,E,T){let A;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Le(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){Z1(T,E);const V=[];for(const $ of T)V.push(K1(f,i,$));A={arrayValue:{values:V}}}else A=K1(f,i,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||Z1(T,E),A=j1(d,"where",T,"in"===E||"not-in"===E);return an.create(y,E,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ty extends UM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ty(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:On.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let l=r;const d=i.getFlattenedFilters();for(const f of d)Y1(l,f),l=WA(l,f)}(e._query,t),new Si(e.firestore,e.converter,WA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BM extends lw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new BM(e,t)}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Le(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new iy(i,l);return function(f,y){if(null===zA(f)){const E=cC(f);null!==E&&Q1(0,E,y.field)}}(r,d),d}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new oc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class zC extends lw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new zC(e,t,r)}_apply(e){return new Si(e.firestore,e.converter,dC(e._query,this._limit,this._limitType))}}class qC extends lw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new qC(e,t,r)}_apply(e){const t=W1(e,this.type,this._docOrFields,this._inclusive);return new Si(e.firestore,e.converter,(i=t,new oc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class WC extends lw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new WC(e,t,r)}_apply(e){const t=W1(e,this.type,this._docOrFields,this._inclusive);return new Si(e.firestore,e.converter,(i=t,new oc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function W1(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof aw)return function(i,l,d,f,y){if(!f)throw new Le(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const T of dp(i))if(T.field.isKeyField())E.push(up(l,f.key));else{const A=f.data.field(T.field);if(BA(A))throw new Le(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const V=T.field.canonicalString();throw new Le(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}E.push(A)}return new Gd(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=bp(n.firestore);return function(l,d,f,y,E,T){const A=l.explicitOrderBy;if(E.length>A.length)throw new Le(ge.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let $=0;$<E.length;$++){const K=E[$];if(A[$].field.isKeyField()){if("string"!=typeof K)throw new Le(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof K}`);if(!qA(l)&&-1!==K.indexOf("/"))throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${K}' contains a slash.`);const ce=l.path.child(_n.fromString(K));if(!We.isDocumentKey(ce))throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const De=new We(ce);V.push(up(d,De))}else{const ce=j1(f,y,K);V.push(ce)}}return new Gd(V,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function K1(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Le(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qA(e)&&-1!==t.indexOf("/"))throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_n.fromString(t));if(!We.isDocumentKey(r))throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return up(n,new We(r))}if(t instanceof rr)return up(n,t._key);throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${RC(t)}.`)}function Z1(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Y1(n,e){if(e.isInequality()){const r=cC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Le(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const l=zA(n);null!==l&&Q1(0,i,l)}const t=function(r,i){for(const l of r)for(const d of l.getFlattenedFilters())if(i.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Le(ge.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Q1(n,e,t){if(!t.isEqual(e))throw new Le(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class HM{convertValue(e,t="none"){switch(lp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ap(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return op(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new UC(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=XN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(O0(e));default:return null}}convertTimestamp(e){const t=Hd(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_n.fromString(e);wt(sR(r));const i=new Bd(r.get(1),r.get(3)),l=new We(r.popFirst(5));return i.isEqual(t)||xr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function KC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qU extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}class Cp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dc extends aw{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(GC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class cw extends dc{data(e={}){return super.data(e)}}class Jd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cw(this._firestore,this._userDataWriter,r.key,r,new Cp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new cw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new cw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==d.type&&(y=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),E=l.indexOf(d.doc.key)),{type:WU(d.type),doc:f,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function X1(n,e){return n instanceof dc&&e instanceof dc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jd&&e instanceof Jd&&n._firestore===e._firestore&&CM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Xd extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function ek(n,e,t){n=ln(n,rr);const r=ln(n.firestore,ir),i=KC(n.converter,e,t);return Sy(r,[HC(bp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ar.none())])}function tk(n,e,t,...r){n=ln(n,rr);const i=ln(n.firestore,ir),l=bp(i);let d;return d="string"==typeof(e=(0,mn.m9)(e))||e instanceof cc?LM(l,"updateDoc",n._key,e,t,r):kM(l,"updateDoc",n._key,e),Sy(i,[d.toMutation(n._key,ar.exists(!0))])}function nk(n,...e){var t,r,i;n=(0,mn.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||OM(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(OM(e[d])){const A=e[d];e[d]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[d+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[d+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let y,E,T;if(n instanceof rr)E=ln(n.firestore,ir),T=oy(n._key.path),y={next:A=>{e[d]&&e[d](jM(E,n,A))},error:e[d+1],complete:e[d+2]};else{const A=ln(n,Si);E=ln(A.firestore,ir),T=A._query;const V=new Xd(E);y={next:$=>{e[d]&&e[d](new Jd(E,V,A,$))},error:e[d+1],complete:e[d+2]},q1(n._query)}return function(A,V,$,K){const ce=new LC(K),De=new Yx(V,ce,$);return A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return zx(yield Dy(A),De)})),()=>{ce.bc(),A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Wx(yield Dy(A),De)}))}}(Pr(E),T,f,y)}function Sy(n,e){return function(t,r){const i=new Qr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function jV(n,e,t){return tM.apply(this,arguments)}(yield PM(t),r,i)})),i.promise}(Pr(n),e)}function jM(n,e,t){const r=t.docs.get(e._key),i=new Xd(n);return new dc(n,i,e._key,r,new Cp(t.hasPendingWrites,t.fromCache),e.converter)}const rB={maxAttempts:5};class rk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bp(e)}set(e,t,r){this._verifyNotCommitted();const i=eh(e,this._firestore),l=KC(i.converter,t,r),d=HC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,ar.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=eh(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof cc?LM(this._dataReader,"WriteBatch.update",l._key,t,r,i):kM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=eh(e,this._firestore);return this._mutations=this._mutations.concat(new cy(t._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eh(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Le(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class iB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bp(e)}get(e){const t=eh(e,this._firestore),r=new qU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const l=i[0];if(l.isFoundDocument())return new aw(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new aw(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=eh(e,this._firestore),l=KC(i.converter,t,r),d=HC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=eh(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof cc?LM(this._dataReader,"Transaction.update",l._key,t,r,i):kM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=eh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=eh(e,this._firestore),r=new Xd(this._firestore);return super.get(e).then(i=>new dc(this._firestore,r,t._key,i._document,new Cp(!1,!1),t.converter))}}function dB(n,e){1&n&&(c.TgZ(0,"h6"),c._uU(1,"Pick a password"),c.qZA())}function hB(n,e){1&n&&(c._UZ(0,"p-divider"),c.TgZ(1,"p",36),c._uU(2,"Suggestions"),c.qZA(),c.TgZ(3,"ul",37)(4,"li"),c._uU(5,"At least one lowercase"),c.qZA(),c.TgZ(6,"li"),c._uU(7,"At least one uppercase"),c.qZA(),c.TgZ(8,"li"),c._uU(9,"At least one numeric"),c.qZA(),c.TgZ(10,"li"),c._uU(11,"Minimum 8 characters"),c.qZA()())}!function(n,e=!0){ey=el.SDK_VERSION,(0,el._registerComponent)(new Bf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new ir(new vL(t.getProvider("auth-internal")),new bL(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Le(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(f.options.projectId,y)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,el.registerVersion)(BN,"3.8.0",n),(0,el.registerVersion)(BN,"3.8.0","esm2017")}();const Ay=function(){return{width:"100%"}},sk=function(){return{width:"50%"}};let fB=(()=>{class n{constructor(t,r,i){this.router=t,this.userService=r,this.toastr=i,this.firstName="",this.lastName="",this.email="",this.password="",this.contact="",this.verified=!1,this.checkBox=!1,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"30px",height:"45px"},containerClass:"d-flex"}}ngOnInit(){console.log(this.checkBox)}toLogin(){this.router.navigate(["/login"])}submitUser(){0!=this.checkBox?""!=this.firstName&&""!=this.email&&""!=this.password&&""!=this.contact?this.password.length<8?this.toastr.infoToastr("Password must be atleast 8 characters"):10==this.contact.length?(this.userData={firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,contact:this.contact},this.userService.submitUser(this.userData).subscribe(t=>{console.log(t),200==t.statusCode?(this.toastr.successToastr("User Registered Successfully"),setTimeout(()=>{this.router.navigate(["/home"])},2e3)):this.toastr.errorToastr(t.data)})):this.toastr.infoToastr("Contact number must be 10 digits"):this.toastr.infoToastr("Please fill all the fields"):this.toastr.errorToastr("Please accept the terms and conditions")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Tr),c.Y36(iv),c.Y36(yd))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signup"]],decls:56,vars:30,consts:[[1,"d-flex","row","align-items-center"],[1,"col-6","p-0","m-0"],[1,"d-flex","justify-content-center","col-12"],[1,"col-12","p-0"],[1,"d-flex","justify-content-center","content"],[1,"col-11"],[1,"heading-text","d-flex","my-2"],[1,"text-dark","fs-3","fw-semibold"],[1,"col-12","row","align-items-center","m-0","justify-content-center","my-2"],[1,"col-1","m-0","p-0"],[1,"fas","fa-user","fa-lg","fa-fw"],[1,"col-11","d-flex","p-0","justify-content-between"],[1,"p-float-label","col-6"],["id","a","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","a"],[1,"fas","fa-envelope","fa-lg","fa-fw"],[1,"p-float-label","col-11","d-flex","p-0","justify-content-between"],["id","b","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","b"],[1,"fas","fa-lock","fa-lg","fa-fw"],["placeholder","Password",1,"flex-grow-1",3,"inputStyle","ngModel","toggleMask","ngModelChange"],["pTemplate","header"],["pTemplate","footer"],[1,"fas","fa-phone","fa-lg","fa-fw","fa-rotate-90"],["id","d","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","d"],[1,"form-check","my-2"],["type","checkbox","value","","id","form2Example3c",1,"form-check-input","me-2",3,"ngModel","ngModelChange"],["for","form2Example3",1,"form-check-label"],["href","#"],[1,"row","col-12","m-0","justify-content-center","mb-3","mb-lg-4","my-2"],["pButton","","pRipple","","type","button","label","Register",3,"click"],["id","sign-in-button"],[1,"heading-text","d-flex","my-2","flex-row","justify-content-center"],[1,"mt-4","text-center"],["pButton","","pRipple","","type","button","label","Login",3,"click"],[1,"p-mt-2"],[1,"p-pl-2","p-ml-2","p-mt-0",2,"line-height","1.5"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-sideBar",1),c.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),c._uU(8,"Create an account"),c.qZA()(),c.TgZ(9,"div",8)(10,"div",9),c._UZ(11,"i",10),c.qZA(),c.TgZ(12,"div",11)(13,"span",12)(14,"input",13),c.NdJ("ngModelChange",function(l){return r.firstName=l}),c.qZA(),c.TgZ(15,"label",14),c._uU(16,"First Name"),c.qZA()(),c.TgZ(17,"span",12)(18,"input",13),c.NdJ("ngModelChange",function(l){return r.lastName=l}),c.qZA(),c.TgZ(19,"label",14),c._uU(20,"Last Name"),c.qZA()()()(),c.TgZ(21,"div",8)(22,"div",9),c._UZ(23,"i",15),c.qZA(),c.TgZ(24,"div",16)(25,"input",17),c.NdJ("ngModelChange",function(l){return r.email=l}),c.qZA(),c.TgZ(26,"label",18),c._uU(27,"Email"),c.qZA()()(),c.TgZ(28,"div",8)(29,"div",9),c._UZ(30,"i",19),c.qZA(),c.TgZ(31,"span",11)(32,"p-password",20),c.NdJ("ngModelChange",function(l){return r.password=l}),c.YNc(33,dB,2,0,"ng-template",21),c.YNc(34,hB,12,0,"ng-template",22),c.qZA()()(),c.TgZ(35,"div",8)(36,"div",9),c._UZ(37,"i",23),c.qZA(),c.TgZ(38,"span",16)(39,"input",24),c.NdJ("ngModelChange",function(l){return r.contact=l}),c.qZA(),c.TgZ(40,"label",25),c._uU(41,"Phone"),c.qZA()()(),c.TgZ(42,"div",26)(43,"input",27),c.NdJ("ngModelChange",function(l){return r.checkBox=l}),c.qZA(),c.TgZ(44,"label",28),c._uU(45," I agree all statements in "),c.TgZ(46,"a",29),c._uU(47,"Terms of service"),c.qZA()()(),c.TgZ(48,"div",30)(49,"button",31),c.NdJ("click",function(){return r.submitUser()}),c.qZA(),c._UZ(50,"div",32),c.qZA(),c.TgZ(51,"div",33)(52,"span",7),c._uU(53,"Already Registered"),c.qZA()(),c.TgZ(54,"div",34)(55,"button",35),c.NdJ("click",function(){return r.toLogin()}),c.qZA()()()()()()()),2&t&&(c.xp6(14),c.Akn(c.DdM(22,Ay)),c.Q6J("ngModel",r.firstName),c.xp6(4),c.Akn(c.DdM(23,Ay)),c.Q6J("ngModel",r.lastName),c.xp6(7),c.Akn(c.DdM(24,Ay)),c.Q6J("ngModel",r.email),c.xp6(7),c.Akn(c.DdM(25,Ay)),c.Q6J("inputStyle",c.DdM(26,Ay))("ngModel",r.password)("toggleMask",!0),c.xp6(7),c.Akn(c.DdM(27,Ay)),c.Q6J("ngModel",r.contact),c.xp6(4),c.Q6J("ngModel",r.checkBox),c.xp6(6),c.Akn(c.DdM(28,sk)),c.xp6(6),c.Akn(c.DdM(29,sk)))},dependencies:[_b,Bv,Im,Yg,tc,_d,Jg,Xu,Id,yI],styles:[".header[_ngcontent-%COMP%]{height:100vh!important;width:100%!important;overflow:hidden}@media screen and(max-width:1180px){.d-flex[_ngcontent-%COMP%]   row[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   align-items-center[_ngcontent-%COMP%]{width:100%;height:auto;padding:70px 0}}.otpField[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;flex-grow:none!important}@media screen and(max-width:650px){.d-flex[_ngcontent-%COMP%]   row[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   align-items-center[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]   p-0[_ngcontent-%COMP%]   m-0[_ngcontent-%COMP%]{margin-bottom:35px}}.header[_ngcontent-%COMP%]{position:fixed;scroll-behavior:none;top:0;height:100vh!important;width:100vw!important}.content[_ngcontent-%COMP%]{position:absolute;top:52%;transform:translateY(-50%)}.otp-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important}"]}),n})(),pB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:10,vars:0,consts:[[1,"navbar","navbar-light","bg-light","navbar-shadow","border-bottom",2,"padding","0"],[1,"container-fluid"],["id","icon1",1,"icon"],["href","#",1,"nav-link"],[1,"fa-regular","fa-heart","mt-0"],["id","icon2",1,"icon"],[1,"fa-solid","fa-dollar-sign"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"P"),c._uU(3,"Categories"),c.qZA(),c.TgZ(4,"div",2)(5,"a",3),c._UZ(6,"i",4),c.qZA()(),c.TgZ(7,"div",5)(8,"a",3),c._UZ(9,"i",6),c.qZA()()()())},styles:[".icon[_ngcontent-%COMP%]{position:relative;top:-10px}#icon1[_ngcontent-%COMP%]{left:80px}nav[_ngcontent-%COMP%]{margin-top:4px;height:25px}"]}),n})();const ok=function(){return["/home"]};let gB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:26,vars:4,consts:[[1,"navbar","fixed-bottom","navbar-light","bg-light","navbar-shadow",2,"padding","0"],[1,"container-fluid"],["aria-current","page",1,"nav-link","active",3,"routerLink"],[1,"icon"],[1,"fa-solid","fa-house-user"],[1,"name"],[1,"fa-solid","fa-message"],["href","#",1,"nav-link"],[1,"fa-solid","fa-compass"],[1,"fa-regular","fa-user"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"div",3),c._UZ(4,"i",4),c.qZA(),c.TgZ(5,"div",5)(6,"p"),c._uU(7," Home "),c.qZA()()(),c.TgZ(8,"a",2)(9,"div",3),c._UZ(10,"i",6),c.qZA(),c.TgZ(11,"div",5)(12,"p"),c._uU(13," contactUs "),c.qZA()()(),c.TgZ(14,"a",7)(15,"div",3),c._UZ(16,"i",8),c.qZA(),c.TgZ(17,"div",5)(18,"p"),c._uU(19," Explore "),c.qZA()()(),c.TgZ(20,"a",7)(21,"div",3),c._UZ(22,"i",9),c.qZA(),c.TgZ(23,"div",5)(24,"p"),c._uU(25," Profile "),c.qZA()()()()()),2&t&&(c.xp6(2),c.Q6J("routerLink",c.DdM(2,ok)),c.xp6(6),c.Q6J("routerLink",c.DdM(3,ok)))},dependencies:[ao],styles:[".icon[_ngcontent-%COMP%]{margin-left:50%}.name[_ngcontent-%COMP%]{margin-left:20%}nav[_ngcontent-%COMP%]{height:40px}p[_ngcontent-%COMP%]{font-size:10px}"]}),n})();const mB=function(){return["/login"]},yB=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Gv},{path:"signup",component:fB},{path:"home",component:(()=>{class n{constructor(t){this.userService=t}ngOnInit(){this.getUserData()}getUserData(){this.userService.userData().subscribe(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(iv))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:39,vars:2,consts:[["id","services"],[1,"cardContainer","row","m-0"],[1,"cardWrapper","my-3","col-6","p-0","d-flex","justify-content-center"],["id","card1",1,"card","p-2","flex-column","align-items-center","justify-content-between"],[1,"tex"],["href","#",1,"nav-link",3,"routerLink"],["id","card2",1,"card","p-2","flex-column","align-items-center","justify-content-between"],["id","card3",1,"card","p-2","flex-column","align-items-center","justify-content-between"],["id","card4",1,"card","p-2","flex-column","align-items-center","justify-content-between"]],template:function(t,r){1&t&&(c._UZ(0,"app-header")(1,"app-home-page"),c.TgZ(2,"section",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"a",5),c._uU(8,"Food Delivery"),c.qZA()()()(),c.TgZ(9,"div",2)(10,"div",6)(11,"div",4),c._uU(12,"Printing"),c.qZA()()(),c.TgZ(13,"div",2)(14,"div",7)(15,"div",4),c._uU(16,"Laundary"),c.qZA()()(),c.TgZ(17,"div",2)(18,"div",8)(19,"div",4),c._uU(20,"Decoration"),c.qZA()()(),c.TgZ(21,"div",2)(22,"div",8)(23,"div",4),c._uU(24,"Food Delivery"),c.qZA()()(),c.TgZ(25,"div",2)(26,"div",8)(27,"div",4),c._uU(28,"Food Delivery"),c.qZA()()(),c.TgZ(29,"div",2)(30,"div",8)(31,"div",4),c._uU(32,"Food Delivery"),c.qZA()()(),c.TgZ(33,"div",2)(34,"div",8)(35,"div",4),c._uU(36,"Food Delivery"),c.qZA()()()()(),c.TgZ(37,"div"),c._UZ(38,"app-footer"),c.qZA()),2&t&&(c.xp6(7),c.Q6J("routerLink",c.DdM(1,mB)))},dependencies:[ao,pB,gB],styles:['@import"https://fonts.googleapis.com/css2?family=Edu+NSW+ACT+Foundation&display=swap";@import"https://kit.fontawesome.com/0ed9c139be.js";.mainHeading[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:2em;color:#7f669d}.welcome[_ngcontent-%COMP%]{background:url(bg.719a6912d5936b53.png);background-size:cover;background-repeat:no-repeat;height:30vh;position:relative;z-index:-1;display:flex;align-items:center;justify-content:space-between}.greet[_ngcontent-%COMP%]{font-family:Edu NSW ACT Foundation,cursive;padding-left:5%}.weather[_ngcontent-%COMP%]{padding-right:5%}section[_ngcontent-%COMP%]{height:100vh;width:100%;display:grid;place-items:center}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.column[_ngcontent-%COMP%]{width:100%;border:1px solid orange;padding:0 1em 1em;text-align:center}.card[_ngcontent-%COMP%]{width:100%;height:100%;padding:2em 1.5em;background:linear-gradient(#ffff 50%,#9d77da 50%);background-size:200% 200%;background-position:0 2.5%;border-radius:5px;box-shadow:0 0 35px #0000001f;cursor:pointer}h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1f194c;margin:1em 0}p[_ngcontent-%COMP%]{color:#575a7b;font-size:15px;line-height:1.6;letter-spacing:.03em}.card[_ngcontent-%COMP%]{width:150px!important;height:100px!important;box-sizing:border-box!important;border-radius:5px;box-shadow:0 0 9px 3px #00000040;cursor:pointer}.cardWrapper[_ngcontent-%COMP%]{box-sizing:border-box!important}.card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#f0f0f0}#card1[_ngcontent-%COMP%]{background-image:url(food.1d58be85ba995466.avif);background-repeat:no-repeat;background-size:150px 70px}#card2[_ngcontent-%COMP%]{background-image:url(print.3e4c74655a7ec754.avif);background-repeat:no-repeat;background-size:150px 70px}#card3[_ngcontent-%COMP%]{background-image:url(wash.754d004ecd4234fa.avif);background-repeat:no-repeat;background-size:150px 70px}#card4[_ngcontent-%COMP%]{background-image:url(decoration.74707f39fd98d8ed.avif);background-repeat:no-repeat;background-size:150px 70px}.tex[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#000;margin-top:50%}']}),n})()},{path:"**",component:Gv,pathMatch:"full"}];let _B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[XE.forRoot(yB),XE]}),n})(),vB=(()=>{class n{constructor(){this.title="user"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[vE]}),n})();const wB=["sliderHandle"],EB=["sliderHandleStart"],bB=["sliderHandleEnd"],IB=function(n,e){return{left:n,width:e}};function CB(n,e){if(1&n&&c._UZ(0,"span",4),2&n){const t=c.oxw();c.Q6J("ngStyle",c.WLB(1,IB,null!=t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const DB=function(n,e){return{bottom:n,height:e}};function TB(n,e){if(1&n&&c._UZ(0,"span",4),2&n){const t=c.oxw();c.Q6J("ngStyle",c.WLB(1,DB,null!=t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const SB=function(n){return{height:n}};function AB(n,e){if(1&n&&c._UZ(0,"span",4),2&n){const t=c.oxw();c.Q6J("ngStyle",c.VKq(1,SB,t.handleValue+"%"))}}const xB=function(n){return{width:n}};function MB(n,e){if(1&n&&c._UZ(0,"span",4),2&n){const t=c.oxw();c.Q6J("ngStyle",c.VKq(1,xB,t.handleValue+"%"))}}const $M=function(n,e){return{left:n,bottom:e}};function PB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",5,6),c.NdJ("keydown",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onHandleKeydown(i))})("mousedown",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onMouseDown(i))})("touchstart",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchStart(i))})("touchmove",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchMove(i))})("touchend",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchEnd(i))}),c.qZA()}if(2&n){const t=c.oxw();c.Udp("transition",t.dragging?"none":null),c.Q6J("ngStyle",c.WLB(8,$M,"horizontal"==t.orientation?t.handleValue+"%":null,"vertical"==t.orientation?t.handleValue+"%":null)),c.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const ak=function(n){return{"p-slider-handle-active":n}};function NB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",7,8),c.NdJ("keydown",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onHandleKeydown(i,0))})("mousedown",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onMouseDown(i,0))})("touchstart",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchStart(i,0))})("touchmove",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchMove(i,0))})("touchend",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchEnd(i))}),c.qZA()}if(2&n){const t=c.oxw();c.Udp("transition",t.dragging?"none":null),c.Q6J("ngStyle",c.WLB(9,$M,t.rangeStartLeft,t.rangeStartBottom))("ngClass",c.VKq(12,ak,0==t.handleIndex)),c.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[0]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}function OB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",7,9),c.NdJ("keydown",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onHandleKeydown(i,1))})("mousedown",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onMouseDown(i,1))})("touchstart",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchStart(i,1))})("touchmove",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchMove(i,1))})("touchend",function(i){c.CHM(t);const l=c.oxw();return c.KtG(l.onTouchEnd(i))}),c.qZA()}if(2&n){const t=c.oxw();c.Udp("transition",t.dragging?"none":null),c.Q6J("ngStyle",c.WLB(9,$M,t.rangeEndLeft,t.rangeEndBottom))("ngClass",c.VKq(12,ak,1==t.handleIndex)),c.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[1]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const RB=function(n,e,t,r){return{"p-slider p-component":!0,"p-disabled":n,"p-slider-horizontal":e,"p-slider-vertical":t,"p-slider-animate":r}},kB={provide:as,useExisting:(0,c.Gpc)(()=>LB),multi:!0};let LB=(()=>{class n{constructor(t,r,i,l){this.el=t,this.renderer=r,this.ngZone=i,this.cd=l,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new c.vpe,this.onSlideEnd=new c.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(t,r){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:r,this.bindDragListeners(),t.target.focus(),t.preventDefault(),this.animate&&gn.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(t,r){if(!this.disabled){var i=t.changedTouches[0];this.startHandleValue=this.range?this.handleValues[r]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:r,"horizontal"===this.orientation?(this.startx=parseInt(i.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(i.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&gn.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault()}}onTouchMove(t,r){if(!this.disabled){var l,i=t.changedTouches[0];l="horizontal"===this.orientation?Math.floor(100*(parseInt(i.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(i.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(t,l),t.preventDefault()}}onTouchEnd(t,r){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:t,values:this.values}:{originalEvent:t,value:this.value}),this.animate&&gn.addClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault())}onBarClick(t){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(t)),this.sliderHandleClick=!1)}onHandleKeydown(t,r){this.disabled||(38==t.which||39==t.which?this.spin(t,1,r):(37==t.which||40==t.which)&&this.spin(t,-1,r))}spin(t,r,i){let l=(this.step||1)*r;this.range?(this.handleIndex=i,this.updateValue(this.values[this.handleIndex]+l),this.updateHandleValue()):(this.updateValue(this.value+l),this.updateHandleValue()),t.preventDefault()}handleChange(t){let r=this.calculateHandleValue(t);this.setValueFromHandle(t,r)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const t=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(t,"mousemove",r=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(r)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(t,"mouseup",r=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:r,values:this.values}:{originalEvent:r,value:this.value}),this.animate&&gn.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(t,r){this.sliderHandleClick=!1;let i=this.getValueFromHandle(r);this.range?this.step?this.handleStepChange(i,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=r,this.updateValue(i,t)):this.step?this.handleStepChange(i,this.value):(this.handleValue=r,this.updateValue(i,t)),this.cd.markForCheck()}handleStepChange(t,r){let i=t-r,l=r;i<0?l=r+Math.ceil(t/this.step-r/this.step)*this.step:i>0&&(l=r+Math.floor(t/this.step-r/this.step)*this.step),this.updateValue(l),this.updateHandleValue()}writeValue(t){this.range?this.values=t||[0,0]:this.value=t||0,this.updateHandleValue(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let t=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=t.left+gn.getWindowScrollLeft(),this.initY=t.top+gn.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(t){return"horizontal"===this.orientation?100*(t.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-t.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(t,r){if(this.range){let i=t;0==this.handleIndex?(i<this.min?(i=this.min,this.handleValues[0]=0):i>this.values[1]&&(i>this.max&&(i=this.max,this.handleValues[0]=100),this.handleValues[0]=i),this.sliderHandleStart.nativeElement.focus()):(i>this.max?(i=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):i<this.min?(i=this.min,this.handleValues[1]=i):i<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(i),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:r,values:this.values})}else t<this.min?(t=this.min,this.handleValue=0):t>this.max&&(t=this.max,this.handleValue=100),this.value=this.getNormalizedValue(t),this.onModelChange(this.value),this.onChange.emit({event:r,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(t){return t/100*(this.max-this.min)+this.min}getDecimalsCount(t){return t&&Math.floor(t)!==t&&t.toString().split(".")[1].length||0}getNormalizedValue(t){let r=this.getDecimalsCount(this.step);return r>0?+parseFloat(t.toString()).toFixed(r):Math.floor(t)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-slider"]],viewQuery:function(t,r){if(1&t&&(c.Gf(wB,5),c.Gf(EB,5),c.Gf(bB,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.sliderHandle=i.first),c.iGM(i=c.CRH())&&(r.sliderHandleStart=i.first),c.iGM(i=c.CRH())&&(r.sliderHandleEnd=i.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[c._Bn([kB])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.NdJ("click",function(l){return r.onBarClick(l)}),c.YNc(1,CB,1,4,"span",1),c.YNc(2,TB,1,4,"span",1),c.YNc(3,AB,1,3,"span",1),c.YNc(4,MB,1,3,"span",1),c.YNc(5,PB,2,11,"span",2),c.YNc(6,NB,2,14,"span",3),c.YNc(7,OB,2,14,"span",3),c.qZA()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngStyle",r.style)("ngClass",c.l5B(11,RB,r.disabled,"horizontal"==r.orientation,"vertical"==r.orientation,r.animate)),c.xp6(1),c.Q6J("ngIf",r.range&&"horizontal"==r.orientation),c.xp6(1),c.Q6J("ngIf",r.range&&"vertical"==r.orientation),c.xp6(1),c.Q6J("ngIf",!r.range&&"vertical"==r.orientation),c.xp6(1),c.Q6J("ngIf",!r.range&&"horizontal"==r.orientation),c.xp6(1),c.Q6J("ngIf",!r.range),c.xp6(1),c.Q6J("ngIf",r.range),c.xp6(1),c.Q6J("ngIf",r.range))},dependencies:[sn,kn,Gs],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),FB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi]}),n})();Fc([pn({transform:"{{transform}}",opacity:0}),fn("{{transition}}",pn({transform:"none",opacity:1}))]),Fc([fn("{{transition}}",pn({transform:"{{transform}}",opacity:0}))]);let e2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mi,Qg,yb,Qg,mb]}),n})();var ll=k(2011),t2=k(6451),ZC=k(5363),n2=k(6063);class r2 extends Fi.x{constructor(e=1/0,t=1/0,r=n2.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var s2=k(3099);function lk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,s2.B)({connector:()=>new r2(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function uk(n,e){return(0,e_.m)(e)?Dr(()=>n,e):Dr(()=>n)}var GM=k(9468),hi=k(2122);k(259);const qM=new Map,dk={activated:!1,tokenObservers:[]},c2={initialized:!1,enabled:!1};function Ai(n){return qM.get(n)||Object.assign({},dk)}function QC(){return c2}class m2{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function y2(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ds=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fk(n){if(!Ai(n).activated)throw ds.create("use-before-activation",{appName:n.name})}function ZM(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,l)}catch(A){throw ds.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==d.status)throw ds.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(A){throw ds.create("fetch-parse-error",{originalErrorMessage:A?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(y[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+E,issuedAtTimeMillis:T}}),YM.apply(this,arguments)}function E2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const dw="firebase-app-check-store";let eD=null;function gk(){return eD||(eD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ds.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dw,{keyPath:"compositeKey"})}}catch(t){e(ds.create("storage-open",{originalErrorMessage:t?.message}))}}),eD)}function QM(){return QM=(0,be.Z)(function*(n,e){const r=(yield gk()).transaction(dw,"readwrite"),l=r.objectStore(dw).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=y=>{d()},r.onerror=y=>{var E;f(ds.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})}),QM.apply(this,arguments)}const hw=new zl.Yd("@firebase/app-check");function eP(n,e){return(0,mn.hl)()?function D2(n,e){return function mk(n,e){return QM.apply(this,arguments)}(function _k(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vk(){return QC().enabled}function wk(){return nP.apply(this,arguments)}function nP(){return nP=(0,be.Z)(function*(){const n=QC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),nP.apply(this,arguments)}const P2={error:"UNKNOWN_ERROR"};function N2(n){return mn.US.encodeString(JSON.stringify(n),!1)}function tD(n){return rP.apply(this,arguments)}function rP(){return rP=(0,be.Z)(function*(n,e=!1){const t=n.app;fk(t);const r=Ai(t);let l,i=r.token;if(i&&!xy(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(xy(y)?i=y:yield eP(t,void 0))}if(!e&&i&&xy(i))return{token:i.token};let f,d=!1;if(vk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ZM(E2(t,yield wk()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield eP(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield Ai(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?hw.warn(y.message):hw.error(y),l=y}return i?l?f=xy(i)?{token:i.token,internalError:l}:Ik(l):(f={token:i.token},r.token=i,yield eP(t,i)):f=Ik(l),d&&bk(t,f),f}),rP.apply(this,arguments)}function sP(n,e){const t=Ai(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ek(n){const{app:e}=n,t=Ai(e);let r=t.tokenRefresher;r||(r=function O2(n){const{app:e}=n;return new m2((0,be.Z)(function*(){let r;if(r=Ai(e).token?yield tD(n,!0):yield tD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function bk(n,e){const t=Ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function xy(n){return n.expireTimeMillis-Date.now()>0}function Ik(n){return{token:N2(P2),error:n}}class R2{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ai(this.app);for(const t of e)sP(this.app,t.next);return Promise.resolve()}}const Pk="app-check-internal";!function K2(){(0,el._registerComponent)(new Bf.wA("app-check",n=>function k2(n,e){return new R2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Pk).initialize()})),(0,el._registerComponent)(new Bf.wA(Pk,n=>function L2(n){return{getToken:e=>tD(n,e),addTokenListener:e=>function iP(n,e,t,r){const{app:i}=n,l=Ai(i);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&xy(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),Ek(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Ek(n))}(n,"INTERNAL",e),removeTokenListener:e=>sP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,el.registerVersion)("@firebase/app-check","0.6.0")}();class uP{constructor(){return(0,hi.vb)("app-check")}}typeof window<"u"&&window;var Ok=k(9260);const Rk=new c.OlP("angularfire2.auth.use-emulator"),kk=new c.OlP("angularfire2.auth.settings"),Lk=new c.OlP("angularfire2.auth.tenant-id"),Fk=new c.OlP("angularfire2.auth.langugage-code"),Vk=new c.OlP("angularfire2.auth.use-device-language"),Uk=new c.OlP("angularfire.auth.persistence"),Bk=(n,e,t,r,i,l,d,f)=>(0,ll.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),d)for(const[E,T]of Object.entries(d))y.settings[E]=T;return f&&y.setPersistence(f),y},[t,r,i,l,d,f]);let dP=(()=>{class n{constructor(t,r,i,l,d,f,y,E,T,A,V,$){const K=new Fi.x,ce=mt(void 0).pipe((0,ZC.Q)(d.outsideAngular),Dr(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,It.U)(()=>(0,ll.on)(t,l,r)),(0,It.U)(De=>Bk(De,l,f,E,T,A,y,V)),lk({bufferSize:1,refCount:!1}));if(Co(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{ce.pipe($a()).subscribe();const Ge=ce.pipe(Dr(ct=>ct.getRedirectResult().then(Nt=>Nt,()=>null)),hi.iC,lk({bufferSize:1,refCount:!1})),lt=ce.pipe(Dr(ct=>new ro.y(Nt=>({unsubscribe:l.runOutsideAngular(()=>ct.onAuthStateChanged(Ft=>Nt.next(Ft),Ft=>Nt.error(Ft),()=>Nt.complete()))})))),gt=ce.pipe(Dr(ct=>new ro.y(Nt=>({unsubscribe:l.runOutsideAngular(()=>ct.onIdTokenChanged(Ft=>Nt.next(Ft),Ft=>Nt.error(Ft),()=>Nt.complete()))}))));this.authState=Ge.pipe(uk(lt),(0,GM.R)(d.outsideAngular),(0,ZC.Q)(d.insideAngular)),this.user=Ge.pipe(uk(gt),(0,GM.R)(d.outsideAngular),(0,ZC.Q)(d.insideAngular)),this.idToken=this.user.pipe(Dr(ct=>ct?(0,Yt.D)(ct.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(Dr(ct=>ct?(0,Yt.D)(ct.getIdTokenResult()):mt(null))),this.credential=(0,t2.T)(Ge,K,this.authState.pipe(xs(ct=>!ct))).pipe((0,It.U)(ct=>ct?.user?ct:null),(0,GM.R)(d.outsideAngular),(0,ZC.Q)(d.insideAngular))}return(0,ll.pX)(this,ce,l,{spy:{apply:(De,Ge,lt)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&lt.then(gt=>K.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ll.Dh),c.LFG(ll.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(hi.HU),c.LFG(Rk,8),c.LFG(kk,8),c.LFG(Lk,8),c.LFG(Fk,8),c.LFG(Vk,8),c.LFG(Uk,8),c.LFG(uP,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eH=(()=>{class n{constructor(){Ok.Z.registerVersion("angularfire",hi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dP]}),n})();var tH=k(4986);function hP(){return(0,Vi.e)((n,e)=>{let t,r=!1;n.subscribe((0,bi.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function rH(n,e){return n===e}k(9568);var iH=k(3942);function fP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Hk(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function jk(){if(!function NL(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fw{constructor(e){this._delegate=e}static fromBase64String(e){return jk(),new fw(ru.fromBase64String(e))}static fromUint8Array(e){return Hk(),new fw(ru.fromUint8Array(e))}toBase64(){return jk(),this._delegate.toBase64()}toUint8Array(){return Hk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pP(n){return function aH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class lH{enableIndexedDbPersistence(e,t){return function bU(n,e){V1(n=ln(n,ir));const t=Pr(n),r=n._freezeSettings(),i=new bM;return F1(t,i,new v1(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function IU(n){V1(n=ln(n,ir));const e=Pr(n),t=n._freezeSettings(),r=new bM;return F1(e,r,new iU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function CU(n){if(n._initialized&&!n._terminated)throw new Le(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!al.C())return Promise.resolve();const i=r+"main";yield al.delete(i)}),function(r){return t.apply(this,arguments)})(gx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $k{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function T1(n,e,t,r={}){var i;const l=(n=ln(n,sw))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&rp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=ui.MOCK_USER;else{d=(0,mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Le(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ui(y)}n._authCredentials=new _L(new HN(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function TU(n){return function hU(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield N1(n),t=yield MM(n);return e.setNetworkEnabled(!0),function(r){const i=Qe(r);return i._u.delete(0),rw(i)}(t)}))}(Pr(n=ln(n,ir)))}(this._delegate)}disableNetwork(){return function SU(n){return function fU(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield N1(n),t=yield MM(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const l=Qe(i);l._u.add(0),yield _y(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Pr(n=ln(n,ir)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,w1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function DU(n){return function(e){const t=new Qr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function qV(n,e){return oM.apply(this,arguments)}(yield PM(e),t)})),t.promise}(Pr(n=ln(n,ir)))}(this._delegate)}onSnapshotsInSync(e){return function nB(n,e){return function mU(n,e){const t=new LC(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Dy(n),i=t,Qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Dy(n),i=t,void Qe(r).Ru.delete(i);var r,i}))}}(Pr(n=ln(n,ir)),OM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new My(this,S1(this._delegate,e))}catch(t){throw hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ua(this,kC(this._delegate,e))}catch(t){throw hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,function sU(n,e){if(n=ln(n,sw),IM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Si(n,null,(t=e,new oc(_n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function sB(n,e,t){n=ln(n,ir);const r=Object.assign(Object.assign({},rB),t);return function(i){if(i.maxAttempts<1)throw new Le(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const f=new Qr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const y=yield function O1(n){return FC(n).then(e=>e.datastore)}(i);new cU(i.asyncQueue,y,d,l,f).run()})),f.promise}(Pr(n),i=>e(new iB(n,i)),r)}(this._delegate,t=>e(new Gk(this,t)))}batch(){return Pr(this._delegate),new zk(new rk(this._delegate,e=>Sy(this._delegate,e)))}loadBundle(e){return function AU(n,e){const t=Pr(n=ln(n,ir)),r=new wU;return function yU(n,e,t,r){const i=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,E){if(y instanceof Uint8Array)return x1(y,E);if(y instanceof ArrayBuffer)return x1(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new oU(y,d);var y}(t,nw(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function rU(n,e,t){const r=Qe(n);var i;(i=(0,be.Z)(function*(l,d,f){try{const y=yield d.getMetadata();if(yield function(V,$){const K=Qe(V),ce=Mr($.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",De=>K.Ns.getBundleMetadata(De,$.id)).then(De=>!!De&&De.createTime.compareTo(ce)>=0)}(l.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=y).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(u1(y));const E=new LV(y,l.localStore,d.yt);let T=yield d.mc();for(;T;){const V=yield E.Fu(T);V&&f._updateProgress(V),T=yield d.mc()}const A=yield E.complete();return yield uc(l,A.Lu,void 0),yield function(V,$){const K=Qe(V);return K.persistence.runTransaction("Save bundle","readwrite",ce=>K.Ns.saveBundleMetadata(ce,$))}(l.localStore,y),f._completeWith(A.progress),Promise.resolve(A.Bu)}catch(y){return rp("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var V}),function(l,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield PM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function xU(n,e){return function _U(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=Qe(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield VC(n),e)}))}(Pr(n=ln(n,ir)),e).then(t=>t?new Si(n,null,t.query):null)}(this._delegate,e).then(t=>t?new fs(this,t):null)}}class rD extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fw(new ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ua.forKey(t,this.firestore,null)}}class Gk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rD(e)}get(e){const t=Tp(e);return this._delegate.get(t).then(r=>new pw(this._firestore,new dc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Tp(e);return r?(fP("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Tp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Tp(e);return this._delegate.delete(t),this}}class zk{constructor(e){this._delegate=e}set(e,t,r){const i=Tp(e);return r?(fP("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Tp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Tp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Dp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new cw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Dp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Dp(e,new rD(e),t),i.set(t,l)),l}}Dp.INSTANCES=new WeakMap;class ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ua(t,new rr(t._delegate,r,new We(e)))}static forKey(e,t,r){return new ua(t,new rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new My(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new My(this.firestore,S1(this._delegate,e))}catch(t){throw hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof rr&&A1(this._delegate,e)}set(e,t){t=fP("DocumentReference.set",t);try{return t?ek(this._delegate,e,t):ek(this._delegate,e)}catch(r){throw hs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tk(this._delegate,e):tk(this._delegate,e,t,...r)}catch(i){throw hs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function eB(n){return Sy(ln(n.firestore,ir),[new cy(n._key,ar.none())])}(this._delegate)}onSnapshot(...e){const t=qk(e),r=Wk(e,i=>new pw(this.firestore,new dc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return nk(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function ZU(n){n=ln(n,rr);const e=ln(n.firestore,ir),t=Pr(e),r=new Xd(e);return function pU(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,l,d){try{const f=yield function(y,E){const T=Qe(y);return T.persistence.runTransaction("read document","readonly",A=>T.localDocuments.getDocument(A,E))}(i,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Le(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=Ey(f,`Failed to get document '${l} from cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield VC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new dc(e,r,n._key,i,new Cp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function YU(n){n=ln(n,rr);const e=ln(n.firestore,ir);return R1(Pr(e),n._key,{source:"server"}).then(t=>jM(e,n,t))}(this._delegate):function KU(n){n=ln(n,rr);const e=ln(n.firestore,ir);return R1(Pr(e),n._key).then(t=>jM(e,n,t))}(this._delegate),t.then(r=>new pw(this.firestore,new dc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?Dp.getInstance(this.firestore,e):null))}}function hs(n,e,t){return n.message=n.message.replace(e,t),n}function qk(n){for(const e of n)if("object"==typeof e&&!pP(e))return e;return{}}function Wk(n,e){var t,r;let i;return i=pP(n[0])?n[0]:pP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return X1(this._delegate,e._delegate)}}class gw extends pw{data(e){const t=this._delegate.data(e);return function mL(n,e){n||st()}(void 0!==t),t}}class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rD(e)}where(e,t,r){try{return new fs(this.firestore,Qd(this._delegate,function VU(n,e,t){const r=e,i=GC("where",n);return uw._create(i,r,t)}(e,t,r)))}catch(i){throw hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,Qd(this._delegate,function UU(n,e="asc"){const t=e,r=GC("orderBy",n);return BM._create(r,t)}(e,t)))}catch(r){throw hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,Qd(this._delegate,function BU(n){return I1("limit",n),zC._create("limit",n,"F")}(e)))}catch(t){throw hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,Qd(this._delegate,function HU(n){return I1("limitToLast",n),zC._create("limitToLast",n,"L")}(e)))}catch(t){throw hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,Qd(this._delegate,function jU(...n){return qC._create("startAt",n,!0)}(...e)))}catch(t){throw hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,Qd(this._delegate,function $U(...n){return qC._create("startAfter",n,!1)}(...e)))}catch(t){throw hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,Qd(this._delegate,function GU(...n){return WC._create("endBefore",n,!1)}(...e)))}catch(t){throw hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,Qd(this._delegate,function zU(...n){return WC._create("endAt",n,!0)}(...e)))}catch(t){throw hs(t,"endAt()","Query.endAt()")}}isEqual(e){return CM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function JU(n){n=ln(n,Si);const e=ln(n.firestore,ir),t=Pr(e),r=new Xd(e);return function gU(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,l,d){try{const f=yield AC(i,l,!0),y=new h1(l,f.Hi),E=y.Wu(f.documents),T=y.applyChanges(E,!1);d.resolve(T.snapshot)}catch(f){const y=Ey(f,`Failed to execute query '${l} against cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield VC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Jd(e,r,n,i))}(this._delegate):"server"===e?.source?function XU(n){n=ln(n,Si);const e=ln(n.firestore,ir),t=Pr(e),r=new Xd(e);return k1(t,n._query,{source:"server"}).then(i=>new Jd(e,r,n,i))}(this._delegate):function QU(n){n=ln(n,Si);const e=ln(n.firestore,ir),t=Pr(e),r=new Xd(e);return q1(n._query),k1(t,n._query).then(i=>new Jd(e,r,n,i))}(this._delegate),t.then(r=>new gP(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=qk(e),r=Wk(e,i=>new gP(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return nk(this._delegate,t,r)}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?Dp.getInstance(this.firestore,e):null))}}class cH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new cH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new gw(this._firestore,r))})}isEqual(e){return X1(this._delegate,e._delegate)}}class My extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ua(this.firestore,e):null}doc(e){try{return new ua(this.firestore,void 0===e?kC(this._delegate):kC(this._delegate,e))}catch(t){throw hs(t,"doc()","CollectionReference.doc()")}}add(e){return function tB(n,e){const t=ln(n.firestore,ir),r=kC(n),i=KC(n.converter,e);return Sy(t,[HC(bp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ua(this.firestore,t))}isEqual(e){return A1(this._delegate,e._delegate)}withConverter(e){return new My(this.firestore,this._delegate.withConverter(e?Dp.getInstance(this.firestore,e):null))}}function Tp(n){return ln(n,rr)}class mP{constructor(...e){this._delegate=new cc(...e)}static documentId(){return new mP(vr.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof cc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function aB(){return new RM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sp(e)}static delete(){const e=function oB(){return new ow("deleteField")}();return e._methodName="FieldValue.delete",new Sp(e)}static arrayUnion(...e){const t=function lB(...n){return new OU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Sp(t)}static arrayRemove(...e){const t=function uB(...n){return new RU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Sp(t)}static increment(e){const t=function cB(n){return new kU("increment",n)}(e);return t._methodName="FieldValue.increment",new Sp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dH={Firestore:$k,GeoPoint:UC,Timestamp:or,Blob:fw,Transaction:Gk,WriteBatch:zk,DocumentReference:ua,DocumentSnapshot:pw,Query:fs,QueryDocumentSnapshot:gw,QuerySnapshot:gP,CollectionReference:My,FieldPath:mP,FieldValue:Sp,setLogLevel:function uH(n){!function gL(n){Fd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Kk(n,e){return function pH(n,e=tH.z){return new ro.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function yP(n,e){return Kk(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function iD(n,e){return yP(n,e).pipe(td(void 0),hP(),(0,It.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(T=>T.doc.ref.isEqual(d.ref)),E=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function Zk(n,e,t){return iD(n,t).pipe(Qh((r,i)=>function mH(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function yH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _P(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _P(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _P(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function nH(n,e=Zh.y){return n=n??rH,(0,Vi.e)((t,r)=>{let i,l=!0;t.subscribe((0,bi.x)(r,d=>{const f=e(d);(l||!n(i,f))&&(l=!1,i=f,r.next(d))}))})}(),(0,It.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function _P(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Yk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function fH(n){(function hH(n,e){n.INTERNAL.registerComponent(new Bf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},dH)))})(n,(e,t)=>new $k(e,t,new lH)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(iH.Z);class Qk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=iD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(td(void 0),hP(),xs(([r,i])=>i.length>0||!r),(0,It.U)(([r,i])=>i),hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Yk(e);return Zk(this.query,t,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return yP(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hi.iC)}get(e){return(0,Yt.D)(this.query.get(e)).pipe(hi.iC)}add(e){return this.ref.add(e)}doc(e){return new Jk(this.ref.doc(e),this.afs)}}class Jk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=tL(r,t);return new Qk(i,l,this.afs)}snapshotChanges(){return function gH(n,e){return Kk(n,e).pipe(td(void 0),hP(),(0,It.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Yt.D)(this.ref.get(e)).pipe(hi.iC)}}class _H{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iD(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xs(t=>t.length>0),hi.iC):iD(this.query,this.afs.schedulers.outsideAngular).pipe(hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Yk(e);return Zk(this.query,t,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return yP(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),hi.iC)}get(e){return(0,Yt.D)(this.query.get(e)).pipe(hi.iC)}}const Xk=new c.OlP("angularfire2.enableFirestorePersistence"),eL=new c.OlP("angularfire2.firestore.persistenceSettings"),vH=new c.OlP("angularfire2.firestore.settings"),wH=new c.OlP("angularfire2.firestore.use-emulator");function tL(n,e=(t=>t)){return{query:e(n),ref:n}}let EH=(()=>{class n{constructor(t,r,i,l,d,f,y,E,T,A,V,$,K,ce,De,Ge,lt){this.schedulers=y;const gt=(0,ll.on)(t,f,r),ct=T;A&&Bk(gt,f,V,K,ce,De,$,Ge),[this.firestore,this.persistenceEnabled$]=(0,ll.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const Nt=f.runOutsideAngular(()=>gt.firestore());if(l&&Nt.settings(l),ct&&Nt.useEmulator(...ct),i&&!Co(d)){const Ft=()=>{try{return(0,Yt.D)(Nt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(un){return typeof console<"u"&&console.warn(un),mt(!1)}};return[Nt,f.runOutsideAngular(Ft)]}return[Nt,mt(!1)]},[l,ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=tL(i,r),f=this.schedulers.ngZone.run(()=>l);return new Qk(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new _H(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Jk(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ll.Dh),c.LFG(ll.xv,8),c.LFG(Xk,8),c.LFG(vH,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(hi.HU),c.LFG(eL,8),c.LFG(wH,8),c.LFG(dP,8),c.LFG(Rk,8),c.LFG(kk,8),c.LFG(Lk,8),c.LFG(Fk,8),c.LFG(Vk,8),c.LFG(Uk,8),c.LFG(uP,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bH=(()=>{class n{constructor(){Ok.Z.registerVersion("angularfire",hi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Xk,useValue:!0},{provide:eL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[EH]}),n})();const IH_firebase={apiKey:"AIzaSyCPDGJBgD8DLl8f3483pxHfSzJJ92I8fpo",authDomain:"otp-verification-dca78.firebaseapp.com",projectId:"otp-verification-dca78",storageBucket:"otp-verification-dca78.appspot.com",messagingSenderId:"912597418594",appId:"1:912597418594:web:b676956ef2482c4820073b"};let DH=(()=>{class n{transform(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"keys",type:n,pure:!0}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[DH],imports:[[Mi,Uv,wm]]}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[vB]}),n.\u0275inj=c.cJS({imports:[Js,_B,Qg,Ei,JS,FB,$v,aA,Uv,$v,e2,ll.hO.initializeApp(IH_firebase),eH,bH,Uv,TH,co,JT.forRoot()]}),n})();(0,c.G48)(),xa().bootstrapModule(SH).catch(n=>console.error(n))},9751:(ht,Se,k)=>{k.d(Se,{y:()=>de});var c=k(2961),H=k(727),O=k(8822),ie=k(9635),ae=k(2416),me=k(576),he=k(2806);let de=(()=>{class Q{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Ie=new Q;return Ie.source=this,Ie.operator=Ne,Ie}subscribe(Ne,Ie,tt){const ve=function q(Q){return Q&&Q instanceof c.Lv||function z(Q){return Q&&(0,me.m)(Q.next)&&(0,me.m)(Q.error)&&(0,me.m)(Q.complete)}(Q)&&(0,H.Nn)(Q)}(Ne)?Ne:new c.Hp(Ne,Ie,tt);return(0,he.x)(()=>{const{operator:pe,source:Ye}=this;ve.add(pe?pe.call(ve,Ye):Ye?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Ie){Ne.error(Ie)}}forEach(Ne,Ie){return new(Ie=ye(Ie))((tt,ve)=>{const pe=new c.Hp({next:Ye=>{try{Ne(Ye)}catch(Ke){ve(Ke),pe.unsubscribe()}},error:ve,complete:tt});this.subscribe(pe)})}_subscribe(Ne){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Ne)}[O.L](){return this}pipe(...Ne){return(0,ie.U)(Ne)(this)}toPromise(Ne){return new(Ne=ye(Ne))((Ie,tt)=>{let ve;this.subscribe(pe=>ve=pe,pe=>tt(pe),()=>Ie(ve))})}}return Q.create=Be=>new Q(Be),Q})();function ye(Q){var Be;return null!==(Be=Q??ae.v.Promise)&&void 0!==Be?Be:Promise}},7579:(ht,Se,k)=>{k.d(Se,{x:()=>he});var c=k(9751),H=k(727);const ie=(0,k(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),me=k(2806);let he=(()=>{class ye extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Q=new de(this,this);return Q.operator=q,Q}_throwIfClosed(){if(this.closed)throw new ie}next(q){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(q)}})}error(q){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Q}=this;for(;Q.length;)Q.shift().error(q)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Q,isStopped:Be,observers:Ne}=this;return Q||Be?H.Lc:(this.currentObservers=null,Ne.push(q),new H.w0(()=>{this.currentObservers=null,(0,ae.P)(Ne,q)}))}_checkFinalizedStatuses(q){const{hasError:Q,thrownError:Be,isStopped:Ne}=this;Q?q.error(Be):Ne&&q.complete()}asObservable(){const q=new c.y;return q.source=this,q}}return ye.create=(z,q)=>new de(z,q),ye})();class de extends he{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Q||Q.call(q,z)}error(z){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Q||Q.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,Q;return null!==(Q=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==Q?Q:H.Lc}}},2961:(ht,Se,k)=>{k.d(Se,{Hp:()=>tt,Lv:()=>Q});var c=k(576),H=k(727),O=k(2416),ie=k(7849);function ae(){}const me=ye("C",void 0,void 0);function ye(ke,Me,Ee){return{kind:ke,value:Me,error:Ee}}var z=k(3410),q=k(2806);class Q extends H.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,H.Nn)(Me)&&Me.add(this)):this.destination=Ke}static create(Me,Ee,$e){return new tt(Me,Ee,$e)}next(Me){this.isStopped?Ye(function de(ke){return ye("N",ke,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ye(function he(ke){return ye("E",void 0,ke)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ye(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ne(ke,Me){return Be.call(ke,Me)}class Ie{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Me)}catch($e){ve($e)}}error(Me){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Me)}catch($e){ve($e)}else ve(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Ee){ve(Ee)}}}class tt extends Q{constructor(Me,Ee,$e){let re;if(super(),(0,c.m)(Me)||!Me)re={next:Me??void 0,error:Ee??void 0,complete:$e??void 0};else{let le;this&&O.v.useDeprecatedNextContext?(le=Object.create(Me),le.unsubscribe=()=>this.unsubscribe(),re={next:Me.next&&Ne(Me.next,le),error:Me.error&&Ne(Me.error,le),complete:Me.complete&&Ne(Me.complete,le)}):re=Me}this.destination=new Ie(re)}}function ve(ke){O.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(ke):(0,ie.h)(ke)}function Ye(ke,Me){const{onStoppedNotification:Ee}=O.v;Ee&&z.z.setTimeout(()=>Ee(ke,Me))}const Ke={closed:!0,next:ae,error:function pe(ke){throw ke},complete:ae}},727:(ht,Se,k)=>{k.d(Se,{Lc:()=>me,w0:()=>ae,Nn:()=>he});var c=k(576);const O=(0,k(3888).d)(ye=>function(q){ye(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Q,Be)=>`${Be+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ie=k(8737);class ae{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ne of q)Ne.remove(this);else q.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Ne){z=Ne instanceof O?Ne.errors:[Ne]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ne of Be)try{de(Ne)}catch(Ie){z=z??[],Ie instanceof O?z=[...z,...Ie.errors]:z.push(Ie)}}if(z)throw new O(z)}}add(z){var q;if(z&&z!==this)if(this.closed)de(z);else{if(z instanceof ae){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,ie.P)(q,z)}remove(z){const{_finalizers:q}=this;q&&(0,ie.P)(q,z),z instanceof ae&&z._removeParent(this)}}ae.EMPTY=(()=>{const ye=new ae;return ye.closed=!0,ye})();const me=ae.EMPTY;function he(ye){return ye instanceof ae||ye&&"closed"in ye&&(0,c.m)(ye.remove)&&(0,c.m)(ye.add)&&(0,c.m)(ye.unsubscribe)}function de(ye){(0,c.m)(ye)?ye():ye.unsubscribe()}},2416:(ht,Se,k)=>{k.d(Se,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Se,k)=>{k.d(Se,{E:()=>H});const H=new(k(9751).y)(ae=>ae.complete())},8996:(ht,Se,k)=>{k.d(Se,{D:()=>Me});var c=k(8421),H=k(5363),O=k(9468),me=k(9751),de=k(2202),ye=k(576),z=k(9672);function Q(Ee,$e){if(!Ee)throw new Error("Iterable cannot be null");return new me.y(re=>{(0,z.f)(re,$e,()=>{const le=Ee[Symbol.asyncIterator]();(0,z.f)(re,$e,()=>{le.next().then(_e=>{_e.done?re.complete():re.next(_e.value)})},0,!0)})})}var Be=k(3670),Ne=k(8239),Ie=k(1144),tt=k(6495),ve=k(2206),pe=k(4532),Ye=k(3260);function Me(Ee,$e){return $e?function ke(Ee,$e){if(null!=Ee){if((0,Be.c)(Ee))return function ie(Ee,$e){return(0,c.Xf)(Ee).pipe((0,O.R)($e),(0,H.Q)($e))}(Ee,$e);if((0,Ie.z)(Ee))return function he(Ee,$e){return new me.y(re=>{let le=0;return $e.schedule(function(){le===Ee.length?re.complete():(re.next(Ee[le++]),re.closed||this.schedule())})})}(Ee,$e);if((0,Ne.t)(Ee))return function ae(Ee,$e){return(0,c.Xf)(Ee).pipe((0,O.R)($e),(0,H.Q)($e))}(Ee,$e);if((0,ve.D)(Ee))return Q(Ee,$e);if((0,tt.T)(Ee))return function q(Ee,$e){return new me.y(re=>{let le;return(0,z.f)(re,$e,()=>{le=Ee[de.h](),(0,z.f)(re,$e,()=>{let _e,Y;try{({value:_e,done:Y}=le.next())}catch(J){return void re.error(J)}Y?re.complete():re.next(_e)},0,!0)}),()=>(0,ye.m)(le?.return)&&le.return()})}(Ee,$e);if((0,Ye.L)(Ee))return function Ke(Ee,$e){return Q((0,Ye.Q)(Ee),$e)}(Ee,$e)}throw(0,pe.z)(Ee)}(Ee,$e):(0,c.Xf)(Ee)}},8421:(ht,Se,k)=>{k.d(Se,{Xf:()=>Be});var c=k(655),H=k(1144),O=k(8239),ie=k(9751),ae=k(3670),me=k(2206),he=k(4532),de=k(6495),ye=k(3260),z=k(576),q=k(7849),Q=k(8822);function Be(ke){if(ke instanceof ie.y)return ke;if(null!=ke){if((0,ae.c)(ke))return function Ne(ke){return new ie.y(Me=>{const Ee=ke[Q.L]();if((0,z.m)(Ee.subscribe))return Ee.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,H.z)(ke))return function Ie(ke){return new ie.y(Me=>{for(let Ee=0;Ee<ke.length&&!Me.closed;Ee++)Me.next(ke[Ee]);Me.complete()})}(ke);if((0,O.t)(ke))return function tt(ke){return new ie.y(Me=>{ke.then(Ee=>{Me.closed||(Me.next(Ee),Me.complete())},Ee=>Me.error(Ee)).then(null,q.h)})}(ke);if((0,me.D)(ke))return pe(ke);if((0,de.T)(ke))return function ve(ke){return new ie.y(Me=>{for(const Ee of ke)if(Me.next(Ee),Me.closed)return;Me.complete()})}(ke);if((0,ye.L)(ke))return function Ye(ke){return pe((0,ye.Q)(ke))}(ke)}throw(0,he.z)(ke)}function pe(ke){return new ie.y(Me=>{(function Ke(ke,Me){var Ee,$e,re,le;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,c.KL)(ke);!($e=yield Ee.next()).done;)if(Me.next($e.value),Me.closed)return}catch(_e){re={error:_e}}finally{try{$e&&!$e.done&&(le=Ee.return)&&(yield le.call(Ee))}finally{if(re)throw re.error}}Me.complete()})})(ke,Me).catch(Ee=>Me.error(Ee))})}},6451:(ht,Se,k)=>{k.d(Se,{T:()=>me});var c=k(8189),H=k(8421),O=k(515),ie=k(7669),ae=k(8996);function me(...he){const de=(0,ie.yG)(he),ye=(0,ie._6)(he,1/0),z=he;return z.length?1===z.length?(0,H.Xf)(z[0]):(0,c.J)(ye)((0,ae.D)(z,de)):O.E}},5403:(ht,Se,k)=>{k.d(Se,{x:()=>H});var c=k(2961);function H(ie,ae,me,he,de){return new O(ie,ae,me,he,de)}class O extends c.Lv{constructor(ae,me,he,de,ye,z){super(ae),this.onFinalize=ye,this.shouldUnsubscribe=z,this._next=me?function(q){try{me(q)}catch(Q){ae.error(Q)}}:super._next,this._error=de?function(q){try{de(q)}catch(Q){ae.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(q){ae.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ht,Se,k)=>{k.d(Se,{U:()=>O});var c=k(4482),H=k(5403);function O(ie,ae){return(0,c.e)((me,he)=>{let de=0;me.subscribe((0,H.x)(he,ye=>{he.next(ie.call(ae,ye,de++))}))})}},8189:(ht,Se,k)=>{k.d(Se,{J:()=>O});var c=k(5577),H=k(4671);function O(ie=1/0){return(0,c.z)(H.y,ie)}},5577:(ht,Se,k)=>{k.d(Se,{z:()=>de});var c=k(4004),H=k(8421),O=k(4482),ie=k(9672),ae=k(5403),he=k(576);function de(ye,z,q=1/0){return(0,he.m)(z)?de((Q,Be)=>(0,c.U)((Ne,Ie)=>z(Q,Ne,Be,Ie))((0,H.Xf)(ye(Q,Be))),q):("number"==typeof z&&(q=z),(0,O.e)((Q,Be)=>function me(ye,z,q,Q,Be,Ne,Ie,tt){const ve=[];let pe=0,Ye=0,Ke=!1;const ke=()=>{Ke&&!ve.length&&!pe&&z.complete()},Me=$e=>pe<Q?Ee($e):ve.push($e),Ee=$e=>{Ne&&z.next($e),pe++;let re=!1;(0,H.Xf)(q($e,Ye++)).subscribe((0,ae.x)(z,le=>{Be?.(le),Ne?Me(le):z.next(le)},()=>{re=!0},void 0,()=>{if(re)try{for(pe--;ve.length&&pe<Q;){const le=ve.shift();Ie?(0,ie.f)(z,Ie,()=>Ee(le)):Ee(le)}ke()}catch(le){z.error(le)}}))};return ye.subscribe((0,ae.x)(z,Me,()=>{Ke=!0,ke()})),()=>{tt?.()}}(Q,Be,ye,q)))}},5363:(ht,Se,k)=>{k.d(Se,{Q:()=>ie});var c=k(9672),H=k(4482),O=k(5403);function ie(ae,me=0){return(0,H.e)((he,de)=>{he.subscribe((0,O.x)(de,ye=>(0,c.f)(de,ae,()=>de.next(ye),me),()=>(0,c.f)(de,ae,()=>de.complete(),me),ye=>(0,c.f)(de,ae,()=>de.error(ye),me)))})}},3099:(ht,Se,k)=>{k.d(Se,{B:()=>ae});var c=k(8421),H=k(7579),O=k(2961),ie=k(4482);function ae(he={}){const{connector:de=(()=>new H.x),resetOnError:ye=!0,resetOnComplete:z=!0,resetOnRefCountZero:q=!0}=he;return Q=>{let Be,Ne,Ie,tt=0,ve=!1,pe=!1;const Ye=()=>{Ne?.unsubscribe(),Ne=void 0},Ke=()=>{Ye(),Be=Ie=void 0,ve=pe=!1},ke=()=>{const Me=Be;Ke(),Me?.unsubscribe()};return(0,ie.e)((Me,Ee)=>{tt++,!pe&&!ve&&Ye();const $e=Ie=Ie??de();Ee.add(()=>{tt--,0===tt&&!pe&&!ve&&(Ne=me(ke,q))}),$e.subscribe(Ee),!Be&&tt>0&&(Be=new O.Hp({next:re=>$e.next(re),error:re=>{pe=!0,Ye(),Ne=me(Ke,ye,re),$e.error(re)},complete:()=>{ve=!0,Ye(),Ne=me(Ke,z),$e.complete()}}),(0,c.Xf)(Me).subscribe(Be))})(Q)}}function me(he,de,...ye){if(!0===de)return void he();if(!1===de)return;const z=new O.Hp({next:()=>{z.unsubscribe(),he()}});return de(...ye).subscribe(z)}},9468:(ht,Se,k)=>{k.d(Se,{R:()=>H});var c=k(4482);function H(O,ie=0){return(0,c.e)((ae,me)=>{me.add(O.schedule(()=>ae.subscribe(me),ie))})}},8505:(ht,Se,k)=>{k.d(Se,{b:()=>ae});var c=k(576),H=k(4482),O=k(5403),ie=k(4671);function ae(me,he,de){const ye=(0,c.m)(me)||he||de?{next:me,error:he,complete:de}:me;return ye?(0,H.e)((z,q)=>{var Q;null===(Q=ye.subscribe)||void 0===Q||Q.call(ye);let Be=!0;z.subscribe((0,O.x)(q,Ne=>{var Ie;null===(Ie=ye.next)||void 0===Ie||Ie.call(ye,Ne),q.next(Ne)},()=>{var Ne;Be=!1,null===(Ne=ye.complete)||void 0===Ne||Ne.call(ye),q.complete()},Ne=>{var Ie;Be=!1,null===(Ie=ye.error)||void 0===Ie||Ie.call(ye,Ne),q.error(Ne)},()=>{var Ne,Ie;Be&&(null===(Ne=ye.unsubscribe)||void 0===Ne||Ne.call(ye)),null===(Ie=ye.finalize)||void 0===Ie||Ie.call(ye)}))}):ie.y}},4408:(ht,Se,k)=>{k.d(Se,{o:()=>ae});var c=k(727);class H extends c.w0{constructor(he,de){super()}schedule(he,de=0){return this}}const O={setInterval(me,he,...de){const{delegate:ye}=O;return ye?.setInterval?ye.setInterval(me,he,...de):setInterval(me,he,...de)},clearInterval(me){const{delegate:he}=O;return(he?.clearInterval||clearInterval)(me)},delegate:void 0};var ie=k(8737);class ae extends H{constructor(he,de){super(he,de),this.scheduler=he,this.work=de,this.pending=!1}schedule(he,de=0){if(this.closed)return this;this.state=he;const ye=this.id,z=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(z,ye,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(z,this.id,de),this}requestAsyncId(he,de,ye=0){return O.setInterval(he.flush.bind(he,this),ye)}recycleAsyncId(he,de,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return de;O.clearInterval(de)}execute(he,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(he,de);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,de){let z,ye=!1;try{this.work(he)}catch(q){ye=!0,z=q||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:he,scheduler:de}=this,{actions:ye}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ye,this),null!=he&&(this.id=this.recycleAsyncId(de,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Se,k)=>{k.d(Se,{v:()=>O});var c=k(6063);class H{constructor(ae,me=H.now){this.schedulerActionCtor=ae,this.now=me}schedule(ae,me=0,he){return new this.schedulerActionCtor(this,ae).schedule(he,me)}}H.now=c.l.now;class O extends H{constructor(ae,me=H.now){super(ae,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:me}=this;if(this._active)return void me.push(ae);let he;this._active=!0;do{if(he=ae.execute(ae.state,ae.delay))break}while(ae=me.shift());if(this._active=!1,he){for(;ae=me.shift();)ae.unsubscribe();throw he}}}},4986:(ht,Se,k)=>{k.d(Se,{z:()=>O});var c=k(4408);const O=new(k(7565).v)(c.o)},6063:(ht,Se,k)=>{k.d(Se,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ht,Se,k)=>{k.d(Se,{z:()=>c});const c={setTimeout(H,O,...ie){const{delegate:ae}=c;return ae?.setTimeout?ae.setTimeout(H,O,...ie):setTimeout(H,O,...ie)},clearTimeout(H){const{delegate:O}=c;return(O?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(ht,Se,k)=>{k.d(Se,{h:()=>H});const H=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Se,k)=>{k.d(Se,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ht,Se,k)=>{k.d(Se,{_6:()=>me,jO:()=>ie,yG:()=>ae});var c=k(576);function O(he){return he[he.length-1]}function ie(he){return(0,c.m)(O(he))?he.pop():void 0}function ae(he){return function H(he){return he&&(0,c.m)(he.schedule)}(O(he))?he.pop():void 0}function me(he,de){return"number"==typeof O(he)?he.pop():de}},8737:(ht,Se,k)=>{function c(H,O){if(H){const ie=H.indexOf(O);0<=ie&&H.splice(ie,1)}}k.d(Se,{P:()=>c})},3888:(ht,Se,k)=>{function c(H){const ie=H(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}k.d(Se,{d:()=>c})},2806:(ht,Se,k)=>{k.d(Se,{O:()=>ie,x:()=>O});var c=k(2416);let H=null;function O(ae){if(c.v.useDeprecatedSynchronousErrorHandling){const me=!H;if(me&&(H={errorThrown:!1,error:null}),ae(),me){const{errorThrown:he,error:de}=H;if(H=null,he)throw de}}else ae()}function ie(ae){c.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=ae)}},9672:(ht,Se,k)=>{function c(H,O,ie,ae=0,me=!1){const he=O.schedule(function(){ie(),me?H.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(H.add(he),!me)return he}k.d(Se,{f:()=>c})},4671:(ht,Se,k)=>{function c(H){return H}k.d(Se,{y:()=>c})},1144:(ht,Se,k)=>{k.d(Se,{z:()=>c});const c=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ht,Se,k)=>{k.d(Se,{D:()=>H});var c=k(576);function H(O){return Symbol.asyncIterator&&(0,c.m)(O?.[Symbol.asyncIterator])}},576:(ht,Se,k)=>{function c(H){return"function"==typeof H}k.d(Se,{m:()=>c})},3670:(ht,Se,k)=>{k.d(Se,{c:()=>O});var c=k(8822),H=k(576);function O(ie){return(0,H.m)(ie[c.L])}},6495:(ht,Se,k)=>{k.d(Se,{T:()=>O});var c=k(2202),H=k(576);function O(ie){return(0,H.m)(ie?.[c.h])}},8239:(ht,Se,k)=>{k.d(Se,{t:()=>H});var c=k(576);function H(O){return(0,c.m)(O?.then)}},3260:(ht,Se,k)=>{k.d(Se,{L:()=>ie,Q:()=>O});var c=k(655),H=k(576);function O(ae){return(0,c.FC)(this,arguments,function*(){const he=ae.getReader();try{for(;;){const{value:de,done:ye}=yield(0,c.qq)(he.read());if(ye)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(de)}}finally{he.releaseLock()}})}function ie(ae){return(0,H.m)(ae?.getReader)}},4482:(ht,Se,k)=>{k.d(Se,{A:()=>H,e:()=>O});var c=k(576);function H(ie){return(0,c.m)(ie?.lift)}function O(ie){return ae=>{if(H(ae))return ae.lift(function(me){try{return ie(me,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ht,Se,k)=>{k.d(Se,{U:()=>O,z:()=>H});var c=k(4671);function H(...ie){return O(ie)}function O(ie){return 0===ie.length?c.y:1===ie.length?ie[0]:function(me){return ie.reduce((he,de)=>de(he),me)}}},7849:(ht,Se,k)=>{k.d(Se,{h:()=>O});var c=k(2416),H=k(3410);function O(ie){H.z.setTimeout(()=>{const{onUnhandledError:ae}=c.v;if(!ae)throw ie;ae(ie)})}},4532:(ht,Se,k)=>{function c(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>c})},655:(ht,Se,k)=>{function ie(Y,J){var fe={};for(var se in Y)Object.prototype.hasOwnProperty.call(Y,se)&&J.indexOf(se)<0&&(fe[se]=Y[se]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(se=Object.getOwnPropertySymbols(Y);Ve<se.length;Ve++)J.indexOf(se[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Y,se[Ve])&&(fe[se[Ve]]=Y[se[Ve]])}return fe}function de(Y,J,fe,se){return new(fe||(fe=Promise))(function(Ue,_t){function rn(cn){try{ze(se.next(cn))}catch(In){_t(In)}}function Gt(cn){try{ze(se.throw(cn))}catch(In){_t(In)}}function ze(cn){cn.done?Ue(cn.value):function Ve(Ue){return Ue instanceof fe?Ue:new fe(function(_t){_t(Ue)})}(cn.value).then(rn,Gt)}ze((se=se.apply(Y,J||[])).next())})}function ve(Y){return this instanceof ve?(this.v=Y,this):new ve(Y)}function pe(Y,J,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,se=fe.apply(Y,J||[]),Ue=[];return Ve={},_t("next"),_t("throw"),_t("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function _t(tn){se[tn]&&(Ve[tn]=function(nn){return new Promise(function(qt,Ht){Ue.push([tn,nn,qt,Ht])>1||rn(tn,nn)})})}function rn(tn,nn){try{!function Gt(tn){tn.value instanceof ve?Promise.resolve(tn.value.v).then(ze,cn):In(Ue[0][2],tn)}(se[tn](nn))}catch(qt){In(Ue[0][3],qt)}}function ze(tn){rn("next",tn)}function cn(tn){rn("throw",tn)}function In(tn,nn){tn(nn),Ue.shift(),Ue.length&&rn(Ue[0][0],Ue[0][1])}}function Ke(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,J=Y[Symbol.asyncIterator];return J?J.call(Y):(Y=function Q(Y){var J="function"==typeof Symbol&&Symbol.iterator,fe=J&&Y[J],se=0;if(fe)return fe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&se>=Y.length&&(Y=void 0),{value:Y&&Y[se++],done:!Y}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),fe={},se("next"),se("throw"),se("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function se(Ue){fe[Ue]=Y[Ue]&&function(_t){return new Promise(function(rn,Gt){!function Ve(Ue,_t,rn,Gt){Promise.resolve(Gt).then(function(ze){Ue({value:ze,done:rn})},_t)}(rn,Gt,(_t=Y[Ue](_t)).done,_t.value)})}}}k.d(Se,{FC:()=>pe,KL:()=>Ke,_T:()=>ie,mG:()=>de,qq:()=>ve})},4650:(ht,Se,k)=>{k.d(Se,{$8M:()=>Cl,$Z:()=>hE,AFp:()=>xI,AaK:()=>de,Akn:()=>os,BQk:()=>Df,CHM:()=>sh,CRH:()=>gI,CZH:()=>Nm,CqO:()=>Ns,D6c:()=>QI,DdM:()=>Ov,EJc:()=>OI,EiD:()=>Kc,EpF:()=>kT,F$t:()=>FT,F4k:()=>Y_,FYo:()=>Xc,FiY:()=>et,G48:()=>FI,Gf:()=>fI,GfV:()=>Jp,GkF:()=>Z_,Gpc:()=>q,Gre:()=>iS,Hsn:()=>ib,JOm:()=>ea,JVY:()=>Uy,KtG:()=>To,L6k:()=>Gp,LAX:()=>zp,LFG:()=>Wn,LSH:()=>Vh,Lbi:()=>PI,Lck:()=>NS,MAs:()=>z_,MMx:()=>fm,NdJ:()=>eb,OlP:()=>Sn,Oqu:()=>pb,PXZ:()=>bA,Q6J:()=>q_,QGY:()=>Gg,QP$:()=>Oe,QbO:()=>Yv,Qsj:()=>qy,R0b:()=>ls,RDi:()=>ww,Rgc:()=>vm,SBq:()=>zh,Sil:()=>RI,Suo:()=>pI,TTD:()=>ms,TgZ:()=>Hg,Tol:()=>zT,Udp:()=>Zg,VKq:()=>Xb,W1O:()=>$v,WLB:()=>ym,X6Q:()=>Yf,XFs:()=>Ze,Xpm:()=>Ce,Xts:()=>Uh,XwF:()=>ad,Y36:()=>ld,YKP:()=>Sv,YNc:()=>Cf,Yjl:()=>U,Yz7:()=>nn,Z0I:()=>xi,ZZ4:()=>Yl,_Bn:()=>PS,_UZ:()=>K_,_Vd:()=>Gh,_c5:()=>D0,_uU:()=>fb,aQg:()=>zm,c2e:()=>Qv,cJS:()=>Ht,cg1:()=>lv,dDg:()=>l0,dqk:()=>Pt,eBb:()=>Jo,eFA:()=>f0,ekj:()=>rv,eoX:()=>u0,f3M:()=>C,g9A:()=>Zv,h0i:()=>bd,hGG:()=>YI,iGM:()=>hI,ifc:()=>pt,ip1:()=>Md,jDz:()=>LS,kL8:()=>uv,kYT:()=>G,l5B:()=>eI,lG2:()=>Z,lqb:()=>Nl,lri:()=>zf,mCW:()=>m,n5z:()=>Es,oAB:()=>en,oJD:()=>Fh,oxw:()=>Tf,pB0:()=>qp,q3G:()=>Fn,q4F:()=>Mw,qLn:()=>Kh,qOj:()=>V_,qZA:()=>jg,qbA:()=>Rv,qzn:()=>rs,rWj:()=>Lm,sBO:()=>_0,sIi:()=>wf,s_b:()=>Em,soG:()=>Gf,tb:()=>$f,tp0:()=>ut,uIk:()=>Vg,vHH:()=>Ie,vpe:()=>oa,wAp:()=>St,xp6:()=>nE,ynx:()=>$g,z2F:()=>Kf,z3N:()=>to,zSh:()=>Tw,zs3:()=>ta});var c=k(7579),H=k(727),O=k(9751),ie=k(6451),ae=k(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function he(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=me({__forward_ref__:me});function q(s){return s.__forward_ref__=q,s.toString=function(){return de(this())},s}function Q(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===q}class Ie extends Error{constructor(o,a){super(function tt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Me(s,o){throw new Ie(-201,!1)}function Gt(s,o){null==s&&function ze(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ht(s){return{providers:s.providers||[],imports:s.imports||[]}}function br(s){return Nr(s,Or)||Nr(s,pi)}function xi(s){return null!==br(s)}function Nr(s,o){return s.hasOwnProperty(o)?s[o]:null}function $i(s){return s&&(s.hasOwnProperty($n)||s.hasOwnProperty(Gi))?s[$n]:null}const Or=me({\u0275prov:me}),$n=me({\u0275inj:me}),pi=me({ngInjectableDef:me}),Gi=me({ngInjectorDef:me});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let Kn;function bn(s){const o=Kn;return Kn=s,o}function lr(s,o,a){const u=br(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ze.Optional?null:void 0!==o?o:void Me(de(s))}function Cn(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),pt=(()=>{return(s=pt||(pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",pt;var s})();const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ir={},At=[],Rr=me({\u0275cmp:me}),Ut=me({\u0275dir:me}),Xr=me({\u0275pipe:me}),Zt=me({\u0275mod:me}),sr=me({\u0275fac:me}),xn=me({__NG_ELEMENT_ID__:me});let Je=0;function Ce(s){return Cn(()=>{const a=!0===s.standalone,u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||pt.Emulated,id:"c"+Je++,styles:s.styles||At,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return h.inputs=j(s.inputs,u),h.outputs=j(s.outputs),_&&_.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(bt).filter(xt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(te).filter(xt):null,h})}function bt(s){return N(s)||F(s)}function xt(s){return null!==s}function en(s){return Cn(()=>({type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,o){return Cn(()=>{const a=nt(s,!0);a.declarations=o.declarations||At,a.imports=o.imports||At,a.exports=o.exports||At})}function j(s,o){if(null==s)return Ir;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,o&&(o[h]=p)}return a}const Z=Ce;function U(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function N(s){return s[Rr]||null}function F(s){return s[Ut]||null}function te(s){return s[Xr]||null}function Oe(s){const o=N(s)||F(s)||te(s);return null!==o&&o.standalone}function nt(s,o){const a=s[Zt]||null;if(!a&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return a}function Yn(s){return Array.isArray(s)&&"object"==typeof s[1]}function ti(s){return Array.isArray(s)&&!0===s[1]}function $s(s){return 0!=(8&s.flags)}function dl(s){return 2==(2&s.flags)}function _o(s){return 1==(1&s.flags)}function Gr(s){return null!==s.template}function su(s){return 0!=(256&s[2])}function pr(s,o){return s.hasOwnProperty(sr)?s[sr]:null}class bo{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ms(){return vc}function vc(s){return s.type.prototype.ngOnChanges&&(s.setInput=ou),fl}function fl(){const s=Io(this),o=s?.current;if(o){const a=s.previous;if(a===Ir)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ou(s,o,a,u){const h=Io(s)||function Mi(s,o){return s[wc]=o}(s,{previous:Ir,current:null}),p=h.current||(h.current={}),_=h.previous,w=this.declaredInputs[a],I=_[w];p[w]=new bo(I&&I.currentValue,o,_===Ir),s[u]=o}ms.ngInherit=!0;const wc="__ngSimpleChanges__";function Io(s){return s[wc]||null}function Ln(s){for(;Array.isArray(s);)s=s[0];return s}function mi(s,o){return Ln(o[s])}function gr(s,o){return Ln(o[s.index])}function Ks(s,o){return s.data[o]}function on(s,o){const a=o[s];return Yn(a)?a:a[0]}function ys(s){return 64==(64&s[2])}function ii(s,o){return null==o?null:s[o]}function pa(s){s[18]=0}function Un(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Lt={lFrame:Ca(null),bindingsEnabled:!0};function Zs(){return Lt.bindingsEnabled}function Ae(){return Lt.lFrame.lView}function Wt(){return Lt.lFrame.tView}function sh(s){return Lt.lFrame.contextLView=s,s[8]}function To(s){return Lt.lFrame.contextLView=null,s}function Qn(){let s=So();for(;null!==s&&64===s.type;)s=s.parent;return s}function So(){return Lt.lFrame.currentTNode}function kr(s,o){const a=Lt.lFrame;a.currentTNode=s,a.isParent=o}function ml(){return Lt.lFrame.isParent}function Ao(){Lt.lFrame.isParent=!1}function Jn(){const s=Lt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ea(){return Lt.lFrame.bindingIndex++}function Yi(s){const o=Lt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Cc(s,o){const a=Lt.lFrame;a.bindingIndex=a.bindingRootIndex=s,xo(o)}function xo(s){Lt.lFrame.currentDirectiveIndex=s}function ba(){return Lt.lFrame.currentQueryIndex}function hu(s){Lt.lFrame.currentQueryIndex=s}function Ia(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Dc(s,o,a){if(a&Ze.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&Ze.Host||(h=Ia(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=Lt.lFrame=lh();return u.currentTNode=o,u.lView=s,!0}function Mo(s){const o=lh(),a=s[1];Lt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function lh(){const s=Lt.lFrame,o=null===s?null:s.child;return null===o?Ca(s):o}function Ca(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function uh(){const s=Lt.lFrame;return Lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Tc=uh;function _s(){const s=uh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Pn(){return Lt.lFrame.selectedIndex}function Qi(s){Lt.lFrame.selectedIndex=s}function Nn(){const s=Lt.lFrame;return Ks(s.tView,s.selectedIndex)}function yl(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:P}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),I&&(s.viewHooks||(s.viewHooks=[])).push(-a,I),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(a,P)}}function Po(s,o,a){Oo(s,o,3,a)}function No(s,o,a,u){(3&s[2])===a&&Oo(s,o,a,u)}function xc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Oo(s,o,a,u){const p=u??-1,_=o.length-1;let w=0;for(let I=void 0!==u?65535&s[18]:0;I<_;I++)if("number"==typeof o[I+1]){if(w=o[I],null!=u&&w>=u)break}else o[I]<0&&(s[18]+=65536),(w<p||-1==p)&&(Mc(s,a,o,I),s[18]=(4294901760&s[18])+I+2),I++}function Mc(s,o,a,u){const h=a[u]<0,p=a[u+1],w=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class si{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Ji(s,o,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const p=a[u++],_=a[u++],w=a[u++];s.setAttribute(o,_,w,p)}else{const p=h,_=a[++u];_u(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),u++}}return u}function Ta(s){return 3===s||4===s||6===s}function _u(s){return 64===s.charCodeAt(0)}function Sa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Nc(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Nc(s,o,a,u,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function hh(s){return-1!==s}function Xn(s){return 32767&s}function ws(s,o){let a=function fh(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let vu=!0;function Aa(s){const o=vu;return vu=s,o}let Oc=0;const qr={};function Xi(s,o){const a=El(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,wu(u.data,s),wu(o,null),wu(u.blueprint,null));const h=xa(s,o),p=s.injectorIndex;if(hh(h)){const _=Xn(h),w=ws(h,o),I=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[_+S]|I[_+S]}return o[p+8]=h,p}function wu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function El(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function xa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){if(u=Bo(h),null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Qs(s,o,a){!function Rc(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(xn)&&(u=a[xn]),null==u&&(u=a[xn]=Oc++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function ko(s,o,a){if(a&Ze.Optional||void 0!==s)return s;Me()}function Js(s,o,a,u){if(a&Ze.Optional&&void 0===u&&(u=null),0==(a&(Ze.Self|Ze.Host))){const h=s[9],p=bn(void 0);try{return h?h.get(o,u,a&Ze.Optional):lr(o,u,a&Ze.Optional)}finally{bn(p)}}return ko(u,0,a)}function Lo(s,o,a,u=Ze.Default,h){if(null!==s){if(1024&o[2]){const _=function mh(s,o,a,u,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const w=kc(p,_,a,u|Ze.Self,qr);if(w!==qr)return w;let I=p.parent;if(!I){const S=_[21];if(S){const P=S.get(a,qr,u);if(P!==qr)return P}I=Bo(_),_=_[15]}p=I}return h}(s,o,a,u,qr);if(_!==qr)return _}const p=kc(s,o,a,u,qr);if(p!==qr)return p}return Js(o,a,u,h)}function kc(s,o,a,u,h){const p=function gh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(xn)?s[xn]:void 0;return"number"==typeof o?o>=0?255&o:Eu:o}(a);if("function"==typeof p){if(!Dc(o,s,u))return u&Ze.Host?ko(h,0,u):Js(o,a,u,h);try{const _=p(u);if(null!=_||u&Ze.Optional)return _;Me()}finally{Tc()}}else if("number"==typeof p){let _=null,w=El(s,o),I=-1,S=u&Ze.Host?o[16][6]:null;for((-1===w||u&Ze.SkipSelf)&&(I=-1===w?xa(s,o):o[w+8],-1!==I&&Il(u,!1)?(_=o[1],w=Xn(I),o=ws(I,o)):w=-1);-1!==w;){const P=o[1];if(Fo(p,w,P.data)){const L=bl(w,o,a,_,u,S);if(L!==qr)return L}I=o[w+8],-1!==I&&Il(u,o[1].data[w+8]===S)&&Fo(p,w,o)?(_=P,w=Xn(I),o=ws(I,o)):w=-1}}return h}function bl(s,o,a,u,h,p){const _=o[1],w=_.data[s+8],P=Pa(w,_,a,null==u?dl(w)&&vu:u!=_&&0!=(3&w.type),h&Ze.Host&&p===w);return null!==P?Oi(o,_,P,w):qr}function Pa(s,o,a,u,h){const p=s.providerIndexes,_=o.data,w=1048575&p,I=s.directiveStart,P=p>>20,W=h?w+P:s.directiveEnd;for(let ne=u?w:w+P;ne<W;ne++){const we=_[ne];if(ne<I&&a===we||ne>=I&&we.type===a)return ne}if(h){const ne=_[I];if(ne&&Gr(ne)&&ne.type===a)return I}return null}function Oi(s,o,a,u){let h=s[a];const p=o.data;if(function yu(s){return s instanceof si}(h)){const _=h;_.resolving&&function Ye(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(p[a]));const w=Aa(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?bn(_.injectImpl):null;Dc(s,u,Ze.Default);try{h=s[a]=_.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function mu(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const _=vc(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==I&&bn(I),Aa(w),_.resolving=!1,Tc()}}return h}function Fo(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Il(s,o){return!(s&Ze.Self||s&Ze.Host&&o)}class Vo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Lo(this._tNode,this._lView,o,u,a)}}function Eu(){return new Vo(Qn(),Ae())}function Es(s){return Cn(()=>{const o=s.prototype.constructor,a=o[sr]||Uo(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[sr]||Uo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Uo(s){return Be(s)?()=>{const o=Uo(Q(s));return o&&o()}:pr(s)}function Bo(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Cl(s){return function Ma(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(Ta(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Qn(),s)}const Cr="__annotations__",Ho="__parameters__",Xs="__prop__metadata__";function $o(s,o,a){return Cn(()=>{const u=function bu(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const _=new h(...p);return w.annotation=_,w;function w(I,S,P){const L=I.hasOwnProperty(Ho)?I[Ho]:Object.defineProperty(I,Ho,{value:[]})[Ho];for(;L.length<=P;)L.push(null);return(L[P]=L[P]||[]).push(_),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Sn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=nn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zo=Function;function Dl(s){return"function"==typeof s}function fn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),fn(u,o)):o!==s&&o.push(u)}return o}function bs(s,o){s.forEach(a=>Array.isArray(a)?bs(a,o):o(a))}function Na(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function pn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function vi(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function oi(s,o,a){let u=Lr(s,o);return u>=0?s[1|u]=a:(u=~u,function Fc(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function qo(s,o){const a=Lr(s,o);if(a>=0)return s[1|a]}function Lr(s,o){return function Wo(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const p=u+(h-u>>1),_=s[p<<a];if(o===_)return p<<a;_>o?h=p:u=p+1}return~(h<<a)}(s,o,1)}const Vc=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ko=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Cu=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Uc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Bc{constructor(o){this._reflect=o||Pt.Reflect}factory(o){return(...a)=>new o(...a)}_zipTypesAndAnnotations(o,a){let u;u=vi(typeof o>"u"?a.length:o.length);for(let h=0;h<u.length;h++)u[h]=typeof o>"u"?[]:o[h]&&o[h]!=Object?[o[h]]:[],a&&null!=a[h]&&(u[h]=u[h].concat(a[h]));return u}_ownParameters(o,a){if(function Hp(s){return Vc.test(s)||Uc.test(s)||Ko.test(s)&&!Cu.test(s)}(o.toString()))return null;if(o.parameters&&o.parameters!==a.parameters)return o.parameters;const h=o.ctorParameters;if(h&&h!==a.ctorParameters){const w="function"==typeof h?h():h,I=w.map(P=>P&&P.type),S=w.map(P=>P&&Ra(P.decorators));return this._zipTypesAndAnnotations(I,S)}const p=o.hasOwnProperty(Ho)&&o[Ho],_=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",o);return _||p?this._zipTypesAndAnnotations(_,p):vi(o.length)}parameters(o){if(!Dl(o))return[];const a=Sl(o);let u=this._ownParameters(o,a);return!u&&a!==Object&&(u=this.parameters(a)),u||[]}_ownAnnotations(o,a){if(o.annotations&&o.annotations!==a.annotations){let u=o.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return o.decorators&&o.decorators!==a.decorators?Ra(o.decorators):o.hasOwnProperty(Cr)?o[Cr]:null}annotations(o){if(!Dl(o))return[];const a=Sl(o),u=this._ownAnnotations(o,a)||[];return(a!==Object?this.annotations(a):[]).concat(u)}_ownPropMetadata(o,a){if(o.propMetadata&&o.propMetadata!==a.propMetadata){let u=o.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(o.propDecorators&&o.propDecorators!==a.propDecorators){const u=o.propDecorators,h={};return Object.keys(u).forEach(p=>{h[p]=Ra(u[p])}),h}return o.hasOwnProperty(Xs)?o[Xs]:null}propMetadata(o){if(!Dl(o))return{};const a=Sl(o),u={};if(a!==Object){const p=this.propMetadata(a);Object.keys(p).forEach(_=>{u[_]=p[_]})}const h=this._ownPropMetadata(o,a);return h&&Object.keys(h).forEach(p=>{const _=[];u.hasOwnProperty(p)&&_.push(...u[p]),_.push(...h[p]),u[p]=_}),u}ownPropMetadata(o){return Dl(o)&&this._ownPropMetadata(o,Sl(o))||{}}hasLifecycleHook(o,a){return o instanceof zo&&a in o.prototype}}function Ra(s){return s?s.map(o=>new(0,o.type.annotationCls)(...o.args?o.args:[])):[]}function Sl(s){const o=s.prototype?Object.getPrototypeOf(s.prototype):null;return(o?o.constructor:null)||Object}const ts={},Du="__NG_DI_FLAG__",Zo="ngTempTokenPath",Tu=/\n/gm,Hc="__source";let ka;function Cs(s){const o=ka;return ka=s,o}function bh(s,o=Ze.Default){if(void 0===ka)throw new Ie(-203,!1);return null===ka?lr(s,void 0,o):ka.get(s,o&Ze.Optional?null:void 0,o)}function Wn(s,o=Ze.Default){return(function Gn(){return Kn}()||bh)(Q(s),o)}function C(s,o=Ze.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Wn(s,o)}function D(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Ie(900,!1);let h,p=Ze.Default;for(let _=0;_<u.length;_++){const w=u[_],I=B(w);"number"==typeof I?-1===I?h=w.token:p|=I:h=w}o.push(Wn(h,p))}else o.push(Wn(u))}return o}function M(s,o){return s[Du]=o,s.prototype[Du]=o,s}function B(s){return s[Du]}const Re=M($o("Inject",s=>({token:s})),-1),et=M($o("Optional"),8),at=M($o("Self"),2),ut=M($o("SkipSelf"),4);let Sh,xu,Pu,Mt=null;function mr(){return Mt=Mt||new Bc}function ww(s){Sh=s}function Mu(s){return function Gc(){if(void 0===xu&&(xu=null,Pt.trustedTypes))try{xu=Pt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return xu}()?.createHTML(s)||s}function zc(s){return function xh(){if(void 0===Pu&&(Pu=null,Pt.trustedTypes))try{Pu=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pu}()?.createHTML(s)||s}class Ds{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qc extends Ds{getTypeName(){return"HTML"}}class Mh extends Ds{getTypeName(){return"Style"}}class Ts extends Ds{getTypeName(){return"Script"}}class Ph extends Ds{getTypeName(){return"URL"}}class xl extends Ds{getTypeName(){return"ResourceURL"}}function to(s){return s instanceof Ds?s.changingThisBreaksApplicationSecurity:s}function rs(s,o){const a=function Nh(s){return s instanceof Ds&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Uy(s){return new qc(s)}function Gp(s){return new Mh(s)}function Jo(s){return new Ts(s)}function zp(s){return new Ph(s)}function qp(s){return new xl(s)}class Ua{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Mu(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Wc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Mu(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Mu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function m(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function b(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function x(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const R=b("area,br,col,hr,img,wbr"),ee=b("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pe=b("rp,rt"),An=x(R,x(ee,b("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x(Pe,b("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x(Pe,ee)),Kr=b("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rh=x(Kr,b("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),b("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kh=b("script,style,template");class By{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!An.hasOwnProperty(a))return this.sanitizedSomething=!0,!kh.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),_=p.name,w=_.toLowerCase();if(!Rh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=p.value;Kr[w]&&(I=m(I)),this.buf.push(" ",_,'="',Lh(I),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();An.hasOwnProperty(a)&&!R.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Lh(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Hy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ml=/([^\#-~ |!])/g;function Lh(s){return s.replace(/&/g,"&amp;").replace(Hy,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ml,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ou;function Kc(s,o){let a=null;try{Ou=Ou||function ki(s){const o=new Wc(s);return function v(){try{return!!(new window.DOMParser).parseFromString(Mu(""),"text/html")}catch{return!1}}()?new Ua(o):o}(s);let u=o?String(o):"";a=Ou.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=a.innerHTML,a=Ou.getInertBodyElement(u)}while(u!==p);return Mu((new By).sanitizeChildren(Ba(a)||a))}finally{if(a){const u=Ba(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ba(s){return"content"in s&&function Zc(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Fh(s){const o=Ru();return o?zc(o.sanitize(Fn.HTML,s)||""):rs(s,"HTML")?zc(to(s)):Kc(function $c(){return void 0!==Sh?Sh:typeof document<"u"?document:void 0}(),ve(s))}function Vh(s){const o=Ru();return o?o.sanitize(Fn.URL,s)||"":rs(s,"URL")?to(s):m(ve(s))}function Ru(){const s=Ae();return s&&s[12]}const Uh=new Sn("ENVIRONMENT_INITIALIZER"),Bh=new Sn("INJECTOR",-1),Ew=new Sn("INJECTOR_DEF_TYPES");class bw{get(o,a=ts){if(a===ts){const u=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw u.name="NullInjectorError",u}return a}}function hD(...s){return{\u0275providers:Iw(0,s)}}function Iw(s,...o){const a=[],u=new Set;let h;return bs(o,p=>{const _=p;Hh(_,a,[],u)&&(h||(h=[]),h.push(_))}),void 0!==h&&Cw(h,a),a}function Cw(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];bs(h,p=>{o.push(p)})}}function Hh(s,o,a,u){if(!(s=Q(s)))return!1;let h=null,p=$i(s);const _=!p&&N(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const I=s.ngModule;if(p=$i(I),!p)return!1;h=I}const w=u.has(h);if(_){if(w)return!1;if(u.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of I)Hh(S,o,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;u.add(h);try{bs(p.imports,P=>{Hh(P,o,a,u)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&Cw(S,o)}if(!w){const S=pr(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:At},{provide:Ew,useValue:h,multi:!0},{provide:Uh,useValue:()=>Wn(h),multi:!0})}const I=p.providers;null==I||w||bs(I,P=>{o.push(P)})}}return h!==s&&void 0!==s.providers}const Wp=me({provide:String,useValue:me});function jh(s){return null!==s&&"object"==typeof s&&Wp in s}function Pl(s){return"function"==typeof s}const Tw=new Sn("Set Injector scope."),Qc={},bP={};let $y;function Kp(){return void 0===$y&&($y=new bw),$y}class Nl{}class Zp extends Nl{constructor(o,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gy(o,_=>this.processProvider(_)),this.records.set(Bh,Jc(void 0,this)),h.has("environment")&&this.records.set(Nl,Jc(void 0,this));const p=this.records.get(Tw);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Ew.multi,At,Ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Cs(this),u=bn(void 0);try{return o()}finally{Cs(a),bn(u)}}get(o,a=ts,u=Ze.Default){this.assertNotDestroyed();const h=Cs(this),p=bn(void 0);try{if(!(u&Ze.SkipSelf)){let w=this.records.get(o);if(void 0===w){const I=function yD(s){return"function"==typeof s||"object"==typeof s&&s instanceof Sn}(o)&&br(o);w=I&&this.injectableDefInScope(I)?Jc(Yp(o),Qc):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&Ze.Self?Kp():this.parent).get(o,a=u&Ze.Optional&&a===ts?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Zo]=_[Zo]||[]).unshift(de(o)),h)throw _;return function X(s,o,a,u){const h=s[Zo];throw o[Hc]&&h.unshift(o[Hc]),s.message=function oe(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=de(o);if(Array.isArray(o))h=o.map(de).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):de(w)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(Tu,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[Zo]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{bn(p),Cs(h)}}resolveInjectorInitializers(){const o=Cs(this),a=bn(void 0);try{const u=this.get(Uh.multi,At,Ze.Self);for(const h of u)h()}finally{Cs(o),bn(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(de(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(o){let a=Pl(o=Q(o))?o:Q(o&&o.provide);const u=function pD(s){return jh(s)?Jc(void 0,s.useValue):Jc(Sw(s),Qc)}(o);if(Pl(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Jc(void 0,Qc,!0),h.factory=()=>D(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===Qc&&(a.value=bP,a.value=a.factory()),"object"==typeof a.value&&a.value&&function mD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Yp(s){const o=br(s),a=null!==o?o.factory:pr(s);if(null!==a)return a;if(s instanceof Sn)throw new Ie(204,!1);if(s instanceof Function)return function IP(s){const o=s.length;if(o>0)throw vi(o,"?"),new Ie(204,!1);const a=function Rn(s){const o=s&&(s[Or]||s[pi]);if(o){const a=function ji(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ie(204,!1)}function Sw(s,o,a){let u;if(Pl(s)){const h=Q(s);return pr(h)||Yp(h)}if(jh(s))u=()=>Q(s.useValue);else if(function Dw(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...D(s.deps||[]));else if(function $h(s){return!(!s||!s.useExisting)}(s))u=()=>Wn(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function gD(s){return!!s.deps}(s))return pr(h)||Yp(h);u=()=>new h(...D(s.deps))}return u}function Jc(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Aw(s){return!!s.\u0275providers}function Gy(s,o){for(const a of s)Array.isArray(a)?Gy(a,o):Aw(a)?Gy(a.\u0275providers,o):o(a)}class zy{}class wD{resolveComponentFactory(o){throw function vD(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Gh=(()=>{class s{}return s.NULL=new wD,s})();function ED(){return ku(Qn(),Ae())}function ku(s,o){return new zh(gr(s,o))}let zh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=ED,s})();function As(s){return s instanceof zh?s.nativeElement:s}class Xc{}let qy=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function bD(){const s=Ae(),a=on(Qn().index,s);return(Yn(a)?a:s)[11]}(),s})(),ID=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class Jp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Mw=new Jp("14.2.2"),Wy={},ng="ngOriginalError";function Zy(s){return s[ng]}class Kh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Zy(o);for(;a&&Zy(a);)a=Zy(a);return a||null}}const Qy=new Map;let OD=0;const Vw="__ngContext__";function Yt(s,o){Yn(o)?(s[Vw]=o[20],function kD(s){Qy.set(s[20],s)}(o)):s[Vw]=o}function Ha(s){return s instanceof Function?s():s}var ea=(()=>((ea=ea||{})[ea.Important=1]="Important",ea[ea.DashCase=2]="DashCase",ea))();function Lu(s,o){return undefined(s,o)}function ed(s){const o=s[3];return ti(o)?o[3]:o}function Fu(s){return t_(s[13])}function ja(s){return t_(s[4])}function t_(s){for(;null!==s&&!ti(s);)s=s[4];return s}function Ol(s,o,a,u,h){if(null!=u){let p,_=!1;ti(u)?p=u:Yn(u)&&(_=!0,u=u[0]);const w=Ln(u);0===s&&null!==a?null==h?cg(o,a,w):Vu(o,a,w,h||null,!0):1===s&&null!==a?Vu(o,a,w,h||null,!0):2===s?function Ww(s,o,a){const u=qa(s,o);u&&function Jh(s,o,a,u){s.removeChild(o,a,u)}(s,u,o,a)}(o,w,_):3===s&&o.destroyNode(w),null!=p&&function Yw(s,o,a,u,h){const p=a[7];p!==Ln(a)&&Ol(o,s,u,p,h);for(let w=10;w<a.length;w++){const I=a[w];nd(I[1],I,s,o,u,p)}}(o,s,p,a,h)}}function td(s,o,a){return s.createElement(o,a)}function Ga(s,o){const a=s[9],u=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Un(h,-1)),a.splice(u,1)}function Fr(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&Ga(h,u),o>0&&(s[a-1][4]=u[4]);const p=pn(s,10+o);!function xs(s,o){nd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function za(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&nd(s,o,a,3,null,null),function Gw(s){let o=s[13];if(!o)return n_(s[1],s);for(;o;){let a=null;if(Yn(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Yn(o)&&n_(o[1],o),o=o[3];null===o&&(o=s),Yn(o)&&n_(o[1],o),a=o&&o[4]}o=a}}(o)}}function n_(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function r_(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof si)){const p=a[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=h[p[_]],I=p[_+1];try{I.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Qh(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],w="function"==typeof _?_(o):Ln(o[_]),I=u[h=a[p+2]],S=a[p+3];"boolean"==typeof S?w.removeEventListener(a[p],I,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),p+=2}else{const _=u[h=a[p+1]];a[p].call(_)}if(null!==u){for(let p=h+1;p<u.length;p++)(0,u[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&ti(o[3])){a!==o[3]&&Ga(a,o);const u=o[19];null!==u&&u.detachView(s)}!function Xy(s){Qy.delete(s[20])}(o)}}function i_(s,o,a){return function zw(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===pt.None||h===pt.Emulated)return null}return gr(u,a)}(s,o.parent,a)}function Vu(s,o,a,u,h){s.insertBefore(o,a,u,h)}function cg(s,o,a){s.appendChild(o,a)}function Qt(s,o,a,u,h){null!==u?Vu(s,o,a,u,h):cg(s,o,a)}function qa(s,o){return s.parentNode(o)}function qw(s,o,a){return s_(s,o,a)}let s_=function io(s,o,a){return 40&s.type?gr(s,a):null};function a_(s,o,a,u){const h=i_(s,u,o),p=o[11],w=qw(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)Qt(p,h,a[I],w,!1);else Qt(p,h,a,w,!1)}function _r(s,o){if(null!==o){const a=o.type;if(3&a)return gr(o,s);if(4&a)return Xh(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return _r(s,u);{const h=s[o.index];return ti(h)?Xh(-1,h):Ln(h)}}if(32&a)return Lu(o,s)()||Ln(s[o.index]);{const u=Wa(s,o);return null!==u?Array.isArray(u)?u[0]:_r(ed(s[16]),u):_r(s,o.next)}}return null}function Wa(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Xh(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return _r(u,h)}return o[7]}function l_(s,o,a,u,h,p,_){for(;null!=a;){const w=u[a.index],I=a.type;if(_&&0===o&&(w&&Yt(Ln(w),u),a.flags|=4),64!=(64&a.flags))if(8&I)l_(s,o,a.child,u,h,p,!1),Ol(o,s,h,w,p);else if(32&I){const S=Lu(a,u);let P;for(;P=S();)Ol(o,s,h,P,p);Ol(o,s,h,w,p)}else 16&I?Zw(s,o,u,a,h,p):Ol(o,s,h,w,p);a=_?a.projectionNext:a.next}}function nd(s,o,a,u,h,p){l_(a,u,s.firstChild,o,h,p,!1)}function Zw(s,o,a,u,h,p){const _=a[16],I=_[6].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Ol(o,s,h,I[S],p);else l_(s,o,I,_[3],h,p,!0)}function u_(s,o,a){s.setAttribute(o,"style",a)}function hg(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function ef(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Xt="ng-template";function tf(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==ef(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Qw(s){return 4===s.type&&s.value!==Xt}function Uu(s,o,a){return o===(4!==s.type||a?s.value:Xt)}function ZD(s,o,a){let u=4;const h=s.attrs||[],p=function nf(s){for(let o=0;o<s.length;o++)if(Ta(s[o]))return o;return s.length}(h);let _=!1;for(let w=0;w<o.length;w++){const I=o[w];if("number"!=typeof I){if(!_)if(4&u){if(u=2|1&u,""!==I&&!Uu(s,I,a)||""===I&&1===o.length){if(Ms(u))return!1;_=!0}}else{const S=8&u?I:o[++w];if(8&u&&null!==s.attrs){if(!tf(s.attrs,S,a)){if(Ms(u))return!1;_=!0}continue}const L=c_(8&u?"class":I,h,Qw(s),a);if(-1===L){if(Ms(u))return!1;_=!0;continue}if(""!==S){let W;W=L>p?"":h[L+1].toLowerCase();const ne=8&u?W:null;if(ne&&-1!==ef(ne,S,0)||2&u&&S!==W){if(Ms(u))return!1;_=!0}}}}else{if(!_&&!Ms(u)&&!Ms(I))return!1;if(_&&Ms(I))continue;_=!1,u=I|1&u}}return Ms(u)||_}function Ms(s){return 0==(1&s)}function c_(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Xw(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Jw(s,o,a=!1){for(let u=0;u<o.length;u++)if(ZD(s,o[u],a))return!0;return!1}function pg(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function eE(s,o){return s?":not("+o.trim()+")":o}function d_(s){let o=s[0],a=1,u=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&u){const w=s[++a];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+_:4&u&&(h+=" "+_);else""!==h&&!Ms(_)&&(o+=eE(p,h),h=""),u=_,p=p||!Ms(u);a++}return""!==h&&(o+=eE(p,h)),o}const $t={};function nE(s){rE(Wt(),Ae(),Pn()+s,!1)}function rE(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Po(o,p,a)}else{const p=s.preOrderHooks;null!==p&&No(o,p,0,a)}Qi(a)}function aE(s,o=null,a=null,u){const h=Rl(s,o,a,u);return h.resolveInjectorInitializers(),h}function Rl(s,o=null,a=null,u,h=new Set){const p=[a||At,hD(s)];return u=u||("object"==typeof s?void 0:de(s)),new Zp(p,o||Kp(),u||null,h)}let ta=(()=>{class s{static create(a,u){if(Array.isArray(a))return aE({name:""},u,a,"");{const h=a.name??"";return aE({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=ts,s.NULL=new bw,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>Wn(Bh)}),s.__NG_ELEMENT_ID__=-1,s})();function p_(s){return s.length>1?" ("+function xP(s){const o=[];for(let a=0;a<s.length;++a){if(o.indexOf(s[a])>-1)return o.push(s[a]),o;o.push(s[a])}return o}(s.slice().reverse()).map(u=>de(u.token)).join(" -> ")+")":""}function g_(s,o,a,u){const h=[o],p=a(h),_=u?function AD(s,o){const a=`${s} caused by: ${o instanceof Error?o.message:o}`,u=Error(a);return u[ng]=o,u}(p,u):Error(p);return _.addKey=XD,_.keys=h,_.injectors=[s],_.constructResolvingMessage=a,_[ng]=u,_}function XD(s,o){this.injectors.push(s),this.keys.push(o),this.message=this.constructResolvingMessage(this.keys)}function m_(s,o){const a=[];for(let u=0,h=o.length;u<h;u++){const p=o[u];a.push(p&&0!=p.length?p.map(de).join(" "):"?")}return Error("Cannot resolve all parameters for '"+de(s)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+de(s)+"' is decorated with Injectable.")}function sd(s,o){return Error(`Cannot mix multi providers and regular providers, got: ${s} ${o}`)}class kl{constructor(o,a){if(this.token=o,this.id=a,!o)throw new Ie(208,!1);this.displayName=de(this.token)}static get(o){return y_.get(Q(o))}static get numberOfKeys(){return y_.numberOfKeys}}class eT{constructor(){this._allKeys=new Map}get(o){if(o instanceof kl)return o;if(this._allKeys.has(o))return this._allKeys.get(o);const a=new kl(o,kl.numberOfKeys);return this._allKeys.set(o,a),a}get numberOfKeys(){return this._allKeys.size}}const y_=new eT;class yg{constructor(o,a,u){this.key=o,this.optional=a,this.visibility=u}static fromKey(o){return new yg(o,!1,null)}}const __=[];class od{constructor(o,a,u){this.key=o,this.resolvedFactories=a,this.multiProvider=u,this.resolvedFactory=this.resolvedFactories[0]}}class tT{constructor(o,a){this.factory=o,this.dependencies=a}}function v_(s){let o,a;if(s.useClass){const u=Q(s.useClass);o=mr().factory(u),a=Ll(u)}else s.useExisting?(o=u=>u,a=[yg.fromKey(kl.get(s.useExisting))]):s.useFactory?(o=s.useFactory,a=function w_(s,o){if(o){const a=o.map(u=>[u]);return o.map(u=>af(s,u,a))}return Ll(s)}(s.useFactory,s.deps)):(o=()=>s.useValue,a=__);return new tT(o,a)}function nT(s){return new od(kl.get(s.provide),[v_(s)],s.multi||!1)}function cE(s){const u=function dE(s,o){for(let a=0;a<s.length;a++){const u=s[a],h=o.get(u.key.id);if(h){if(u.multiProvider!==h.multiProvider)throw sd(h,u);if(u.multiProvider)for(let p=0;p<u.resolvedFactories.length;p++)h.resolvedFactories.push(u.resolvedFactories[p]);else o.set(u.key.id,u)}else{let p;p=u.multiProvider?new od(u.key,u.resolvedFactories.slice(),u.multiProvider):u,o.set(u.key.id,p)}}return o}(na(s,[]).map(nT),new Map);return Array.from(u.values())}function na(s,o){return s.forEach(a=>{if(a instanceof zo)o.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)o.push(a);else{if(!Array.isArray(a))throw function lE(s){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${s}`)}(a);na(a,o)}}),o}function Ll(s){const o=mr().parameters(s);if(!o)return[];if(o.some(a=>null==a))throw m_(s,o);return o.map(a=>af(s,a,o))}function af(s,o,a){let u=null,h=!1;if(!Array.isArray(o))return _g(o instanceof Re?o.token:o,h,null);let p=null;for(let _=0;_<o.length;++_){const w=o[_];w instanceof zo?u=w:w instanceof Re?u=w.token:w instanceof et?h=!0:w instanceof at||w instanceof ut?p=w:w instanceof Sn&&(u=w)}if(u=Q(u),null!=u)return _g(u,h,p);throw m_(s,a)}function _g(s,o,a){return new yg(kl.get(s),o,a)}const lf={};class ad{static resolve(o){return cE(o)}static resolveAndCreate(o,a){const u=ad.resolve(o);return ad.fromResolvedProviders(u,a)}static fromResolvedProviders(o,a){return new rT(o,a)}}let rT=(()=>{class s{constructor(a,u){this._constructionCounter=0,this._providers=a,this.parent=u||null;const h=a.length;this.keyIds=[],this.objs=[];for(let p=0;p<h;p++)this.keyIds[p]=a[p].key.id,this.objs[p]=lf}get(a,u=ts){return this._getByKey(kl.get(a),null,u)}resolveAndCreateChild(a){const u=ad.resolve(a);return this.createChildFromResolved(u)}createChildFromResolved(a){const u=new s(a);return u.parent=this,u}resolveAndInstantiate(a){return this.instantiateResolved(ad.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function uE(s){return Error(`Index ${s} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function sf(s,o){return g_(s,o,function(a){return`Cannot instantiate cyclic dependency!${p_(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const u=[];for(let h=0;h<a.resolvedFactories.length;++h)u[h]=this._instantiate(a,a.resolvedFactories[h]);return u}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,u){const h=u.factory;let p,_;try{p=u.dependencies.map(w=>this._getByReflectiveDependency(w))}catch(w){throw w.addKey&&w.addKey(this,a.key),w}try{_=h(...p)}catch(w){throw function id(s,o,a,u){return g_(s,u,function(h){const p=de(h[0].token);return`${o.message}: Error during instantiation of ${p}!${p_(h)}.`},o)}(this,w,0,a.key)}return _}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:ts)}_getByKey(a,u,h){return a===s.INJECTOR_KEY?this:u instanceof at?this._getByKeySelf(a,h):this._getByKeyDefault(a,h,u)}_getObjByKeyId(a){for(let u=0;u<this.keyIds.length;u++)if(this.keyIds[u]===a)return this.objs[u]===lf&&(this.objs[u]=this._new(this._providers[u])),this.objs[u];return lf}_throwOrNull(a,u){if(u!==ts)return u;throw function rf(s,o){return g_(s,o,function(a){return`No provider for ${de(a[0].token)}!${p_(a)}`})}(this,a)}_getByKeySelf(a,u){const h=this._getObjByKeyId(a.id);return h!==lf?h:this._throwOrNull(a,u)}_getByKeyDefault(a,u,h){let p;for(p=h instanceof ut?this.parent:this;p instanceof s;){const _=p,w=_._getObjByKeyId(a.id);if(w!==lf)return w;p=_.parent}return null!==p?p.get(a.token,u):this._throwOrNull(a,u)}get displayName(){return`ReflectiveInjector(providers: [${function iT(s,o){const a=[];for(let u=0;u<s._providers.length;++u)a[u]=o(s.getProviderAtIndex(u));return a}(this,u=>' "'+u.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return s.INJECTOR_KEY=kl.get(ta),s})();function ld(s,o=Ze.Default){const a=Ae();return null===a?Wn(s,o):Lo(Qn(),a,Q(s),o)}function hE(){throw new Error("invalid")}function vg(s,o){return s<<17|o<<2}function so(s){return s>>17&32767}function wg(s){return 2|s}function Ka(s){return(131068&s)>>2}function Eg(s,o){return-131069&s|o<<2}function uf(s){return 1|s}function CE(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const _=s.data[p];hu(h),_.contentQueries(2,o[p],p)}}}function ju(s,o,a,u,h,p,_,w,I,S,P){const L=o.blueprint.slice();return L[0]=h,L[2]=76|u,(null!==P||s&&1024&s[2])&&(L[2]|=1024),pa(L),L[3]=L[15]=s,L[8]=a,L[10]=_||s&&s[10],L[11]=w||s&&s[11],L[12]=I||s&&s[12]||null,L[9]=S||s&&s[9]||null,L[6]=p,L[20]=function RD(){return OD++}(),L[21]=P,L[16]=2==o.type?s[16]:L,L}function ud(s,o,a,u,h){let p=s.data[o];if(null===p)p=function S_(s,o,a,u,h){const p=So(),_=ml(),I=s.data[o]=function mT(s,o,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(_?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(s,o,a,u,h),function Ic(){return Lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const _=function gl(){const s=Lt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return kr(p,!0),p}function oo(s,o,a,u){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function $u(s,o,a){Mo(o);try{const u=s.viewQuery;null!==u&&F_(1,u,a);const h=s.template;null!==h&&TE(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&CE(s,o),s.staticViewQueries&&F_(2,s.viewQuery,a);const p=s.components;null!==p&&function DE(s,o){for(let a=0;a<o.length;a++)bT(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,_s()}}function xg(s,o,a,u){const h=o[2];if(128!=(128&h)){Mo(o);try{pa(o),function wa(s){return Lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&TE(s,o,a,2,u);const _=3==(3&h);if(_){const S=s.preOrderCheckHooks;null!==S&&Po(o,S,null)}else{const S=s.preOrderHooks;null!==S&&No(o,S,0,null),xc(o,0)}if(function mf(s){for(let o=Fu(s);null!==o;o=ja(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(512&h[2])&&Un(p,1),h[2]|=512}}}(o),function LE(s){for(let o=Fu(s);null!==o;o=ja(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];ys(u)&&xg(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&CE(s,o),_){const S=s.contentCheckHooks;null!==S&&Po(o,S)}else{const S=s.contentHooks;null!==S&&No(o,S,1),xc(o,1)}!function ff(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)Qi(~h);else{const p=h,_=a[++u],w=a[++u];Cc(_,p),w(2,o[p])}}}finally{Qi(-1)}}(s,o);const w=s.components;null!==w&&function hT(s,o){for(let a=0;a<o.length;a++)FE(s,o[a])}(o,w);const I=s.viewQuery;if(null!==I&&F_(2,I,u),_){const S=s.viewCheckHooks;null!==S&&Po(o,S)}else{const S=s.viewHooks;null!==S&&No(o,S,2),xc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Un(o[3],-1))}finally{_s()}}}function TE(s,o,a,u,h){const p=Pn(),_=2&u;try{Qi(-1),_&&o.length>22&&rE(s,o,22,!1),a(u,h)}finally{Qi(p)}}function cd(s,o,a){if($s(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function Gu(s,o,a){!Zs()||(function wT(s,o,a,u){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Xi(a,o),Yt(u,o);const _=a.initialInputs;for(let w=h;w<p;w++){const I=s.data[w],S=Gr(I);S&&ET(o,a,I);const P=Oi(o,s,w,a);Yt(P,o),null!==_&&RE(0,w-h,P,I,0,_),S&&(on(a.index,o)[8]=P)}}(s,o,a,gr(a,o)),128==(128&a.flags)&&function ME(s,o,a){const u=a.directiveStart,h=a.directiveEnd,p=a.index,_=function ah(){return Lt.lFrame.currentDirectiveIndex}();try{Qi(p);for(let w=u;w<h;w++){const I=s.data[w],S=o[w];xo(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&PE(I,S)}}finally{Qi(-1),xo(_)}}(s,o,a))}function A_(s,o,a=gr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],w=-1===_?a(o,s):s[_];s[h++]=w}}}function SE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=x_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function x_(s,o,a,u,h,p,_,w,I,S){const P=22+u,L=P+h,W=function fT(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:$t);return a}(P,L),ne="function"==typeof S?S():S;return W[1]={type:s,blueprint:W,template:a,queries:null,viewQuery:w,declTNode:o,data:W.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:ne,incompleteFirstPass:!1}}function gT(s,o,a,u){const h=VE(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&UE(s).push(u,h.length-1))}function Mg(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function pf(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,_=[];let w=null,I=null;for(let S=o.directiveStart;S<u;S++){const P=h[S],L=P.inputs,W=null===p||Qw(o)?null:kE(L,p);_.push(W),w=Mg(L,S,w),I=Mg(P.outputs,S,I)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=I}function AE(s,o){const a=on(o,s);16&a[2]||(a[2]|=32)}function M_(s,o,a,u){let h=!1;if(Zs()){const p=function P_(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];Jw(a,_.selectors,!1)&&(h||(h=[]),Qs(Xi(a,o),s,_.type),Gr(_)?(N_(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===u?null:{"":-1};if(null!==p){h=!0,NE(a,s.data.length,p.length);for(let P=0;P<p.length;P++){const L=p[P];L.providersResolver&&L.providersResolver(L)}let w=!1,I=!1,S=oo(s,o,p.length,null);for(let P=0;P<p.length;P++){const L=p[P];a.mergedAttrs=Sa(a.mergedAttrs,L.hostAttrs),OE(s,a,o,S,L),Pg(S,L,_),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const W=L.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!I&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),I=!0),S++}pf(s,a)}_&&function O_(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Ie(-301,!1);u.push(o[h],p)}}}(a,u,_)}return a.mergedAttrs=Sa(a.mergedAttrs,a.attrs),h}function xE(s,o,a,u,h,p){const _=p.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const I=~o.index;(function vT(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(u,h,_)}}function PE(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function N_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Pg(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Gr(o)&&(a[""]=s)}}function NE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function OE(s,o,a,u,h){s.data[u]=h;const p=h.factory||(h.factory=pr(h.type)),_=new si(p,Gr(h),ld);s.blueprint[u]=_,a[u]=_,xE(s,o,0,u,oo(s,a,h.hostVars,$t),h)}function ET(s,o,a){const u=gr(o,s),h=SE(a),p=s[10],_=Ng(s,ju(s,h,null,a.onPush?32:16,u,o,p,p.createRenderer(u,a),null,null,null));s[o.index]=_}function ia(s,o,a,u,h,p){const _=gr(s,o);!function hd(s,o,a,u,h,p,_){if(null==p)s.removeAttribute(o,h,a);else{const w=null==_?ve(p):_(p,u||"",h);s.setAttribute(o,h,w,a)}}(o[11],_,p,s.value,a,u,h)}function RE(s,o,a,u,h,p){const _=p[o];if(null!==_){const w=u.setInput;for(let I=0;I<_.length;){const S=_[I++],P=_[I++],L=_[I++];null!==w?u.setInput(a,L,S,P):a[P]=L}}}function kE(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function gf(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function FE(s,o){const a=on(o,s);if(ys(a)){const u=a[1];48&a[2]?xg(u,a,u.template,a[8]):a[5]>0&&k_(a)}}function k_(s){for(let u=Fu(s);null!==u;u=ja(u))for(let h=10;h<u.length;h++){const p=u[h];if(ys(p))if(512&p[2]){const _=p[1];xg(_,p,_.template,p[8])}else p[5]>0&&k_(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=on(a[u],s);ys(h)&&h[5]>0&&k_(h)}}function bT(s,o){const a=on(o,s),u=a[1];(function IT(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),$u(u,a,a[8])}function Ng(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function L_(s){for(;s;){s[2]|=32;const o=ed(s);if(su(s)&&!o)return s;s=o}return null}function zu(s,o,a,u=!0){const h=o[10];h.begin&&h.begin();try{xg(s,o,s.template,a)}catch(_){throw u&&HE(o,_),_}finally{h.end&&h.end()}}function F_(s,o,a){hu(0),o(s,a)}function VE(s){return s[7]||(s[7]=[])}function UE(s){return s.cleanup||(s.cleanup=[])}function HE(s,o){const a=s[9],u=a?a.get(Kh,null):null;u&&u.handleError(o)}function Og(s,o,a,u,h){for(let p=0;p<a.length;){const _=a[p++],w=a[p++],I=o[_],S=s.data[_];null!==S.setInput?S.setInput(I,h,u,w):I[w]=h}}function yf(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?p=w:1==p?h=ye(h,w):2==p&&(u=ye(u,w+": "+o[++_]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}function _f(s,o,a,u,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(Ln(p)),ti(p))for(let w=10;w<p.length;w++){const I=p[w],S=I[1].firstChild;null!==S&&_f(I[1],I,S,u)}const _=a.type;if(8&_)_f(s,o,a.child,u);else if(32&_){const w=Lu(a,o);let I;for(;I=w();)u.push(I)}else if(16&_){const w=Wa(o,a);if(Array.isArray(w))u.push(...w);else{const I=ed(o[16]);_f(I[1],I,w,u,!0)}}a=h?a.projectionNext:a.next}return u}class fd{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return _f(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ti(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Fr(o,u),pn(a,u))}this._attachedToViewContainer=!1}za(this._lView[1],this._lView)}onDestroy(o){gT(this._lView[1],this._lView,null,o)}markForCheck(){L_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ug(s,o){nd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=o}}class jE extends fd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;zu(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Rg extends Gh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=N(o);return new vf(a,this.ngModule)}}function $E(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class DT{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){const h=this.injector.get(o,Wy,u);return h!==Wy||a===Wy?h:this.parentInjector.get(o,a,u)}}class vf extends zy{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function gg(s){return s.map(d_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return $E(this.componentDef.inputs)}get outputs(){return $E(this.componentDef.outputs)}create(o,a,u,h){let p=(h=h||this.ngModule)instanceof Nl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new DT(o,p):o,w=_.get(Xc,null);if(null===w)throw new Ie(407,!1);const I=_.get(ID,null),S=w.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",L=u?function pT(s,o,a){return s.selectRootElement(o,a===pt.ShadowDom)}(S,u,this.componentDef.encapsulation):td(w.createRenderer(null,this.componentDef),P,function CT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),W=this.componentDef.onPush?288:272,ne=x_(0,null,null,1,0,null,null,null,null,null),we=ju(null,ne,null,W,null,null,w,S,I,_,null);let je,qe;Mo(we);try{const it=function qE(s,o,a,u,h,p){const _=a[1];a[22]=s;const I=ud(_,22,2,"#host",null),S=I.mergedAttrs=o.hostAttrs;null!==S&&(yf(I,S,!0),null!==s&&(Ji(h,s,S),null!==I.classes&&hg(h,s,I.classes),null!==I.styles&&u_(h,s,I.styles)));const P=u.createRenderer(s,o),L=ju(a,SE(o),null,o.onPush?32:16,a[22],I,u,P,p||null,null,null);return _.firstCreatePass&&(Qs(Xi(I,a),_,o.type),N_(_,I),NE(I,a.length,1)),Ng(a,L),a[22]=L}(L,this.componentDef,we,w,S);if(L)if(u)Ji(S,L,["ng-version",Mw.full]);else{const{attrs:Ct,classes:xe}=function tE(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&a.push(p);else{if(!Ms(h))break;h=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ct&&Ji(S,L,Ct),xe&&xe.length>0&&hg(S,L,xe.join(" "))}if(qe=Ks(ne,22),void 0!==a){const Ct=qe.projection=[];for(let xe=0;xe<this.ngContentSelectors.length;xe++){const kt=a[xe];Ct.push(null!=kt?Array.from(kt):null)}}je=function WE(s,o,a,u){const h=a[1],p=function _T(s,o,a){const u=Qn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),OE(s,u,o,oo(s,o,1,null),a),pf(s,u));const h=Oi(o,s,u.directiveStart,u);Yt(h,o);const p=gr(u,o);return p&&Yt(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==u)for(const w of u)w(p,o);if(o.contentQueries){const w=Qn();o.contentQueries(1,p,w.directiveStart)}const _=Qn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Qi(_.index),xE(a[1],_,0,_.directiveStart,_.directiveEnd,o),PE(o,p)),p}(it,this.componentDef,we,[HP]),$u(ne,we,null)}finally{_s()}return new GE(this.componentType,je,ku(qe,we),we,qe)}}class GE extends class _D{}{constructor(o,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new jE(h),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const p=this._rootLView;Og(p[1],p,h,o,a),AE(p,this._tNode.index)}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function HP(){const s=Qn();yl(Ae()[1],s)}function V_(s){let o=function KE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(Gr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ie(903,!1);h=o.\u0275dir}if(h){if(a){u.push(h);const _=s;_.inputs=U_(s.inputs),_.declaredInputs=U_(s.declaredInputs),_.outputs=U_(s.outputs);const w=h.hostBindings;w&&B_(s,w);const I=h.viewQuery,S=h.contentQueries;if(I&&kg(s,I),S&&ZE(s,S),he(s.inputs,h.inputs),he(s.declaredInputs,h.declaredInputs),he(s.outputs,h.outputs),Gr(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(s),w===V_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function ST(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Sa(h.hostAttrs,a=Sa(a,h.hostAttrs))}}(u)}function U_(s){return s===Ir?{}:s===At?[]:s}function kg(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function ZE(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,p)=>{o(u,h,p),a(u,h,p)}:o}function B_(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let qu=null;function Wu(){if(!qu){const s=Pt.Symbol;if(s&&s.iterator)qu=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(qu=u)}}}return qu}function wf(s){return!!Lg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Wu()in s)}function Lg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function sa(s,o,a){return s[o]=a}function pd(s,o){return s[o]}function Vr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function ao(s,o,a,u){const h=Vr(s,o,a);return Vr(s,o+1,u)||h}function Ps(s,o,a,u,h,p){const _=ao(s,o,a,u);return ao(s,o+2,h,p)||_}function Vg(s,o,a,u){const h=Ae();return Vr(h,Ea(),o)&&(Wt(),ia(Nn(),h,s,o,a,u)),Vg}function bf(s,o,a,u){return Vr(s,Ea(),a)?o+ve(a)+u:$t}function Cf(s,o,a,u,h,p,_,w){const I=Ae(),S=Wt(),P=s+22,L=S.firstCreatePass?function $P(s,o,a,u,h,p,_,w,I){const S=o.consts,P=ud(o,s,4,_||null,ii(S,w));M_(o,a,P,ii(S,I)),yl(o,P);const L=P.tViews=x_(2,P,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,P),L.queries=o.queries.embeddedTView(P)),P}(P,S,I,o,a,u,h,p,_):S.data[P];kr(L,!1);const W=I[11].createComment("");a_(S,I,W,L),Yt(W,I),Ng(I,I[P]=gf(W,I,W,L)),_o(L)&&Gu(S,I,L),null!=_&&A_(I,L,w)}function z_(s){return function Pi(s,o){return s[o]}(function va(){return Lt.lFrame.contextLView}(),22+s)}function q_(s,o,a){const u=Ae();return Vr(u,Ea(),o)&&function ss(s,o,a,u,h,p,_,w){const I=gr(o,a);let P,S=o.inputs;!w&&null!=S&&(P=S[u])?(Og(s,a,P,u,h),dl(o)&&AE(a,o.index)):3&o.type&&(u=function dd(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=_?_(h,o.value||"",u):h,p.setProperty(I,u,h))}(Wt(),Nn(),u,s,o,u[11],a,!1),q_}function W_(s,o,a,u,h){const _=h?"class":"style";Og(s,a,o.inputs[_],_,u)}function Hg(s,o,a,u){const h=Ae(),p=Wt(),_=22+s,w=h[11],I=h[_]=td(w,o,function gu(){return Lt.lFrame.currentNamespace}()),S=p.firstCreatePass?function XE(s,o,a,u,h,p,_){const w=o.consts,S=ud(o,s,2,h,ii(w,p));return M_(o,a,S,ii(w,_)),null!==S.attrs&&yf(S,S.attrs,!1),null!==S.mergedAttrs&&yf(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,p,h,0,o,a,u):p.data[_];kr(S,!0);const P=S.mergedAttrs;null!==P&&Ji(w,I,P);const L=S.classes;null!==L&&hg(w,I,L);const W=S.styles;return null!==W&&u_(w,I,W),64!=(64&S.flags)&&a_(p,h,I,S),0===function ma(){return Lt.lFrame.elementDepthCount}()&&Yt(I,h),function bc(){Lt.lFrame.elementDepthCount++}(),_o(S)&&(Gu(p,h,S),cd(p,S,h)),null!==u&&A_(h,S),Hg}function jg(){let s=Qn();ml()?Ao():(s=s.parent,kr(s,!1));const o=s;!function ya(){Lt.lFrame.elementDepthCount--}();const a=Wt();return a.firstCreatePass&&(yl(a,s),$s(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function vl(s){return 0!=(16&s.flags)}(o)&&W_(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function wl(s){return 0!=(32&s.flags)}(o)&&W_(a,o,Ae(),o.stylesWithoutHost,!1),jg}function K_(s,o,a,u){return Hg(s,o,a,u),jg(),K_}function $g(s,o,a){const u=Ae(),h=Wt(),p=s+22,_=h.firstCreatePass?function RT(s,o,a,u,h){const p=o.consts,_=ii(p,u),w=ud(o,s,8,"ng-container",_);return null!==_&&yf(w,_,!0),M_(o,a,w,ii(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,u,o,a):h.data[p];kr(_,!0);const w=u[p]=u[11].createComment("");return a_(h,u,w,_),Yt(w,u),_o(_)&&(Gu(h,u,_),cd(h,_,u)),null!=a&&A_(u,_),$g}function Df(){let s=Qn();const o=Wt();return ml()?Ao():(s=s.parent,kr(s,!1)),o.firstCreatePass&&(yl(o,s),$s(s)&&o.queries.elementEnd(s)),Df}function Z_(s,o,a){return $g(s,o,a),Df(),Z_}function kT(){return Ae()}function Gg(s){return!!s&&"function"==typeof s.then}function Y_(s){return!!s&&"function"==typeof s.subscribe}const Ns=Y_;function eb(s,o,a,u){const h=Ae(),p=Wt(),_=Qn();return function nb(s,o,a,u,h,p,_,w){const I=_o(u),P=s.firstCreatePass&&UE(s),L=o[8],W=VE(o);let ne=!0;if(3&u.type||w){const qe=gr(u,o),it=w?w(qe):qe,Ct=W.length,xe=w?yn=>w(Ln(yn[u.index])):u.index;let kt=null;if(!w&&I&&(kt=function LT(s,o,a,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===u){const w=o[7],I=h[p+2];return w.length>I?w[I]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,u.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=p,kt.__ngLastListenerFn__=p,ne=!1;else{p=Q_(u,o,L,p,!1);const yn=a.listen(it,h,p);W.push(p,yn),P&&P.push(h,xe,Ct,Ct+1)}}else p=Q_(u,o,L,p,!1);const we=u.outputs;let je;if(ne&&null!==we&&(je=we[h])){const qe=je.length;if(qe)for(let it=0;it<qe;it+=2){const Mn=o[je[it]][je[it+1]].subscribe(p),Ql=W.length;W.push(p,Mn),P&&P.push(h,u.index,Ql,-(Ql+1))}}}(p,h,h[11],_,s,o,0,u),eb}function rb(s,o,a,u){try{return!1!==a(u)}catch(h){return HE(s,h),!1}}function Q_(s,o,a,u,h){return function p(_){if(_===Function)return u;L_(2&s.flags?on(s.index,o):o);let I=rb(o,0,u,_),S=p.__ngNextListenerFn__;for(;S;)I=rb(o,0,S,_)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function Tf(s=1){return function vs(s){return(Lt.lFrame.contextLView=function Sc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Lt.lFrame.contextLView))[8]}(s)}function Ul(s,o){let a=null;const u=function fg(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?Jw(s,p,!0):pg(u,p))return h}else a=h}return a}function FT(s){const o=Ae()[16][6];if(!o.projection){const u=o.projection=vi(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const _=s?Ul(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:u[_]=p,h[_]=p),p=p.next}}}function ib(s,o=0,a){const u=Ae(),h=Wt(),p=ud(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),Ao(),64!=(64&p.flags)&&function Kw(s,o,a){Zw(o[11],0,o,a,i_(s,a,o),qw(a.parent||o[6],a,o))}(h,u,p)}function nv(s,o,a,u,h){const p=s[a+1],_=null===o;let w=u?so(p):Ka(p),I=!1;for(;0!==w&&(!1===I||_);){const P=s[w+1];ab(s[w],o)&&(I=!0,s[w+1]=u?uf(P):wg(P)),w=u?so(P):Ka(P)}I&&(s[a+1]=u?wg(p):uf(p))}function ab(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Lr(s,o)>=0}const Sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UT(s){return s.substring(Sr.key,Sr.keyEnd)}function zP(s){return s.substring(Sr.value,Sr.valueEnd)}function BT(s,o){const a=Sr.textEnd;return a===o?-1:(o=Sr.keyEnd=function KP(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Sr.key=o,a),Af(s,o,a))}function HT(s,o){const a=Sr.textEnd;let u=Sr.key=Af(s,o,a);return a===u?-1:(u=Sr.keyEnd=function $T(s,o,a){let u;for(;o<a&&(45===(u=s.charCodeAt(o))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)o++;return o}(s,u,a),u=lb(s,u,a),u=Sr.value=Af(s,u,a),u=Sr.valueEnd=function ub(s,o,a){let u=-1,h=-1,p=-1,_=o,w=_;for(;_<a;){const I=s.charCodeAt(_++);if(59===I)return w;34===I||39===I?w=_=Kg(s,I,_,a):o===_-4&&85===p&&82===h&&76===u&&40===I?w=_=Kg(s,41,_,a):I>32&&(w=_),p=h,h=u,u=-33&I}return w}(s,u,a),lb(s,u,a))}function jT(s){Sr.key=0,Sr.keyEnd=0,Sr.value=0,Sr.valueEnd=0,Sr.textEnd=s.length}function Af(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function lb(s,o,a,u){return(o=Af(s,o,a))<a&&o++,o}function Kg(s,o,a,u){let h=-1,p=a;for(;p<u;){const _=s.charCodeAt(p++);if(_==o&&92!==h)return p;h=92==_&&92===h?0:_}throw new Error}function Zg(s,o,a){return uo(s,o,a,!1),Zg}function rv(s,o){return uo(s,o,null,!0),rv}function os(s){co(Mf,GT,s,!1)}function GT(s,o){for(let a=function WP(s){return jT(s),HT(s,Af(s,0,Sr.textEnd))}(o);a>=0;a=HT(o,a))Mf(s,UT(o),zP(o))}function zT(s){co(oi,Ja,s,!0)}function Ja(s,o){for(let a=function qP(s){return jT(s),BT(s,Af(s,0,Sr.textEnd))}(o);a>=0;a=BT(o,a))oi(s,UT(o),!0)}function uo(s,o,a,u){const h=Ae(),p=Wt(),_=Yi(2);p.firstUpdatePass&&WT(p,s,_,u),o!==$t&&Vr(h,_,o)&&db(p,p.data[Pn()],h,h[11],s,h[_+1]=function JT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(to(s)))),s}(o,a),u,_)}function co(s,o,a,u){const h=Wt(),p=Yi(2);h.firstUpdatePass&&WT(h,null,p,u);const _=Ae();if(a!==$t&&Vr(_,p,a)){const w=h.data[Pn()];if(gn(w,u)&&!qT(h,p)){let I=u?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(a=ye(I,a||"")),W_(h,w,_,a,u)}else!function Pf(s,o,a,u,h,p,_,w){h===$t&&(h=At);let I=0,S=0,P=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==P||null!==L;){const W=I<h.length?h[I+1]:void 0,ne=S<p.length?p[S+1]:void 0;let je,we=null;P===L?(I+=2,S+=2,W!==ne&&(we=L,je=ne)):null===L||null!==P&&P<L?(I+=2,we=P):(S+=2,we=L,je=ne),null!==we&&db(s,o,a,u,we,je,_,w),P=I<h.length?h[I]:null,L=S<p.length?p[S]:null}}(h,w,_,_[11],_[p+1],_[p+1]=function QT(s,o,a){if(null==a||""===a)return At;const u=[],h=to(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(u,p,h[p]);else"string"==typeof h&&o(u,h);return u}(s,o,a),u,p)}}function qT(s,o){return o>=s.expandoStartIndex}function WT(s,o,a,u){const h=s.data;if(null===h[a+1]){const p=h[Pn()],_=qT(s,a);gn(p,u)&&null===o&&!_&&(o=!1),o=function iv(s,o,a,u){const h=function du(s){const o=Lt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=xf(a=sv(null,s,o,a,u),o.attrs,u),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=sv(h,s,o,a,u),null===p){let I=function KT(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Ka(u))return s[so(u)]}(s,o,u);void 0!==I&&Array.isArray(I)&&(I=sv(null,s,o,I[1],u),I=xf(I,o.attrs,u),function ZT(s,o,a,u){s[so(a?o.classBindings:o.styleBindings)]=u}(s,o,u,I))}else p=function YT(s,o,a){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=xf(u,s[p].hostAttrs,a);return xf(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,u),function ev(s,o,a,u,h,p){let _=p?o.classBindings:o.styleBindings,w=so(_),I=Ka(_);s[u]=a;let P,S=!1;if(Array.isArray(a)){const L=a;P=L[1],(null===P||Lr(L,P)>0)&&(S=!0)}else P=a;if(h)if(0!==I){const W=so(s[w+1]);s[u+1]=vg(W,w),0!==W&&(s[W+1]=Eg(s[W+1],u)),s[w+1]=function sT(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=vg(w,0),0!==w&&(s[w+1]=Eg(s[w+1],u)),w=u;else s[u+1]=vg(I,0),0===w?w=u:s[I+1]=Eg(s[I+1],u),I=u;S&&(s[u+1]=wg(s[u+1])),nv(s,P,u,!0),nv(s,P,u,!1),function tv(s,o,a,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Lr(p,o)>=0&&(a[u+1]=uf(a[u+1]))}(o,P,s,u,p),_=vg(w,I),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,u)}}function sv(s,o,a,u,h){let p=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(p=o[w],u=xf(u,p.hostAttrs,h),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),u}function xf(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),oi(s,_,!!a||o[++p]))}return void 0===s?null:s}function Mf(s,o,a){oi(s,o,to(a))}function db(s,o,a,u,h,p,_,w){if(!(3&o.type))return;const I=s.data,S=I[w+1];yd(function bg(s){return 1==(1&s)}(S)?hb(I,o,a,h,Ka(S),_):void 0)||(yd(p)||function pE(s){return 2==(2&s)}(S)&&(p=hb(I,null,a,h,w,_)),function KD(s,o,a,u,h){if(o)h?s.addClass(a,u):s.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:ea.DashCase;null==h?s.removeStyle(a,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=ea.Important),s.setStyle(a,u,h,p))}}(u,_,mi(Pn(),a),h,p))}function hb(s,o,a,u,h,p){const _=null===o;let w;for(;h>0;){const I=s[h],S=Array.isArray(I),P=S?I[1]:I,L=null===P;let W=a[h+1];W===$t&&(W=L?At:void 0);let ne=L?qo(W,u):P===u?W:void 0;if(S&&!yd(ne)&&(ne=qo(I,u)),yd(ne)&&(w=ne,_))return w;const we=s[h+1];h=_?so(we):Ka(we)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(w=qo(I,u))}return w}function yd(s){return void 0!==s}function gn(s,o){return 0!=(s.flags&(o?16:32))}function fb(s,o=""){const a=Ae(),u=Wt(),h=s+22,p=u.firstCreatePass?ud(u,h,1,o,null):u.data[h],_=a[h]=function lg(s,o){return s.createText(o)}(a[11],o);a_(u,a,_,p),kr(p,!1)}function pb(s){return Ur("",s,""),pb}function Ur(s,o,a){const u=Ae(),h=bf(u,s,o,a);return h!==$t&&function Ya(s,o,a){const u=mi(o,s);!function Dr(s,o,a){s.setValue(o,a)}(s[11],u,a)}(u,Pn(),h),Ur}function iS(s,o,a){co(oi,Ja,bf(Ae(),s,o,a),!0)}const Yu=void 0;var Cb=["en",[["a","p"],["AM","PM"],Yu],[["AM","PM"],Yu,Yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yu,"{1} 'at' {0}",Yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Hl(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let hr={};function lv(s){const o=function Db(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=cv(o);if(a)return a;const u=o.split("-")[0];if(a=cv(u),a)return a;if("en"===u)return Cb;throw new Ie(701,!1)}function uv(s){return lv(s)[St.PluralCase]}function cv(s){return s in hr||(hr[s]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[s]),hr[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Ju="en-US";let Ab=Ju;function dm(s,o,a,u,h){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)dm(s[p],o,a,u,h);else{const p=Wt(),_=Ae();let w=Pl(s)?s:Q(s.provide),I=Sw(s);const S=Qn(),P=1048575&S.providerIndexes,L=S.directiveStart,W=S.providerIndexes>>20;if(Pl(s)||!s.multi){const ne=new si(I,h,ld),we=Tv(w,o,h?P:P+W,L);-1===we?(Qs(Xi(S,_),p,w),hm(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ne),_.push(ne)):(a[we]=ne,_[we]=ne)}else{const ne=Tv(w,o,P+W,L),we=Tv(w,o,P,P+W),je=ne>=0&&a[ne],qe=we>=0&&a[we];if(h&&!qe||!h&&!je){Qs(Xi(S,_),p,w);const it=function uN(s,o,a,u,h){const p=new si(s,a,ld);return p.multi=[],p.index=o,p.componentProviders=0,MS(p,h,u&&!a),p}(h?lN:Wb,a.length,h,u,I);!h&&qe&&(a[we].providerFactory=it),hm(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(it),_.push(it)}else hm(p,s,ne>-1?ne:we,MS(a[h?we:ne],I,!h&&u));!h&&u&&qe&&a[we].componentProviders++}}}function hm(s,o,a,u){const h=Pl(o),p=function fD(s){return!!s.useClass}(o);if(h||p){const I=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=S.indexOf(a);-1===P?S.push(a,[u,I]):S[P+1].push(u,I)}else S.push(a,I)}}}function MS(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Tv(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function Wb(s,o,a,u){return Kb(this.multi,[])}function lN(s,o,a,u){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Oi(a,a[1],this.providerFactory.index,u);p=w.slice(0,_),Kb(h,p);for(let I=_;I<w.length;I++)p.push(w[I])}else p=[],Kb(h,p);return p}function Kb(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function PS(s,o=[]){return a=>{a.providersResolver=(u,h)=>function qb(s,o,a){const u=Wt();if(u.firstCreatePass){const h=Gr(s);dm(a,u.data,u.blueprint,h,!0),dm(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class bd{}class Sv{}function NS(s,o){return new Id(s,o??null)}class Id extends bd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rg(this);const u=nt(o);this._bootstrapComponents=Ha(u.bootstrap),this._r3Injector=Rl(o,a,[{provide:bd,useValue:this},{provide:Gh,useValue:this.componentFactoryResolver}],de(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Av extends Sv{constructor(o){super(),this.moduleType=o}create(o){return new Id(this.moduleType,o)}}class RS extends bd{constructor(o,a,u){super(),this.componentFactoryResolver=new Rg(this),this.instance=null;const h=new Zp([...o,{provide:bd,useValue:this},{provide:Gh,useValue:this.componentFactoryResolver}],a||Kp(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function fm(s,o,a=null){return new RS(s,o,a).injector}let kS=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=Iw(0,a.type),h=u.length>0?fm([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=nn({token:s,providedIn:"environment",factory:()=>new s(Wn(Nl))}),s})();function LS(s){s.getStandaloneInjector=o=>o.get(kS).getOrCreateStandaloneInjector(s)}function Ov(s,o,a){const u=Jn()+s,h=Ae();return h[u]===$t?sa(h,u,a?o.call(a):o()):pd(h,u)}function Xb(s,o,a,u){return function Lv(s,o,a,u,h,p){const _=o+a;return Vr(s,_,h)?sa(s,_+1,p?u.call(p,h):u(h)):Cd(s,_+1)}(Ae(),Jn(),s,o,a,u)}function ym(s,o,a,u,h){return function Gl(s,o,a,u,h,p,_){const w=o+a;return ao(s,w,h,p)?sa(s,w+2,_?u.call(_,h,p):u(h,p)):Cd(s,w+2)}(Ae(),Jn(),s,o,a,u,h)}function eI(s,o,a,u,h,p,_){return function Fv(s,o,a,u,h,p,_,w,I){const S=o+a;return Ps(s,S,h,p,_,w)?sa(s,S+4,I?u.call(I,h,p,_,w):u(h,p,_,w)):Cd(s,S+4)}(Ae(),Jn(),s,o,a,u,h,p,_)}function Rv(s,o,a,u,h,p,_,w){const I=Jn()+s,S=Ae(),P=Ps(S,I,a,u,h,p);return Vr(S,I+4,_)||P?sa(S,I+5,w?o.call(w,a,u,h,p,_):o(a,u,h,p,_)):pd(S,I+5)}function Cd(s,o){const a=s[o];return a===$t?void 0:a}function _m(s){return o=>{setTimeout(s,void 0,o)}}const oa=class KS extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let h=o,p=a||(()=>null),_=u;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(p=_m(p),h&&(h=_m(h)),_&&(_=_m(_)));const w=super.subscribe({next:h,error:p,complete:_});return o instanceof H.w0&&o.add(w),w}};function oI(){return this._results[Wu()]()}class aI{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Wu(),u=aI.prototype;u[a]||(u[a]=oI)}get changes(){return this._changes||(this._changes=new oa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=fn(o);(this._changesDetected=!function Iu(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vm=(()=>{class s{}return s.__NG_ELEMENT_ID__=Uv,s})();const pN=vm,lI=class extends pN{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tViews,h=ju(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(u)),$u(u,h,o),new fd(h)}};function Uv(){return wm(Qn(),Ae())}function wm(s,o){return 4&s.type?new lI(o,s,ku(s,o)):null}let Em=(()=>{class s{}return s.__NG_ELEMENT_ID__=gN,s})();function gN(){return QS(Qn(),Ae())}const mN=Em,ZS=class extends mN{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const o=xa(this._hostTNode,this._hostLView);if(hh(o)){const a=ws(o,this._hostLView),u=Xn(o);return new Vo(a[1].data[u+8],a)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=YS(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,h),_}createComponent(o,a,u,h,p){const _=o&&!Dl(o);let w;if(_)w=a;else{const L=a||{};w=L.index,u=L.injector,h=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const I=_?o:new vf(N(o)),S=u||this.parentInjector;if(!p&&null==I.ngModule){const W=(_?S:this.parentInjector).get(Nl,null);W&&(p=W)}const P=I.create(S,h,void 0,p);return this.insert(P.hostView,w),P}insert(o,a){const u=o._lView,h=u[1];if(function uu(s){return ti(s[3])}(u)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const L=u[3],W=new ZS(L,L[6],L[3]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function qD(s,o,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=o),u<p-10?(o[4]=a[h],Na(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function $a(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(h,u,_,p);const w=Xh(p,_),I=u[11],S=qa(I,_[7]);return null!==S&&function Ii(s,o,a,u,h,p){u[0]=h,u[6]=o,nd(s,u,a,1,h,p)}(h,_[6],I,u,S,w),o.attachToViewContainerRef(),Na(uI(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=YS(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Fr(this._lContainer,a);u&&(pn(uI(this._lContainer),a),za(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Fr(this._lContainer,a);return u&&null!=pn(uI(this._lContainer),a)?new fd(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function YS(s){return s[8]}function uI(s){return s[8]||(s[8]=[])}function QS(s,o){let a;const u=o[s.index];if(ti(u))a=u;else{let h;if(8&s.type)h=Ln(u);else{const p=o[11];h=p.createComment("");const _=gr(s,o);Vu(p,qa(p,_),h,function WD(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=gf(u,o,h,s),Ng(o,a)}return new ZS(a,s,o)}class cI{constructor(o){this.queryList=o,this.matches=null}clone(){return new cI(this.queryList)}setDirty(){this.queryList.setDirty()}}class bm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new bm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Im(o,a).matches&&this.queries[a].setDirty()}}class XS{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class Hv{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new Hv(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Uf{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Uf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,a,eA(a,p)),this.matchTNodeWithReadOption(o,a,Pa(a,o,p,!1,!1))}else u===vm?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Pa(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===zh||h===Em||h===vm&&4&a.type)this.addMatch(a.index,-2);else{const p=Pa(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function eA(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function nA(s,o,a,u){return-1===a?function tA(s,o){return 11&s.type?ku(s,o):4&s.type?wm(s,o):null}(o,s):-2===a?function rA(s,o,a){return a===zh?ku(o,s):a===vm?wm(o,s):a===Em?QS(o,s):void 0}(s,o,u):Oi(s,s[1],a,o)}function dI(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,_=a.matches,w=[];for(let I=0;I<_.length;I+=2){const S=_[I];w.push(S<0?null:nA(o,p[S],_[I+1],a.metadata.read))}h.matches=w}return h.matches}function jv(s,o,a,u){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=dI(s,o,h,a);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)u.push(_[w/2]);else{const S=p[w+1],P=o[-I];for(let L=10;L<P.length;L++){const W=P[L];W[17]===W[3]&&jv(W[1],W,S,u)}if(null!==P[9]){const L=P[9];for(let W=0;W<L.length;W++){const ne=L[W];jv(ne[1],ne,S,u)}}}}}return u}function hI(s){const o=Ae(),a=Wt(),u=ba();hu(u+1);const h=Im(a,u);if(s.dirty&&function lu(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?jv(a,o,u,[]):dI(a,o,h,u);s.reset(p,As),s.notifyOnChanges()}return!0}return!1}function fI(s,o,a){const u=Wt();u.firstCreatePass&&(sA(u,new XS(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),mI(u,Ae(),o)}function pI(s,o,a,u){const h=Wt();if(h.firstCreatePass){const p=Qn();sA(h,new XS(o,a,u),p.index),function oA(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}mI(h,Ae(),a)}function gI(){return function iA(s,o){return s[19].queries[o].queryList}(Ae(),ba())}function mI(s,o,a){const u=new aI(4==(4&a));gT(s,o,u,u.destroy),null===o[19]&&(o[19]=new bm),o[19].queries.push(new cI(u))}function sA(s,o,a){null===s.queries&&(s.queries=new Hv),s.queries.track(new Uf(o,a))}function Im(s,o){return s.queries.getByIndex(o)}function $v(s,o){return wm(s,o)}function Wl(...s){}const Md=new Sn("Application Initializer");let Nm=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Wl,this.reject=Wl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Gg(p))a.push(p);else if(Ns(p)){const _=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Wn(Md,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xI=new Sn("AppId",{providedIn:"root",factory:function jf(){return`${Om()}${Om()}${Om()}`}});function Om(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zv=new Sn("Platform Initializer"),PI=new Sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$f=new Sn("appBootstrapListener"),Yv=new Sn("AnimationModuleType");let Qv=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Gf=new Sn("LocaleId",{providedIn:"root",factory:()=>C(Gf,Ze.Optional|Ze.SkipSelf)||function Jv(){return typeof $localize<"u"&&$localize.locale||Ju}()}),OI=new Sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Xv{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let RI=(()=>{class s{compileModuleSync(a){return new Av(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Ha(nt(a).declarations).reduce((_,w)=>{const I=N(w);return I&&_.push(new vf(I)),_},[]);return new Xv(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const t0=(()=>Promise.resolve(0))();function n0(s){typeof Zone>"u"?t0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ls{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function yA(){let s=Pt.requestAnimationFrame,o=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function s0(s){const o=()=>{!function LI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,o0(s),s.isCheckStableRunning=!0,r0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),o0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,_,w)=>{try{return km(s),a.invokeTask(h,p,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),a0(s)}},onInvoke:(a,u,h,p,_,w,I)=>{try{return km(s),a.invoke(h,p,_,w,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),a0(s)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,o0(s),r0(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ls.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(ls.isInAngularZone())throw new Ie(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,_A,Wl,Wl);try{return p.runTask(_,a,u)}finally{p.cancelTask(_)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const _A={};function r0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function o0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function km(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function a0(s){s._nesting--,r0(s)}class vA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}const zf=new Sn(""),Lm=new Sn("");let ic,l0=(()=>{class s{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ic||(function wA(s){ic=s}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ls.assertNotInAngularZone(),n0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Wn(ls),Wn(u0),Wn(Lm))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),u0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ic?.findTestabilityInTree(this,a,u)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),nl=null;const c0=new Sn("AllowMultipleToken"),Fm=new Sn("PlatformDestroyListeners");class bA{constructor(o,a){this.name=o,this.token=a}}function f0(s,o,a=[]){const u=`Platform: ${o}`,h=new Sn(u);return(p=[])=>{let _=Vm();if(!_||_.injector.get(c0,!1)){const w=[...a,...p,{provide:h,useValue:!0}];s?s(w):function IA(s){if(nl&&!nl.get(c0,!1))throw new Ie(400,!1);nl=s;const o=s.get(Nd);(function d0(s){const o=s.get(Zv,null);o&&o.forEach(a=>a())})(s)}(function p0(s=[],o){return ta.create({name:o,providers:[{provide:Tw,useValue:"platform"},{provide:Fm,useValue:new Set([()=>nl=null])},...s]})}(w,u))}return function qf(s){const o=Vm();if(!o)throw new Ie(401,!1);return o}()}}function Vm(){return nl?.get(Nd)??null}let Nd=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function g0(s,o){let a;return a="noop"===s?new vA:("zone.js"===s?void 0:s)||new ls(o),a}(u?.ngZone,function Wf(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:ls,useValue:h}];return h.run(()=>{const _=ta.create({providers:p,parent:this.injector,name:a.moduleType.name}),w=a.create(_),I=w.injector.get(Kh,null);if(!I)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:P=>{I.handleError(P)}});w.onDestroy(()=>{Kl(this._modules,w),S.unsubscribe()})}),function Um(s,o,a){try{const u=a();return Gg(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(I,h,()=>{const S=w.injector.get(Nm);return S.runInitializers(),S.donePromise.then(()=>(function dv(s){Gt(s,"Expected localeId to be defined"),"string"==typeof s&&(Ab=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Gf,Ju)||Ju),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,u=[]){const h=m0({},u);return function EA(s,o,a){const u=new Av(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(Kf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ie(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Fm,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Wn(ta))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function m0(s,o){return Array.isArray(o)?o.reduce(m0,s):{...s,...o}}let Kf=(()=>{class s{constructor(a,u,h){this._zone=a,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new O.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{ls.assertNotInAngularZone(),n0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ie.T)(p,_.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof zy;if(!this._injector.get(Nm).done)throw!h&&Oe(a),new Ie(405,false);let _;_=h?a:this._injector.get(Gh).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const w=function Pd(s){return s.isBoundToModule}(_)?void 0:this._injector.get(bd),S=_.create(ta.NULL,[],u||_.selector,w),P=S.location.nativeElement,L=S.injector.get(zf,null);return L?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),Kl(this.components,S),L?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Kl(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get($f,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Kl(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ie(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Wn(ls),Wn(Nl),Wn(Kh))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Kl(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Hm=!0,Zf=!1;function Yf(){return Zf=!0,Hm}function FI(){if(Zf)throw new Error("Cannot enable prod mode after platform setup.");Hm=!1}let _0=(()=>{class s{}return s.__NG_ELEMENT_ID__=UI,s})();function UI(s){return function BI(s,o,a){if(dl(s)&&!a){const u=on(s.index,o);return new fd(u,u)}return 47&s.type?new fd(o[16],o):null}(Qn(),Ae(),16==(16&s))}class jI{constructor(){}supports(o){return wf(o)}create(o){return new SA(o)}}const $I=(s,o)=>o;class SA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$I}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const _=!u||a&&a.currentIndex<kd(u,h,p)?a:u,w=kd(_,h,p),I=_.currentIndex;if(_===u)h--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const S=w-h,P=I-h;if(S!=P){for(let W=0;W<S;W++){const ne=W<p.length?p[W]:p[W]=0,we=ne+W;P<=we&&we<S&&(p[W]=ne+1)}p[_.previousIndex]=P-S}}w!==I&&o(_,w,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!wf(o))throw new Ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],_=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,p,_,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,w),u=!0),a=a._next}else h=0,function PT(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Wu()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,w=>{_=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,w,_,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new AA(a,u),p,h),o}_verifyReinsertion(o,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new GI),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class AA{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class GI{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new xA,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kd(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class sl{constructor(){}supports(o){return o instanceof Map||Lg(o)}create(){return new zI}}class zI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Lg(o)))throw new Ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const u=new qI(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class qI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C0(){return new Yl([new jI])}let Yl=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||C0()),deps:[[s,new ut,new et]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ie(901,!1)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:C0}),s})();function WI(){return new zm([new sl])}let zm=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||WI()),deps:[[s,new ut,new et]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Ie(901,!1)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:WI}),s})();const D0=f0(null,"core",[]);let YI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Wn(Kf))},s.\u0275mod=en({type:s}),s.\u0275inj=Ht({}),s})();function QI(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,Se,k)=>{k.d(Se,{Z:()=>Ie});var c=k(2090),H=k(4859),O=k(9681),ie=k(1877);class ae{constructor(ve,pe){this._delegate=ve,this.firebase=pe,(0,O._addComponent)(ve,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ve,pe=O._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(ve);return!Ke.isInitialized()&&"EXPLICIT"===(null===(Ye=Ke.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:pe})}_removeServiceInstance(ve,pe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(pe)}_addComponent(ve){(0,O._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,O._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ye(){const tt=function de(tt){const ve={},pe={__esModule:!0,initializeApp:function ke(re,le={}){const _e=O.initializeApp(re,le);if((0,c.r3)(ve,_e.name))return ve[_e.name];const Y=new tt(_e,pe);return ve[_e.name]=Y,Y},app:Ke,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ee(re){const le=re.name,_e=le.replace("-compat","");if(O._registerComponent(re)&&"PUBLIC"===re.type){const Y=(J=Ke())=>{if("function"!=typeof J[_e])throw he.create("invalid-app-argument",{appName:le});return J[_e]()};void 0!==re.serviceProps&&(0,c.ZB)(Y,re.serviceProps),pe[_e]=Y,tt.prototype[_e]=function(...J){return this._getService.bind(this,le).apply(this,re.multipleInstances?J:[])}}return"PUBLIC"===re.type?pe[_e]:null},removeApp:function Ye(re){delete ve[re]},useAsService:function $e(re,le){return"serverAuth"===le?null:le},modularAPIs:O}};function Ke(re){if(!(0,c.r3)(ve,re=re||O._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:re});return ve[re]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Me(){return Object.keys(ve).map(re=>ve[re])}}),Ke.App=tt,pe}(ae);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function ve(pe){(0,c.ZB)(tt,pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),tt}(),q=new ie.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=z;!function Ne(tt){(0,O.registerVersion)("@firebase/app-compat","0.2.0",tt)}()},9681:(ht,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>$i,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>tn,_addOrOverwriteComponent:()=>nn,_apps:()=>cn,_clearComponents:()=>xi,_components:()=>In,_getProvider:()=>Ht,_registerComponent:()=>qt,_removeServiceInstance:()=>br,deleteApp:()=>Gi,getApp:()=>$n,getApps:()=>pi,initializeApp:()=>Or,onLog:()=>Gn,registerVersion:()=>Kn,setLogLevel:()=>bn});var c=k(5861),H=k(4859),O=k(1877),ie=k(2090),ae=k(8766);class me{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function he(Je){return"VERSION"===Je.getComponent()?.type}(Xe)){const bt=Xe.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const de="@firebase/app",z=new O.Yd("@firebase/app"),Gt="[DEFAULT]",ze={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,In=new Map;function tn(Je,Ce){try{Je.container.addComponent(Ce)}catch(Xe){z.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Je.name}`,Xe)}}function nn(Je,Ce){Je.container.addOrOverwriteComponent(Ce)}function qt(Je){const Ce=Je.name;if(In.has(Ce))return z.debug(`There were multiple attempts to register component ${Ce}.`),!1;In.set(Ce,Je);for(const Xe of cn.values())tn(Xe,Je);return!0}function Ht(Je,Ce){const Xe=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Je.container.getProvider(Ce)}function br(Je,Ce,Xe=Gt){Ht(Je,Ce).clearInstance(Xe)}function xi(){In.clear()}const Rn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ji{constructor(Ce,Xe,bt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const $i="9.15.0";function Or(Je,Ce={}){let Xe=Je;"object"!=typeof Ce&&(Ce={name:Ce});const bt=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},Ce),xt=bt.name;if("string"!=typeof xt||!xt)throw Rn.create("bad-app-name",{appName:String(xt)});if(Xe||(Xe=(0,ie.aH)()),!Xe)throw Rn.create("no-options");const en=cn.get(xt);if(en){if((0,ie.vZ)(Xe,en.options)&&(0,ie.vZ)(bt,en.config))return en;throw Rn.create("duplicate-app",{appName:xt})}const G=new H.H0(xt);for(const Z of In.values())G.addComponent(Z);const j=new ji(Xe,bt,G);return cn.set(xt,j),j}function $n(Je=Gt){const Ce=cn.get(Je);if(!Ce&&Je===Gt)return Or();if(!Ce)throw Rn.create("no-app",{appName:Je});return Ce}function pi(){return Array.from(cn.values())}function Gi(Je){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(Je){const Ce=Je.name;cn.has(Ce)&&(cn.delete(Ce),yield Promise.all(Je.container.getProviders().map(Xe=>Xe.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function Kn(Je,Ce,Xe){var bt;let xt=null!==(bt=ze[Je])&&void 0!==bt?bt:Je;Xe&&(xt+=`-${Xe}`);const en=xt.match(/\s|\//),G=Ce.match(/\s|\//);if(en||G){const j=[`Unable to register library "${xt}" with version "${Ce}":`];return en&&j.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),en&&G&&j.push("and"),G&&j.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void z.warn(j.join(" "))}qt(new H.wA(`${xt}-version`,()=>({library:xt,version:Ce}),"VERSION"))}function Gn(Je,Ce){if(null!==Je&&"function"!=typeof Je)throw Rn.create("invalid-log-argument");(0,O.Am)(Je,Ce)}function bn(Je){(0,O.Ub)(Je)}const Cn="firebase-heartbeat-store";let Dn=null;function wn(){return Dn||(Dn=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(Je,Ce)=>{0===Ce&&Je.createObjectStore(Cn)}}).catch(Je=>{throw Rn.create("idb-open",{originalErrorMessage:Je.message})})),Dn}function pt(){return(pt=(0,c.Z)(function*(Je){try{return(yield wn()).transaction(Cn).objectStore(Cn).get(Zn(Je))}catch(Ce){if(Ce instanceof ie.ZR)z.warn(Ce.message);else{const Xe=Rn.create("idb-get",{originalErrorMessage:Ce?.message});z.warn(Xe.message)}}})).apply(this,arguments)}function Pt(Je,Ce){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(Je,Ce){try{const bt=(yield wn()).transaction(Cn,"readwrite");return yield bt.objectStore(Cn).put(Ce,Zn(Je)),bt.done}catch(Xe){if(Xe instanceof ie.ZR)z.warn(Xe.message);else{const bt=Rn.create("idb-set",{originalErrorMessage:Xe?.message});z.warn(bt.message)}}})).apply(this,arguments)}function Zn(Je){return`${Je.name}!${Je.options.appId}`}class Rr{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Zt(Xe),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var Ce=this;return(0,c.Z)(function*(){const bt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=Ut();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==xt&&!Ce._heartbeatsCache.heartbeats.some(en=>en.date===xt))return Ce._heartbeatsCache.heartbeats.push({date:xt,agent:bt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(en=>{const G=new Date(en.date).valueOf();return Date.now()-G<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,c.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Xe=Ut(),{heartbeatsToSend:bt,unsentEntries:xt}=function Xr(Je,Ce=1024){const Xe=[];let bt=Je.slice();for(const xt of Je){const en=Xe.find(G=>G.agent===xt.agent);if(en){if(en.dates.push(xt.date),sr(Xe)>Ce){en.dates.pop();break}}else if(Xe.push({agent:xt.agent,dates:[xt.date]}),sr(Xe)>Ce){Xe.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:bt}}(Ce._heartbeatsCache.heartbeats),en=(0,ie.L)(JSON.stringify({version:2,heartbeats:bt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Xe,xt.length>0?(Ce._heartbeatsCache.heartbeats=xt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),en})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,c.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function ft(Je){return pt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Xe=this;return(0,c.Z)(function*(){var bt;if(yield Xe._canUseIndexedDBPromise){const en=yield Xe.read();return Pt(Xe.app,{lastSentHeartbeatDate:null!==(bt=Ce.lastSentHeartbeatDate)&&void 0!==bt?bt:en.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Xe=this;return(0,c.Z)(function*(){var bt;if(yield Xe._canUseIndexedDBPromise){const en=yield Xe.read();return Pt(Xe.app,{lastSentHeartbeatDate:null!==(bt=Ce.lastSentHeartbeatDate)&&void 0!==bt?bt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...Ce.heartbeats]})}})()}}function sr(Je){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function xn(Je){qt(new H.wA("platform-logger",Ce=>new me(Ce),"PRIVATE")),qt(new H.wA("heartbeat",Ce=>new Rr(Ce),"PRIVATE")),Kn(de,"0.9.0",Je),Kn(de,"0.9.0","esm2017"),Kn("fire-js","")}("")},4859:(ht,Se,k)=>{k.d(Se,{H0:()=>de,wA:()=>O});var c=k(5861),H=k(2090);class O{constructor(z,q,Q){this.name=z,this.instanceFactory=q,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ie="[DEFAULT]";class ae{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const Q=new H.BH;if(this.instancesDeferred.set(q,Q),this.isInitialized(q)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:q});Be&&Q.resolve(Be)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const Q=this.normalizeInstanceIdentifier(z?.identifier),Be=null!==(q=z?.optional)&&void 0!==q&&q;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ne){if(Be)return null;throw Ne}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function he(ye){return"EAGER"===ye.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[q,Q]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(q);try{const Ne=this.getOrInitializeService({instanceIdentifier:Be});Q.resolve(Ne)}catch{}}}}clearInstance(z=ie){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,c.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...q.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ie){return this.instances.has(z)}getOptions(z=ie){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Q,options:q});for(const[Ne,Ie]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ne)&&Ie.resolve(Be);return Be}onInit(z,q){var Q;const Be=this.normalizeInstanceIdentifier(q),Ne=null!==(Q=this.onInitCallbacks.get(Be))&&void 0!==Q?Q:new Set;Ne.add(z),this.onInitCallbacks.set(Be,Ne);const Ie=this.instances.get(Be);return Ie&&z(Ie,Be),()=>{Ne.delete(z)}}invokeOnInitCallbacks(z,q){const Q=this.onInitCallbacks.get(q);if(Q)for(const Be of Q)try{Be(z,q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=z,ye===ie?void 0:ye),options:q}),this.instances.set(z,Q),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var ye;return Q||null}normalizeInstanceIdentifier(z=ie){return this.component?this.component.multipleInstances?z:ie:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new ae(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Se,k)=>{k.d(Se,{Am:()=>ye,Ub:()=>de,Yd:()=>he,in:()=>H});const c=[];var H=(()=>{return(z=H||(H={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",H;var z})();const O={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ie=H.INFO,ae={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},me=(z,q,...Q)=>{if(q<z.logLevel)return;const Be=(new Date).toISOString(),Ne=ae[q];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ne](`[${Be}]  ${z.name}:`,...Q)};class he{constructor(q){this.name=q,this._logLevel=ie,this._logHandler=me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in H))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?O[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...q),this._logHandler(this,H.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...q),this._logHandler(this,H.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,H.INFO,...q),this._logHandler(this,H.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,H.WARN,...q),this._logHandler(this,H.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...q),this._logHandler(this,H.ERROR,...q)}}function de(z){c.forEach(q=>{q.setLogLevel(z)})}function ye(z,q){for(const Q of c){let Be=null;q&&q.level&&(Be=O[q.level]),Q.userLogHandler=null===z?null:(Ne,Ie,...tt)=>{const ve=tt.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");Ie>=(Be??Ne.logLevel)&&z({level:H[Ie].toLowerCase(),message:ve,args:tt,type:Ne.name})}}}},259:(ht,Se,k)=>{k.d(Se,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=k(9681);(0,c.registerVersion)("firebase","9.15.0","app")},9260:(ht,Se,k)=>{k.d(Se,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(ht,Se,k)=>{k.r(Se);var c=k(5861),H=k(3942),O=k(552),ie=k(2090),he=(k(9681),k(1877),k(4859));function de(){return window}function q(){return(q=(0,c.Z)(function*(U,N,F){var te;const{BuildInfo:Oe}=de();(0,O.ap)(N.sessionId,"AuthEvent did not contain a session ID");const nt=yield pe(N.sessionId),ot={};return(0,O.aq)()?ot.ibi=Oe.packageName:(0,O.ar)()?ot.apn=Oe.packageName:(0,O.as)(U,"operation-not-supported-in-this-environment"),Oe.displayName&&(ot.appDisplayName=Oe.displayName),ot.sessionId=nt,(0,O.at)(U,F,N.type,void 0,null!==(te=N.eventId)&&void 0!==te?te:void 0,ot)})).apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(U){const{BuildInfo:N}=de(),F={};(0,O.aq)()?F.iosBundleId=N.packageName:(0,O.ar)()?F.androidPackageName=N.packageName:(0,O.as)(U,"operation-not-supported-in-this-environment"),yield(0,O.au)(U,F)})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(U,N,F){const{cordova:te}=de();let Oe=()=>{};try{yield new Promise((nt,ot)=>{let Te=null;function Fe(){var Vt;nt();const hn=null===(Vt=te.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof hn&&hn(),"function"==typeof F?.close&&F.close()}function Rt(){Te||(Te=window.setTimeout(()=>{ot((0,O.aw)(U,"redirect-cancelled-by-user"))},2e3))}function dn(){"visible"===document?.visibilityState&&Rt()}N.addPassiveListener(Fe),document.addEventListener("resume",Rt,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",dn,!1),Oe=()=>{N.removePassiveListener(Fe),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",dn,!1),Te&&window.clearTimeout(Te)}})}finally{Oe()}})).apply(this,arguments)}function pe(U){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(U){const N=Ke(U),F=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(F)).map(Oe=>Oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ke(U){if((0,O.ap)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const N=new ArrayBuffer(U.length),F=new Uint8Array(N);for(let te=0;te<U.length;te++)F[te]=U.charCodeAt(te);return F}class Me extends O.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(N)),super.onEvent(N)}initialized(){var N=this;return(0,c.Z)(function*(){yield N.initPromise})()}}function re(U){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(U){const N=yield J()._get(fe(U));return N&&(yield J()._remove(fe(U))),N})).apply(this,arguments)}function Y(){const U=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<20;F++){const te=Math.floor(Math.random()*N.length);U.push(N.charAt(te))}return U.join("")}function J(){return(0,O.az)(O.b)}function fe(U){return(0,O.aA)("authEvent",U.config.apiKey,U.name)}function Ue(U){if(!U?.includes("?"))return{};const[N,...F]=U.split("?");return(0,ie.zd)(F.join("?"))}function ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function qt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function br(U=(0,ie.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()&&"capacitor:"!==qt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function $i(){try{const U=self.localStorage,N=O.aI();if(U)return U.setItem(N,"1"),U.removeItem(N),!function ji(U=(0,ie.z$)()){return function Nr(){return(0,ie.w1)()&&11===document?.documentMode}()||function Rn(U=(0,ie.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,ie.hl)()}catch{return Or()&&(0,ie.hl)()}return!1}function Or(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function Ht(){return"http:"===qt()||"https:"===qt()}()||(0,ie.ru)()||br())&&!function xi(){return(0,ie.b$)()||(0,ie.UG)()}()&&$i()&&!Or()}function pi(){return br()&&typeof document<"u"}function Ze(){return(Ze=(0,c.Z)(function*(){return!!pi()&&new Promise(U=>{const N=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),U(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},bn=O.ax,lr="persistence";function Cn(U){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(U){yield U._initializationPromise;const N=ft(),F=O.aA(lr,U.config.apiKey,U.name);N&&N.setItem(F,U._getPersistence())})).apply(this,arguments)}function ft(){var U;try{return(null===(U=function Kn(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const pt=O.ax;class Pt{constructor(){this.browserResolver=O.az(O.k),this.cordovaResolver=O.az(class rn{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(N){var F=this;return(0,c.Z)(function*(){const te=N._key();let Oe=F.eventManagers.get(te);return Oe||(Oe=new Me(N),F.eventManagers.set(te,Oe),F.attachCallbackListeners(N,Oe)),Oe})()}_openPopup(N){(0,O.as)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,F,te,Oe){var nt=this;return(0,c.Z)(function*(){!function ve(U){var N,F,te,Oe,nt,ot,Te,Fe,Rt,dn;const Vt=de();(0,O.ax)("function"==typeof(null===(N=Vt?.universalLinks)||void 0===N?void 0:N.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(F=Vt?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(nt=null===(Oe=null===(te=Vt?.cordova)||void 0===te?void 0:te.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===nt?void 0:nt.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(Fe=null===(Te=null===(ot=Vt?.cordova)||void 0===ot?void 0:ot.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===Fe?void 0:Fe.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(dn=null===(Rt=Vt?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===dn?void 0:dn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const ot=yield nt._initialize(N);yield ot.initialized(),ot.resetRedirect(),(0,O.aD)(),yield nt._originValidation(N);const Te=function Ee(U,N,F=null){return{type:N,eventId:F,urlResponse:null,sessionId:Y(),postBody:null,tenantId:U.tenantId,error:(0,O.aw)(U,"no-auth-event")}}(N,te,Oe);yield function $e(U,N){return J()._set(fe(U),N)}(N,Te);const Fe=yield function z(U,N,F){return q.apply(this,arguments)}(N,Te,F),Rt=yield function Ne(U){const{cordova:N}=de();return new Promise(F=>{N.plugins.browsertab.isAvailable(te=>{let Oe=null;te?N.plugins.browsertab.openUrl(U):Oe=N.InAppBrowser.open(U,(0,O.av)()?"_blank":"_system","location=yes"),F(Oe)})})}(Fe);return function Ie(U,N,F){return tt.apply(this,arguments)}(N,ot,Rt)})()}_isIframeWebStorageSupported(N,F){throw new Error("Method not implemented.")}_originValidation(N){const F=N._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function Q(U){return Be.apply(this,arguments)}(N)),this.originValidationPromises[F]}attachCallbackListeners(N,F){const{universalLinks:te,handleOpenURL:Oe,BuildInfo:nt}=de(),ot=setTimeout((0,c.Z)(function*(){yield re(N),F.onEvent(ze())}),500),Te=function(){var dn=(0,c.Z)(function*(Vt){clearTimeout(ot);const hn=yield re(N);let zi=null;hn&&Vt?.url&&(zi=function _e(U,N){var F,te;const Oe=function Ve(U){const N=Ue(U),F=N.link?decodeURIComponent(N.link):void 0,te=Ue(F).link,Oe=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return Ue(Oe).link||Oe||te||F||U}(N);if(Oe.includes("/__/auth/callback")){const nt=Ue(Oe),ot=nt.firebaseError?function se(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(nt.firebaseError)):null,Te=null===(te=null===(F=ot?.code)||void 0===F?void 0:F.split("auth/"))||void 0===te?void 0:te[1],Fe=Te?(0,O.aw)(Te):null;return Fe?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Oe,postBody:null}}return null}(hn,Vt.url)),F.onEvent(zi||ze())});return function(hn){return dn.apply(this,arguments)}}();typeof te<"u"&&"function"==typeof te.subscribe&&te.subscribe(null,Te);const Fe=Oe,Rt=`${nt.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var dn=(0,c.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(Rt)&&Te({url:Vt}),"function"==typeof Fe)try{Fe(Vt)}catch(hn){console.error(hn)}});return function(Vt){return dn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(N){var F=this;return(0,c.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,F,te,Oe){var nt=this;return(0,c.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openPopup(N,F,te,Oe)})()}_openRedirect(N,F,te,Oe){var nt=this;return(0,c.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openRedirect(N,F,te,Oe)})()}_isIframeWebStorageSupported(N,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,F)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return pi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,c.Z)(function*(){if(N.underlyingResolver)return;const F=yield function Gi(){return Ze.apply(this,arguments)}();N.underlyingResolver=F?N.cordovaResolver:N.browserResolver})()}}function jr(U){return U.unwrap()}function Ir(U){return Rr(U)}function Rr(U){const{_tokenResponse:N}=U instanceof ie.ZR?U.customData:U;if(!N)return null;if(!(U instanceof ie.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return O.P.credentialFromResult(U);const F=N.providerId;if(!F||F===O.o.PASSWORD)return null;let te;switch(F){case O.o.GOOGLE:te=O.Q;break;case O.o.FACEBOOK:te=O.N;break;case O.o.GITHUB:te=O.T;break;case O.o.TWITTER:te=O.W;break;default:const{oauthIdToken:Oe,oauthAccessToken:nt,oauthTokenSecret:ot,pendingToken:Te,nonce:Fe}=N;return nt||ot||Oe||Te?Te?F.startsWith("saml.")?O.aL._create(F,Te):O.J._fromParams({providerId:F,signInMethod:F,pendingToken:Te,idToken:Oe,accessToken:nt}):new O.U(F).credential({idToken:Oe,accessToken:nt,rawNonce:Fe}):null}return U instanceof ie.ZR?te.credentialFromError(U):te.credentialFromResult(U)}function Ut(U,N){return N.catch(F=>{throw F instanceof ie.ZR&&function At(U,N){var F;const te=null===(F=N.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new sr(U,O.an(U,N));else if(te){const Oe=Rr(N),nt=N;Oe&&(nt.credential=Oe,nt.tenantId=te.tenantId||void 0,nt.email=te.email||void 0,nt.phoneNumber=te.phoneNumber||void 0)}}(U,F),F}).then(F=>{const Oe=F.user;return{operationType:F.operationType,credential:Ir(F),additionalUserInfo:O.al(F),user:xn.getOrCreate(Oe)}})}function Xr(U,N){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(U,N){const F=yield N;return{verificationId:F.verificationId,confirm:te=>Ut(U,F.confirm(te))}})).apply(this,arguments)}class sr{constructor(N,F){this.resolver=F,this.auth=function Zn(U){return U.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Ut(jr(this.auth),this.resolver.resolveSignIn(N))}}class xn{constructor(N){this._delegate=N,this.multiFactor=O.ao(N)}static getOrCreate(N){return xn.USER_MAP.has(N)||xn.USER_MAP.set(N,new xn(N)),xn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var F=this;return(0,c.Z)(function*(){return Ut(F.auth,O.Z(F._delegate,N))})()}linkWithPhoneNumber(N,F){var te=this;return(0,c.Z)(function*(){return Xr(te.auth,O.l(te._delegate,N,F))})()}linkWithPopup(N){var F=this;return(0,c.Z)(function*(){return Ut(F.auth,O.d(F._delegate,N,Pt))})()}linkWithRedirect(N){var F=this;return(0,c.Z)(function*(){return yield Cn(O.aE(F.auth)),O.g(F._delegate,N,Pt)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var F=this;return(0,c.Z)(function*(){return Ut(F.auth,O._(F._delegate,N))})()}reauthenticateWithPhoneNumber(N,F){return Xr(this.auth,O.r(this._delegate,N,F))}reauthenticateWithPopup(N){return Ut(this.auth,O.e(this._delegate,N,Pt))}reauthenticateWithRedirect(N){var F=this;return(0,c.Z)(function*(){return yield Cn(O.aE(F.auth)),O.h(F._delegate,N,Pt)})()}sendEmailVerification(N){return O.ab(this._delegate,N)}unlink(N){var F=this;return(0,c.Z)(function*(){return yield O.ak(F._delegate,N),F})()}updateEmail(N){return O.ag(this._delegate,N)}updatePassword(N){return O.ah(this._delegate,N)}updatePhoneNumber(N){return O.u(this._delegate,N)}updateProfile(N){return O.af(this._delegate,N)}verifyBeforeUpdateEmail(N,F){return O.ac(this._delegate,N,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xn.USER_MAP=new WeakMap;const Je=O.ax;let Ce=(()=>{class U{constructor(F,te){if(this.app=F,te.isInitialized())return this._delegate=te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=F.options;Je(Oe,"invalid-api-key",{appName:F.name}),Je(Oe,"invalid-api-key",{appName:F.name});const nt=typeof window<"u"?Pt:void 0;this._delegate=te.initialize({options:{persistence:bt(Oe,F.name),popupRedirectResolver:nt}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,te){O.G(this._delegate,F,te)}applyActionCode(F){return O.a2(this._delegate,F)}checkActionCode(F){return O.a3(this._delegate,F)}confirmPasswordReset(F,te){return O.a1(this._delegate,F,te)}createUserWithEmailAndPassword(F,te){var Oe=this;return(0,c.Z)(function*(){return Ut(Oe._delegate,O.a5(Oe._delegate,F,te))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return O.aa(this._delegate,F)}isSignInWithEmailLink(F){return O.a8(this._delegate,F)}getRedirectResult(){var F=this;return(0,c.Z)(function*(){Je($n(),F._delegate,"operation-not-supported-in-this-environment");const te=yield O.j(F._delegate,Pt);return te?Ut(F._delegate,Promise.resolve(te)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function cn(U,N){(0,O.aE)(U)._logFramework(N)}(this._delegate,F)}onAuthStateChanged(F,te,Oe){const{next:nt,error:ot,complete:Te}=Xe(F,te,Oe);return this._delegate.onAuthStateChanged(nt,ot,Te)}onIdTokenChanged(F,te,Oe){const{next:nt,error:ot,complete:Te}=Xe(F,te,Oe);return this._delegate.onIdTokenChanged(nt,ot,Te)}sendSignInLinkToEmail(F,te){return O.a7(this._delegate,F,te)}sendPasswordResetEmail(F,te){return O.a0(this._delegate,F,te||void 0)}setPersistence(F){var te=this;return(0,c.Z)(function*(){let Oe;switch(function Ls(U,N){bn(Object.values(Gn).includes(N),U,"invalid-persistence-type"),(0,ie.b$)()?bn(N!==Gn.SESSION,U,"unsupported-persistence-type"):(0,ie.UG)()?bn(N===Gn.NONE,U,"unsupported-persistence-type"):Or()?bn(N===Gn.NONE||N===Gn.LOCAL&&(0,ie.hl)(),U,"unsupported-persistence-type"):bn(N===Gn.NONE||$i(),U,"unsupported-persistence-type")}(te._delegate,F),F){case Gn.SESSION:Oe=O.a;break;case Gn.LOCAL:Oe=(yield O.az(O.i)._isAvailable())?O.i:O.b;break;case Gn.NONE:Oe=O.L;break;default:return O.as("argument-error",{appName:te._delegate.name})}return te._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Ut(this._delegate,O.X(this._delegate))}signInWithCredential(F){return Ut(this._delegate,O.Y(this._delegate,F))}signInWithCustomToken(F){return Ut(this._delegate,O.$(this._delegate,F))}signInWithEmailAndPassword(F,te){return Ut(this._delegate,O.a6(this._delegate,F,te))}signInWithEmailLink(F,te){return Ut(this._delegate,O.a9(this._delegate,F,te))}signInWithPhoneNumber(F,te){return Xr(this._delegate,O.s(this._delegate,F,te))}signInWithPopup(F){var te=this;return(0,c.Z)(function*(){return Je($n(),te._delegate,"operation-not-supported-in-this-environment"),Ut(te._delegate,O.c(te._delegate,F,Pt))})()}signInWithRedirect(F){var te=this;return(0,c.Z)(function*(){return Je($n(),te._delegate,"operation-not-supported-in-this-environment"),yield Cn(te._delegate),O.f(te._delegate,F,Pt)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return O.a4(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=Gn,U})();function Xe(U,N,F){let te=U;"function"!=typeof U&&({next:te,error:N,complete:F}=U);const Oe=te;return{next:ot=>Oe(ot&&xn.getOrCreate(ot)),error:N,complete:F}}function bt(U,N){const F=function wn(U,N){const F=ft();if(!F)return[];const te=O.aA(lr,U,N);switch(F.getItem(te)){case Gn.NONE:return[O.L];case Gn.LOCAL:return[O.i,O.a];case Gn.SESSION:return[O.a];default:return[]}}(U,N);if(typeof self<"u"&&!F.includes(O.i)&&F.push(O.i),typeof window<"u")for(const te of[O.b,O.a])F.includes(te)||F.push(te);return F.includes(O.L)||F.push(O.L),F}class xt{constructor(){this.providerId="phone",this._delegate=new O.P(jr(H.Z.auth()))}static credential(N,F){return O.P.credential(N,F)}verifyPhoneNumber(N,F){return this._delegate.verifyPhoneNumber(N,F)}unwrap(){return this._delegate}}xt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,xt.PROVIDER_ID=O.P.PROVIDER_ID;const en=O.ax;class G{constructor(N,F,te=H.Z.app()){var Oe;en(null===(Oe=te.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:te.name}),this._delegate=new O.R(N,F,te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(U){U.INTERNAL.registerComponent(new he.wA("auth-compat",N=>{const F=N.getProvider("app-compat").getImmediate(),te=N.getProvider("auth");return new Ce(F,te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:xt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:G,TwitterAuthProvider:O.W,Auth:Ce,AuthCredential:O.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.3.0")}(H.Z)},8766:(ht,Se,k)=>{k.d(Se,{Lj:()=>ke,X3:()=>Ke});var c=k(5861);let O,ie;const he=new WeakMap,de=new WeakMap,ye=new WeakMap,z=new WeakMap,q=new WeakMap;let Ne={get(le,_e,Y){if(le instanceof IDBTransaction){if("done"===_e)return de.get(le);if("objectStoreNames"===_e)return le.objectStoreNames||ye.get(le);if("store"===_e)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return pe(le[_e])},set:(le,_e,Y)=>(le[_e]=Y,!0),has:(le,_e)=>le instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in le};function ve(le){return"function"==typeof le?function tt(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(..._e){return le.apply(Ye(this),_e),pe(he.get(this))}:function(..._e){return pe(le.apply(Ye(this),_e))}:function(_e,...Y){const J=le.call(Ye(this),_e,...Y);return ye.set(J,_e.sort?_e.sort():[_e]),pe(J)}}(le):(le instanceof IDBTransaction&&function Be(le){if(de.has(le))return;const _e=new Promise((Y,J)=>{const fe=()=>{le.removeEventListener("complete",se),le.removeEventListener("error",Ve),le.removeEventListener("abort",Ve)},se=()=>{Y(),fe()},Ve=()=>{J(le.error||new DOMException("AbortError","AbortError")),fe()};le.addEventListener("complete",se),le.addEventListener("error",Ve),le.addEventListener("abort",Ve)});de.set(le,_e)}(le),((le,_e)=>_e.some(Y=>le instanceof Y))(le,function ae(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Ne):le)}function pe(le){if(le instanceof IDBRequest)return function Q(le){const _e=new Promise((Y,J)=>{const fe=()=>{le.removeEventListener("success",se),le.removeEventListener("error",Ve)},se=()=>{Y(pe(le.result)),fe()},Ve=()=>{J(le.error),fe()};le.addEventListener("success",se),le.addEventListener("error",Ve)});return _e.then(Y=>{Y instanceof IDBCursor&&he.set(Y,le)}).catch(()=>{}),q.set(_e,le),_e}(le);if(z.has(le))return z.get(le);const _e=ve(le);return _e!==le&&(z.set(le,_e),q.set(_e,le)),_e}const Ye=le=>q.get(le);function Ke(le,_e,{blocked:Y,upgrade:J,blocking:fe,terminated:se}={}){const Ve=indexedDB.open(le,_e),Ue=pe(Ve);return J&&Ve.addEventListener("upgradeneeded",_t=>{J(pe(Ve.result),_t.oldVersion,_t.newVersion,pe(Ve.transaction))}),Y&&Ve.addEventListener("blocked",()=>Y()),Ue.then(_t=>{se&&_t.addEventListener("close",()=>se()),fe&&_t.addEventListener("versionchange",()=>fe())}).catch(()=>{}),Ue}function ke(le,{blocked:_e}={}){const Y=indexedDB.deleteDatabase(le);return _e&&Y.addEventListener("blocked",()=>_e()),pe(Y).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],$e=new Map;function re(le,_e){if(!(le instanceof IDBDatabase)||_e in le||"string"!=typeof _e)return;if($e.get(_e))return $e.get(_e);const Y=_e.replace(/FromIndex$/,""),J=_e!==Y,fe=Ee.includes(Y);if(!(Y in(J?IDBIndex:IDBObjectStore).prototype)||!fe&&!Me.includes(Y))return;const se=function(){var Ve=(0,c.Z)(function*(Ue,..._t){const rn=this.transaction(Ue,fe?"readwrite":"readonly");let Gt=rn.store;return J&&(Gt=Gt.index(_t.shift())),(yield Promise.all([Gt[Y](..._t),fe&&rn.done]))[0]});return function(_t){return Ve.apply(this,arguments)}}();return $e.set(_e,se),se}!function Ie(le){Ne=le(Ne)}(le=>({...le,get:(_e,Y,J)=>re(_e,Y)||le.get(_e,Y,J),has:(_e,Y)=>!!re(_e,Y)||le.has(_e,Y)}))},5861:(ht,Se,k)=>{function c(O,ie,ae,me,he,de,ye){try{var z=O[de](ye),q=z.value}catch(Q){return void ae(Q)}z.done?ie(q):Promise.resolve(q).then(me,he)}function H(O){return function(){var ie=this,ae=arguments;return new Promise(function(me,he){var de=O.apply(ie,ae);function ye(q){c(de,me,he,ye,z,"next",q)}function z(q){c(de,me,he,ye,z,"throw",q)}ye(void 0)})}}k.d(Se,{Z:()=>H})}},ht=>{ht(ht.s=9138)}]);