<div class="card p-3">
  <p-table responsiveLayout="stack" [value]="pdfs">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th>Id</th>
        <th class="pdfName">PDF Name</th>
        <th>Doc Type</th>
        <th>Color Mode</th>
        <th>Print Range</th>
        <th>Total Page</th>
        <th>Total Cost</th>
        <th>Status</th>
        <th>Payment</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-pdf let-columns="columns">
      <tr>
        <td><span class="p-column-title">Id</span>{{ pdf.pdfOrderRequestTxnId }}</td>
        <td><span class="p-column-title">PDF Name</span>{{ pdf.pdfName }}</td>
        <td>
          <span class="p-column-title">Doc Type</span
          >{{ pdf.docType == "1" ? "Standard" : "Official" }}
        </td>
        <td>
          <span class="p-column-title">Color Mode</span
          >{{
            pdf.colorMode == "1"
              ? "B/W"
              : pdf.colorMode == "2"
              ? "Color"
              : "Photo"
          }}
        </td>
        <td>
          <span class="p-column-title">Print Range</span>{{ pdf.printRange }}
        </td>
        <td>
          <span class="p-column-title">Total Page</span>{{ pdf.totalPage }}
        </td>
        <td>
          <span class="p-column-title">Total Cost</span>{{ pdf.totalCost }}
        </td>
        <td>
          <span class="p-column-title">Status</span
          >{{
            pdf.docStatus == "0"
              ? "Pending"
              : pdf.docStatus == "1"
              ? "Approved"
              : "Rejected"
          }}
        </td>
        <td>
          <span class="p-column-title">Payment</span>{{ pdf.payment_status }}
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<!-- laundry order history -->
<!-- <div>laundry order details</div>
<div *ngFor="let item of laundryOrderDetails; index as i">
  <div *ngFor="let items of item; index as j">
    <div *ngIf="j == 0">
      <span>{{ laundryOrderDetails[i][j].amount }}</span>
      <span>{{ laundryOrderDetails[i][j].client_txn_id }}</span>
      <span>{{ laundryOrderDetails[i][j].customer_email }}</span>
      <span>{{ laundryOrderDetails[i][j].customer_mobile }}</span>
      <span>{{ laundryOrderDetails[i][j].customer_name }}</span>
      <span>{{ laundryOrderDetails[i][j].status }}</span>
    </div>
    <div *ngIf="j == 1">
      <div *ngFor="let itemss of items; index as k">
        <span>{{ laundryOrderDetails[i][j][k].amount }}</span>
        <span>{{ laundryOrderDetails[i][j][k].clothType }}</span>
        <span>{{ laundryOrderDetails[i][j][k].clothTypeSection }}</span>
        <span>{{ laundryOrderDetails[i][j][k].quantity }}</span>
      </div>
    </div>
  </div>
</div> -->
<div class="container-fluid">
  <div class="laundryHeaderTextContainer">
    <div class="laundryOrderHeaderText">laundry Order History</div>
  </div>
  <div class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">id</th>
          <th scope="col">amount</th>
          <!-- <th scope="col">customer_email</th> -->
          <!-- <th scope="col">customer_mobile</th> -->
          <!-- <th scope="col">customer_name</th> -->
          <th scope="col">status</th>
          <th scope="col">payment status</th>
          <th scope="col">couponCode</th>
          <th scope="col">couponDiscount</th>
          <th scope="col">paymentMode</th>
          <th scope="col">finalAmountAfterDiscount</th>
          <th scope="col">order Details</th>
        </tr>
      </thead>
      <tbody>
        <tr class="" *ngFor="let item of laundryOrderDetails; index as i">
          <td>{{ laundryOrderDetails[i][0].laundryOrderRequestTxnId }}</td>
          <td>{{ laundryOrderDetails[i][0].amount }}</td>
          <!-- <td>{{ laundryOrderDetails[i][0].customer_email }}</td> -->
          <!-- <td>{{ laundryOrderDetails[i][0].customer_mobile }}</td> -->
          <!-- <td>{{ laundryOrderDetails[i][0].customer_name }}</td> -->

          <td>{{ laundryOrderDetails[i][0].status }}
          </td>
          <td>{{ laundryOrderDetails[i][0].paymentStatus }}</td>
          <td>{{ laundryOrderDetails[i][0].couponCode }}</td>
          <td>{{ laundryOrderDetails[i][0].couponDiscount }}</td>
          <td>{{ laundryOrderDetails[i][0].paymentMode }}</td>
          <td>{{ laundryOrderDetails[i][0].finalAmountAfterDiscount }}</td>

          <td>
            <!-- <button (click)="showtable(i)">show</button> -->
            <p-button
              (click)="showDialog(i)"
              icon="pi pi-external-link"
              label="Show"
            ></p-button>
          </td>
          <!-- <table id= {{i}} class="d-none">
              <thead>
                <tr>
                  <th scope="col">amount</th>
                  <th scope="col">clothType</th>
                  <th scope="col">clothTypeSection</th>
                  <th scope="col">quantity</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of  laundryOrderDetails[i][1];index as j">
                  <td>{{laundryOrderDetails[i][1][j].amount}}</td>
                  <td>{{laundryOrderDetails[i][1][j].clothType}}</td>
                  <td>{{laundryOrderDetails[i][1][j].clothTypeSection}}</td>
                  <td>{{laundryOrderDetails[i][1][j].quantity}}</td>
                </tr>
              </tbody>
            </table> -->
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="card flex justify-content-center">
  <p-dialog header="Order Details" [(visible)]="visible" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }" [draggable]="true" [resizable]="true">
    <div *ngFor="let item of laundryOrderDetails; index as i">
      <div *ngIf="i == showtableindex" class="tableContainer">

        <table class="w-100" >
          <thead>
            <tr>
              <th scope="col">amount</th>
              <th scope="col">clothType</th>
              <th scope="col">clothTypeSection</th>
              <th scope="col">quantity</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of laundryOrderDetails[i][1]; index as j">
              <td>{{ laundryOrderDetails[i][1][j].amount }}</td>
              <td>{{ laundryOrderDetails[i][1][j].clothType }}</td>
              <td>{{ laundryOrderDetails[i][1][j].clothTypeSection }}</td>
              <td>{{ laundryOrderDetails[i][1][j].quantity }}</td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
  </p-dialog>
</div>
